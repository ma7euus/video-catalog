(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{340:function(e,t){e.exports="data:image/png;base64,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"},366:function(e,t,a){e.exports=a(475)},371:function(e,t,a){},372:function(e,t,a){},475:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(16),i=a.n(o),c=(a(371),a(372),a(15)),l=a(298),s=a(506),u=a(319),d=a(66),m=a(320),p=a(340),f=a.n(p),g=a(11),b=a(186),h=a(345),v=a(318),E=a(353),O=a.n(E),x=a(503),j=a(230),y=Object(l.a)({title:{color:"#999999"}}),S=function(e){var t=y();return r.createElement(x.a,null,r.createElement(d.a,{className:t.title,component:"h1",variant:"h5"},e.title),r.createElement(j.a,{paddingTop:2},e.children))},P=function(e){return r.createElement(S,{title:"Dashboard"})},F=a(520),C=a(26),k=a(84),w=a.n(k),T=a(9),R=a.n(T),I=a(20),A=a(12),D=a(29),N=a(116),L=a(117),B=a(91),M=a.n(B),q=a(341),_=function(){function e(t,a){Object(N.a)(this,e),this.http=t,this.resource=a,this.cancelList=null}return Object(L.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("list request cancelled"),this.cancelList=M.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,a){var r=t;this.containsFile(t)&&(r=this.getFormData(t));var n=a||{},o=n.http,i=n.config;return a&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),r,i):this.http.put("".concat(this.resource,"/").concat(e),r,i)}},{key:"partialUpdate",value:function(e,t,a){var r=t;this.containsFile(t)&&(r=this.getFormData(t));var n=a||{},o=n.http,i=n.config;return a&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),r,i):this.http.patch("".concat(this.resource,"/").concat(e),r,i)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelledRequest",value:function(e){return M.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(q.a)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}(),V=a(64),U=M.a.create({baseURL:"http://localhost:8000/api"}),G=[U];var z=new _(U,"categories"),H=a(531),W=a(505),Y=(new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format,function(e,t){return H.a(W.a(e),t)}),Q=a(342),X=a.n(Q),Z=a(43),K=a(19),J=a(522),$=a(504),ee=a(193),te=a(355),ae=a(356),re=a(142),ne=a(324),oe=a(236),ie=a.n(oe),ce=a(237),le=a.n(ce),se=a(4),ue=function(e){Object(ae.a)(a,e);var t=Object(te.a)(a);function a(e){var r;Object(N.a)(this,a),(r=t.call(this,e)).handleTextChange=function(e){var t=e.target.value;r.setState({text:t},(function(){return r.debouncedOnSearch(t)}))},r.debouncedOnSearch=function(e){r.props.onSearch(e)},r.onKeyDown=function(e){27===e.keyCode&&r.props.onHide()};var n=r.props.searchText,o=n;return n&&void 0!==n.value&&(o=n.value),r.state={text:o},r.debouncedOnSearch=Object(Z.debounce)(r.debouncedOnSearch.bind(Object(ee.a)(r)),r.props.debounceTime),r}return Object(L.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentDidUpdate",value:function(e,t,a){var r=this,n=this.props.searchText;if(n&&void 0!==n.value&&e!==this.props.searchText){var o=n.value;if(o)this.setState({text:o},(function(){return r.props.onSearch(o)}));else try{this.props.onHide()}catch(i){}}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.options,o=t.onHide,i=this.state.text;return n.a.createElement(re.a,{appear:!0,in:!0,timeout:300},n.a.createElement("div",{className:a.main,ref:function(t){return e.rootRef=t}},n.a.createElement(ie.a,{className:a.searchIcon}),n.a.createElement(ne.a,{className:a.searchText,autoFocus:!0,InputProps:{"data-test-id":r.textLabels.toolbar.search,"aria-label":r.textLabels.toolbar.search},value:i||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(t){return e.searchField=t},placeholder:r.searchPlaceholder}),n.a.createElement(b.a,{className:a.clearIcon,onClick:o},n.a.createElement(le.a,null))))}}]),a}(n.a.PureComponent),de=Object(se.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"})(ue),me=function(){var e=Object(r.useState)(!1),t=Object(g.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({data:[]}),i=Object(g.a)(o,2),c=i[0],l=i[1];return Object(r.useEffect)((function(){c.data.length&&n(!0)}),[c]),{openDeleteDialog:a,setOpenDeleteDialog:n,rowsToDelete:c,setRowsToDelete:l}},pe=a(512),fe=a(516),ge=a(514),be=a(515),he=a(513),ve=function(e){var t=e.open,a=e.handleClose,n=e.numRows,o=void 0===n?0:n;return r.createElement(pe.a,{open:t,onClose:function(){return a(!1)}},r.createElement(fe.a,null,"Exclus\xe3o de registros"),r.createElement(ge.a,null,r.createElement(be.a,null,"Deseja realmente excluir esse(s)",o>0?" ".concat(o):""," registro(s)?")),r.createElement(he.a,null,r.createElement(m.a,{onClick:function(){return a(!1)},color:"secondary"},"Cancelar"),r.createElement(m.a,{onClick:function(){return a(!0)},color:"primary",autoFocus:!0},"Excluir")))},Ee=r.forwardRef((function(e,t){var a=e.deleteOptions?me():null;e.deleteOptions.prepare=a.setRowsToDelete;var n,o,i=Object(Z.cloneDeep)(Object(K.a)()),c=Object(J.a)(i.breakpoints.down("sm")),l=(n=e,Object(A.a)({print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Pr\xf3xima p\xe1gina",previous:"P\xe1gina anterior",rowsPerPage:"Por p\xe1gina:",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver Colunas",filterTable:"Filtrar Tabelas"},filter:{all:"Todos",title:"FILTROS",reset:"LIMPAR"},viewColumns:{title:"Ver Colunas",titleAria:"Ver/Esconder Colunas da Tabela"},selectedRows:{text:"registro(s) selecionados",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,a,o){return r.createElement(de,{searchText:e,onSearch:t,onHide:a,options:o,debounceTime:n.debouncedSearchTime})}},n.deleteOptions&&{onRowsDelete:function(e){return n.deleteOptions.prepare(e),!1}})),s=Object(Z.merge)({options:Object(Z.cloneDeep)(l)},e,{columns:(o=e.columns,function(e){e.forEach((function(e,t){e.width&&(i.overrides.MUIDataTableHeadCell.fixedHeaderCommon["&:nth-child(".concat(t+2,")")]={width:e.width})}))}(o),o.map((function(e){return Object(Z.omit)(e,"width")})))});!function(){var e=s.options.textLabels;e.body.noMatch=!0===s.loading?"Caregando...":e.body.noMatch}(),s.options.responsive=c?"scrollMaxHeight":"stacked";var u,d=Object(A.a)({},Object(Z.omit)(s,"loading"),{ref:t}),m=Object(D.useSnackbar)();return r.createElement($.a,{theme:(u=d.columns.length-1,function(e){var t=Object(Z.cloneDeep)(e),a='&[data-testid^="MuiDataTableBodyCell-'.concat(u,'"]');return t.overrides.MUIDataTableBodyCell.root[a]={paddingTop:"0px",paddingBottom:"0px"},t})},e.deleteOptions&&r.createElement(ve,{numRows:a.rowsToDelete.data.length,open:a.openDeleteDialog,handleClose:function(t){if(t){var r=a.rowsToDelete.data.map((function(t){return e.data[t.index].id})).join(",");e.deleteOptions.resource.deleteCollection({ids:r}).then((function(t){m.enqueueSnackbar("Registros excluidos com sucesso!",{variant:"success"});var r=e.reloadFunction.reloadData;if(a.rowsToDelete.data.length===e.filterState.pagination.per_page&&e.filterState.pagination.page>1){var n=e.filterState.pagination.page-2;r=function(){return new Promise((function(t,a){t(e.filterManager.changePage(n))}))}}r().finally((function(){return a.setOpenDeleteDialog(!1)}))})).catch((function(e){console.error(e),m.enqueueSnackbar("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else a.setOpenDeleteDialog(!1)}}),r.createElement(X.a,d))}));var Oe,xe,je=a(105),ye=a(336),Se={primary:{main:"#79aec8",contrastText:"#ffffff"},secondary:{main:"#4db5ab",dark:"#055a52",contrastText:"#ffffff"},background:{default:"#fafafa"},success:{main:"#2dbf64",contrastText:"#ffffff"},error:{main:"#ed5650",contrastText:"#ffffff"}},Pe=Object(je.a)({palette:Se,overrides:{MuiChip:{root:{marginRight:"3px",color:"#646464"}},MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:null===(Oe=Se.background)||void 0===Oe?void 0:Oe.default},icon:{color:Se.primary.main,"&:hover, &:active, &:focus":{color:Se.secondary.dark}},iconActive:{color:Se.secondary.dark,"&:hover, &:active, &:focus":{color:Se.secondary.dark}}},MUIDataTableHeadCell:{fixedHeaderCommon:{paddingTop:8,paddingBottom:8,backgroundColor:Se.primary.main,color:"#ffffff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#ffffff"},sortAction:{alignItems:"center"},sortLabelRoot:{"& svg":{color:"#ffffff !important"}}},MUIDataTableSelectCell:{root:{backgroundColor:"transparent !important"},headerCell:{backgroundColor:"".concat(Se.primary.main," !important"),"& span":{color:"#ffffff !important"}}},MUIDataTableBodyCell:{root:{padding:8,color:Se.secondary.main,"&:hover, &:active, &:focus":{color:Se.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:Se.primary.main},iconButton:{color:Se.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:Se.background.default}}},MUIDataTablePagination:{root:{color:Se.primary.main}},MUIDataTableFilterList:{chip:{marginBottom:"16px"}}}}),Fe=Object(je.a)({palette:{primary:Pe.palette.success,secondary:Pe.palette.error}}),Ce=function(){return r.createElement($.a,{theme:Fe},r.createElement(ye.a,{label:"Sim",color:"primary"}))},ke=function(){return r.createElement($.a,{theme:Fe},r.createElement(ye.a,{label:"N\xe3o",color:"secondary"}))},we=a(316),Te=a(346),Re=a.n(Te),Ie=Object(l.a)((function(e){return{iconButton:e.overrides.MUIDataTableToolbar.icon}})),Ae=function(e){var t=Ie();return r.createElement(we.a,{title:"Limpar busca"},r.createElement(b.a,{className:t.iconButton,onClick:e.handleClick},r.createElement(Re.a,null)))},De=a(537),Ne=a(23),Le=a(123),Be=Object(Le.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),Me=Be.Types,qe=Be.Creators,_e={search:null,pagination:{page:1,total:0,per_page:10},order:{sort:null,dir:null}};var Ve=Object(Le.createReducer)(_e,(xe={},Object(c.a)(xe,Me.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return Object(A.a)({},e,{search:t.payload.search,pagination:Object(A.a)({},e.pagination,{page:1})})})),Object(c.a)(xe,Me.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return Object(A.a)({},e,{pagination:Object(A.a)({},e.pagination,{page:t.payload.page})})})),Object(c.a)(xe,Me.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return Object(A.a)({},e,{pagination:Object(A.a)({},e.pagination,{page:1,per_page:t.payload.per_page})})})),Object(c.a)(xe,Me.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return Object(A.a)({},e,{order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(c.a)(xe,Me.SET_RESET,(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;return e.payload.state})),Object(c.a)(xe,Me.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return Object(A.a)({},e,{extraFilter:Object(A.a)({},e.extraFilter,{},t.payload)})})),xe)),Ue=a(176);function Ge(e){var t=Object(Ne.f)(),a=new ze(Object(A.a)({},e,{history:t})),n=a.getStateFromUrl(),o=Object(r.useReducer)(Ve,n),i=Object(g.a)(o,2),c=i[0],l=i[1],s=Object(De.a)(c,e.debounceTime),u=Object(g.a)(s,1)[0],d=Object(r.useState)(0),m=Object(g.a)(d,2),p=m[0],f=m[1];return a.state=c,a.debouncedState=u,a.dispatch=l,a.applyOderInColumns(),Object(r.useEffect)((function(){a.replaceHistory()}),[]),{columns:a.columns,filterManager:a,filterState:c,debounceFilterState:u,dispatch:l,totalRecords:p,setTotalRecords:f}}Object(Ue.e)({mixed:{required:"${path} \xe9 requerido",notType:"${path} \xe9 inv\xe1lido"},string:{max:"${path} precisa ter no m\xe1ximo ${max} caracteres"},number:{min:"${path} precisa ser no m\xednimo ${min}"}});var ze=function(){function e(t){Object(N.a)(this,e),this.state=null,this.debouncedState=null,this.dispatch=null,this.columns=void 0,this.rowsPerPage=void 0,this.rowsPerPageOptions=void 0,this.debounceTime=void 0,this.history=void 0,this.tableRef=void 0,this.extraFilter=void 0,this.schema=void 0;var a=t.columns,r=t.rowsPerPage,n=t.rowsPerPageOptions,o=t.debounceTime,i=t.history,c=t.tableRef,l=t.extraFilter;this.columns=a,this.rowsPerPage=r,this.rowsPerPageOptions=n,this.debounceTime=o,this.history=i,this.tableRef=c,this.extraFilter=l,this.createValidationSchema()}return Object(L.a)(e,[{key:"changeSearch",value:function(e){this.dispatch(qe.setSearch({search:e}))}},{key:"changePage",value:function(e){this.dispatch(qe.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(qe.setPerPage({per_page:e}))}},{key:"changeColumnSort",value:function(e,t){this.dispatch(qe.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resetTablePagination()}},{key:"changeExtraFilter",value:function(e){this.dispatch(qe.updateExtraFilter(e))}},{key:"resetFilter",value:function(){var e=Object(A.a)({},this.schema.cast({}),{search:{value:null,update:!0}});this.dispatch(qe.setReset({state:e})),this.resetTablePagination()}},{key:"applyOderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name!==e.state.order.sort?t:Object(A.a)({},t,{options:Object(A.a)({},t.options,{sortDirection:e.state.order.dir})})}))}},{key:"cleanSearchText",value:function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}},{key:"replaceHistory",value:function(){this.history.replace({pathname:this.history.location.pathname,search:"?".concat(new URLSearchParams(this.formatSearchParams())),state:this.debouncedState})}},{key:"pushHistory",value:function(){var e={pathname:this.history.location.pathname,search:"?".concat(new URLSearchParams(this.formatSearchParams())),state:Object(A.a)({},this.debouncedState,{search:this.cleanSearchText(this.debouncedState.search)})},t=this.history.location.state,a=this.debouncedState;Object(Z.isEqual)(t,a)||this.history.push(e)}},{key:"formatSearchParams",value:function(){var e=this.cleanSearchText(this.debouncedState.search);return Object(A.a)({},e&&""!==e&&{search:e},{},1!==this.debouncedState.pagination.page&&{page:this.debouncedState.pagination.page},{},10!==this.debouncedState.pagination.per_page&&{per_page:this.debouncedState.pagination.per_page},{},this.debouncedState.order.sort&&Object(A.a)({},this.debouncedState.order),{},this.extraFilter&&this.extraFilter.formatSearchParams(this.debouncedState))}},{key:"getStateFromUrl",value:function(){var e=new URLSearchParams(this.history.location.search.substr(1));return this.schema.cast(Object(A.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},this.extraFilter&&{extraFilter:this.extraFilter.getStateFromUrl(e)}))}},{key:"resetTablePagination",value:function(){this.tableRef.current.changeRowsPerPage(this.rowsPerPage),this.tableRef.current.changePage(0)}},{key:"createValidationSchema",value:function(){var e=this;this.schema=Ue.d().shape(Object(A.a)({search:Ue.f().transform((function(e){return e||void 0})).default(""),pagination:Ue.d().shape({page:Ue.c().transform((function(e){return isNaN(e)||parseInt(e,10)<1?void 0:e})).default(1),per_page:Ue.c().transform((function(t){return isNaN(t)||!e.rowsPerPageOptions.includes(parseInt(t,10))?void 0:t})).default(this.rowsPerPage)}),order:Ue.d().shape({sort:Ue.f().nullable().transform((function(t){return e.columns.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(t)?t:void 0})).default(null),dir:Ue.f().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},this.extraFilter&&{extraFilter:this.extraFilter.createValidationSchema()}))}}]),e}(),He=a(70),We=a.n(He),Ye=a(54),Qe=a.n(Ye),Xe=Object(r.createContext)(!1),Ze=[10,25,50],Ke=[{name:"name",label:"Nome",options:{filter:!1}},{name:"is_active",label:"Ativo?",width:"15%",options:{filter:!0,filterType:"dropdown",filterOptions:{names:["Sim","N\xe3o"]},customBodyRender:function(e,t,a){return e?n.a.createElement(Ce,null):n.a.createElement(ke,null)}}},{name:"created_at",label:"Criado em",width:"15%",options:{filter:!1,customBodyRender:function(e,t,a){return Y(e,"dd/MM/yyyy '\xe0s' H:mm")}}},{name:"id",label:"A\xe7\xf5es",options:{sort:!1,print:!1,filter:!1,searchable:!1,setCellProps:function(e){return{style:{width:"10%",whiteSpace:"nowrap"}}},customBodyRender:function(e,t,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.b,{to:"/categories/".concat(e,"/edit")},n.a.createElement(We.a,{color:"secondary"})),n.a.createElement(C.b,{to:"/categories/".concat(e,"/delete")},n.a.createElement(Qe.a,{color:"secondary"})))}}}],Je=n.a.forwardRef((function(){var e=Object(D.useSnackbar)(),t=Object(r.useRef)(!0),a=Object(r.useState)([]),o=Object(g.a)(a,2),i=o[0],l=o[1],s=Object(r.useContext)(Xe),u=Object(r.useRef)(),d=Ge({columns:Ke,rowsPerPage:10,rowsPerPageOptions:Ze,debounceTime:300,tableRef:u,extraFilter:{createValidationSchema:function(){return Ue.d().shape({is_active:Ue.f().nullable().transform((function(e){return e&&["Sim","N\xe3o"].includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(A.a)({},null!==e.extraFilter.is_active&&{is_active:e.extraFilter.is_active}):void 0},getStateFromUrl:function(e){return{is_active:e.get("is_active")}}}}),m=d.columns,p=d.filterManager,f=d.filterState,b=d.debounceFilterState,h=d.totalRecords,v=d.setTotalRecords;Object(r.useEffect)((function(){return t.current=!0,p.pushHistory(),y(),function(){t.current=!1}}),[p.cleanSearchText(b.search),b.pagination.page,b.pagination.per_page,b.order,JSON.stringify(b.extraFilter)]);var E=m.findIndex((function(e){return"is_active"===e.name})),O=m[E],x=f.extraFilter&&f.extraFilter.is_active;O.options.filterList=x?[x]:[];var j=m.map((function(e){return[]}));function y(){return S.apply(this,arguments)}function S(){return(S=Object(I.a)(R.a.mark((function a(){var r;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,z.list({queryParams:Object(A.a)({search:p.cleanSearchText(f.search),page:f.pagination.page,per_page:f.pagination.per_page,sort:f.order.sort,dir:f.order.dir},b.extraFilter&&null!==b.extraFilter.is_active&&{is_active:"Sim"===b.extraFilter.is_active})});case 3:r=a.sent,t.current&&(l(r.data.data),v(r.data.meta.total)),a.next=12;break;case 7:if(a.prev=7,a.t0=a.catch(0),!z.isCancelledRequest(a.t0)){a.next=11;break}return a.abrupt("return");case 11:e.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return void 0!==x&&null!==x&&(j[E]=[x]),n.a.createElement(Ee,{title:"",columns:m,data:i,loading:s,debouncedSearchTime:300,ref:u,filterState:f,filterManager:p,reloadFunction:{reloadData:function(){return y()}},deleteOptions:{resource:z},options:{serverSide:!0,serverSideFilterList:j,responsive:"scrollMaxHeight",searchText:f.search,page:f.pagination.page-1,rowsPerPage:f.pagination.per_page,rowsPerPageOptions:Ze,count:h,customToolbar:function(){return n.a.createElement(Ae,{handleClick:function(){return p.resetFilter()}})},onFilterChange:function(e,t){"is_active"===e&&p.changeExtraFilter(Object(c.a)({},e,void 0!==t[E][0]?t[E][0]:null))},onSearchChange:function(e){return p.changeSearch(e)},onChangePage:function(e){return p.changePage(e)},onChangeRowsPerPage:function(e){return p.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return p.changeColumnSort(e,t)}}})})),$e=function(){return r.createElement(S,{title:"Listagem de Categorias"},r.createElement(j.a,{dir:"rtl",paddingBottom:2},r.createElement(F.a,{title:"Adicionar Categoria",color:"secondary",size:"small",component:C.b,to:"categories/create"},r.createElement(w.a,null))),r.createElement(j.a,null,r.createElement(Je,null)))},et=a(321),tt=a(335),at=a(85),rt=Object(l.a)((function(e){return{submit:{marginLeft:e.spacing(1),marginTop:e.spacing(1)}}})),nt=function(e){var t=e.disabledButtons,a=e.handleSave,n={className:rt().submit,color:"secondary",variant:"contained",disabled:void 0!==t&&t};return r.createElement(j.a,{dir:"ltf"},r.createElement(m.a,Object.assign({},n,{onClick:a}),"Salvar"),r.createElement(m.a,Object.assign({},n,{type:"submit"}),"Salvar e continuar editando"))},ot=a(120),it=a(521),ct=Object(l.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),lt=function(e){var t=e.GridContainerProps,a=e.GridItemProps,n=e.children,o=Object(ot.a)(e,["GridContainerProps","GridItemProps","children"]),i=ct();return r.createElement("form",o,r.createElement(it.a,Object.assign({container:!0},t),r.createElement(it.a,Object.assign({item:!0,className:i.gridItem},a),n)))},st=function(e,t){var a=Object(D.useSnackbar)().enqueueSnackbar;Object(r.useEffect)((function(){var r=0!==Object.keys(t).length;e>0&&r&&a("Formul\xe1rio inv\xe1lido. Reveja os campos destacados em vermelho!",{variant:"error"})}),[e,t,a])},ut=Ue.d().shape({name:Ue.f().label("Nome").max(255).required()}),dt=function(){var e=Object(at.a)({validationSchema:ut,defaultValues:{name:"",is_active:!0}}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,i=e.errors,c=e.reset,l=e.watch,s=e.triggerValidation,u=e.formState;st(u.submitCount,i);var d=Object(D.useSnackbar)().enqueueSnackbar,m=Object(Ne.f)(),p=Object(Ne.g)().id,f=Object(r.useState)(null),b=Object(g.a)(f,2),h=b[0],v=b[1],E=Object(r.useContext)(Xe);function O(e,t){return x.apply(this,arguments)}function x(){return(x=Object(I.a)(R.a.mark((function e(t,a){var r,n,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=h?z.update(h.id,t):z.create(t),e.next=4,r;case 4:n=e.sent,o=n.data,d("Categoria salva com sucesso!",{variant:"success"}),setTimeout((function(){a?p?m.replace("/categories/".concat(o.data.id,"/edit")):m.push("/categories/".concat(o.data.id,"/edit")):m.push("/categories")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),d("N\xe3o foi poss\xedvel salvar a categoria",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){t({name:"is_active"})}),[t]),Object(r.useEffect)((function(){var e=!0;if(p)return Object(I.a)(R.a.mark((function t(){var a,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.get(p);case 3:a=t.sent,r=a.data,e&&(v(r.data),c(r.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),d("N\xe3o foi poss\xedvel carregar a categoria",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}),[p,c,d]),r.createElement(lt,{GridItemProps:{xs:12,md:6},onSubmit:a(O)},r.createElement(ne.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,disabled:E,error:void 0!==i.name,helperText:i.name&&i.name.message,InputLabelProps:{shrink:!0}}),r.createElement(ne.a,{name:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:t,disabled:E,InputLabelProps:{shrink:!0}}),r.createElement(et.a,{disabled:E,control:r.createElement(tt.a,{name:"is_active",color:"primary",onChange:function(){return o("is_active",!n().is_active)},checked:l("is_active")}),label:"Ativo?",labelPlacement:"end"}),r.createElement(nt,{disabledButtons:E,handleSave:function(){return s().then((function(e){e&&O(n(),null)}))}}))},mt=function(){var e=Object(Ne.g)().id;return r.createElement(S,{title:e?"Editar categoria":"Cadastrar categoria"},r.createElement(dt,null))},pt=new _(U,"genres"),ft=[10,25,50],gt=[{name:"name",label:"Nome",options:{filter:!1}},{name:"categories",label:"Categorias",options:{filter:!0,filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,a){return e.map((function(e){return e.name})).join(", ")}}},{name:"is_active",label:"Ativo?",width:"15%",options:{filter:!0,filterType:"dropdown",filterList:[],filterOptions:{names:["Sim","N\xe3o"]},customBodyRender:function(e,t,a){return e?n.a.createElement(Ce,null):n.a.createElement(ke,null)}}},{name:"created_at",label:"Criado em",width:"15%",options:{filter:!1,customBodyRender:function(e,t,a){return Y(e,"dd/MM/yyyy '\xe0s' H:mm")}}},{name:"id",label:"A\xe7\xf5es",options:{sort:!1,print:!1,filter:!1,searchable:!1,setCellProps:function(e){return{style:{width:"10%",whiteSpace:"nowrap"}}},customBodyRender:function(e,t,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.b,{to:"/genres/".concat(e,"/edit")},n.a.createElement(We.a,{color:"secondary"})),n.a.createElement(C.b,{to:"/genres/".concat(e,"/delete")},n.a.createElement(Qe.a,{color:"secondary"})))}}}],bt=n.a.forwardRef((function(){var e=Object(D.useSnackbar)(),t=Object(r.useRef)(!0),a=Object(r.useState)([]),o=Object(g.a)(a,2),i=o[0],l=o[1],s=Object(r.useContext)(Xe),u=Object(r.useRef)(),d=Ge({columns:gt,rowsPerPage:10,rowsPerPageOptions:ft,debounceTime:300,tableRef:u,extraFilter:{createValidationSchema:function(){return Ue.d().shape({categories:Ue.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null),is_active:Ue.f().nullable().transform((function(e){return e&&["Sim","N\xe3o"].includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(A.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")},{},null!==e.extraFilter.is_active&&{is_active:e.extraFilter.is_active}):void 0},getStateFromUrl:function(e){return{categories:e.get("categories"),is_active:e.get("is_active")}}}}),m=d.columns,p=d.filterManager,f=d.filterState,b=d.debounceFilterState,h=d.totalRecords,v=d.setTotalRecords,E=m.findIndex((function(e){return"categories"===e.name})),O=m[E],x=f.extraFilter&&f.extraFilter.categories;O.options.filterList=x||[];var j=m.map((function(e){return[]}));x&&(j[E]=x);var y=m.findIndex((function(e){return"is_active"===e.name})),S=m[y],P=f.extraFilter&&f.extraFilter.is_active;function F(){return C.apply(this,arguments)}function C(){return(C=Object(I.a)(R.a.mark((function a(){var r;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,pt.list({queryParams:Object(A.a)({search:p.cleanSearchText(f.search),page:f.pagination.page,per_page:f.pagination.per_page,sort:f.order.sort,dir:f.order.dir},b.extraFilter&&b.extraFilter.categories&&{categories:b.extraFilter.categories.join(",")},{},b.extraFilter&&null!==b.extraFilter.is_active&&{is_active:"Sim"===b.extraFilter.is_active})});case 3:r=a.sent,t.current&&(l(r.data.data),v(r.data.meta.total)),a.next=12;break;case 7:if(a.prev=7,a.t0=a.catch(0),!z.isCancelledRequest(a.t0)){a.next=11;break}return a.abrupt("return");case 11:e.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return S.options.filterList=P?[P]:[],void 0!==P&&null!==P&&(j[y]=[P]),Object(r.useEffect)((function(){var t=!0;return Object(I.a)(R.a.mark((function a(){var r;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,z.list({queryParams:{all:""}});case 3:r=a.sent,t&&(O.options.filterOptions.names=r.data.data.map((function(e){return e.name}))),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))(),function(){t=!1}}),[]),Object(r.useEffect)((function(){return t.current=!0,p.pushHistory(),F(),function(){t.current=!1}}),[p.cleanSearchText(b.search),b.pagination.page,b.pagination.per_page,b.order,JSON.stringify(b.extraFilter)]),n.a.createElement(Ee,{title:"",columns:m,data:i,loading:s,debouncedSearchTime:300,ref:u,filterState:f,filterManager:p,reloadFunction:{reloadData:function(){return F()}},deleteOptions:{resource:pt},options:{serverSide:!0,serverSideFilterList:j,responsive:"scrollMaxHeight",searchText:f.search,page:f.pagination.page-1,rowsPerPage:f.pagination.per_page,rowsPerPageOptions:ft,count:h,customToolbar:function(){return n.a.createElement(Ae,{handleClick:function(){return p.resetFilter()}})},onFilterChange:function(e,t){if("is_active"===e&&p.changeExtraFilter(Object(c.a)({},e,void 0!==t[y][0]?t[y][0]:null)),"categories"===e){var a=m.findIndex((function(t){return t.name===e}));p.changeExtraFilter(Object(c.a)({},e,t[a].length?t[a]:null))}},onSearchChange:function(e){return p.changeSearch(e)},onChangePage:function(e){return p.changePage(e)},onChangeRowsPerPage:function(e){return p.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return p.changeColumnSort(e,t)}}})})),ht=function(){return r.createElement(S,{title:"Listagem de G\xeaneros"},r.createElement(j.a,{dir:"rtl",paddingBottom:2},r.createElement(F.a,{title:"Adicionar G\xeanero",color:"secondary",size:"small",component:C.b,to:"genres/create"},r.createElement(w.a,null))),r.createElement(j.a,null,r.createElement(bt,null)))},vt=Ue.d().shape({name:Ue.f().label("Nome").required().max(255),categories_id:Ue.a().label("Categorias").required()}),Et=function(){var e=Object(at.a)({validationSchema:vt,defaultValues:{name:"",categories_id:[]}}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,i=e.errors,c=e.reset,l=e.watch,s=e.triggerValidation,u=e.formState;st(u.submitCount,i);var d=Object(D.useSnackbar)().enqueueSnackbar,m=Object(Ne.f)(),p=Object(Ne.g)().id,f=r.useState(null),b=Object(g.a)(f,2),h=b[0],E=b[1],O=r.useState([]),x=Object(g.a)(O,2),j=x[0],y=x[1],S=Object(r.useContext)(Xe);function P(e,t){return F.apply(this,arguments)}function F(){return(F=Object(I.a)(R.a.mark((function e(t,a){var r,n,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=h?pt.update(h.id,t):pt.create(t),e.next=4,r;case 4:n=e.sent,o=n.data,d("G\xeanero salvo com sucesso!",{variant:"success"}),setTimeout((function(){a?p?m.replace("/genres/".concat(o.data.id,"/edit")):m.push("/genres/".concat(o.data.id,"/edit")):m.push("/genres")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),d("N\xe3o foi poss\xedvel salvar o g\xeanero",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){t({name:"categories_id"})}),[t]),r.useEffect((function(){var e=!0;return Object(I.a)(R.a.mark((function t(){var a,r,n,o,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[z.list({queryParams:{all:""}})],p&&a.push(pt.get(p)),t.prev=2,t.next=5,Promise.all(a);case 5:r=t.sent,n=Object(g.a)(r,2),o=n[0],i=n[1],e&&(y(o.data.data),p&&(E(i.data.data),c(Object(A.a)({},i.data.data,{categories_id:i.data.data.categories.map((function(e){return e.id}))})))),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0),d("N\xe3o foi poss\xedvel carregar as categorias",{variant:"error"});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})))(),function(){e=!1}}),[p,c,d]),r.createElement(lt,{GridItemProps:{xs:12,md:6},onSubmit:a(P)},r.createElement(ne.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",disabled:S,inputRef:t,error:void 0!==i.name,helperText:i.name&&i.name.message,InputLabelProps:{shrink:!0}}),r.createElement(ne.a,{name:"categories_id",label:"Categorias",select:!0,SelectProps:{multiple:!0},value:l("categories_id"),fullWidth:!0,variant:"outlined",margin:"normal",onChange:function(e){return o("categories_id",e.target.value)},disabled:S,error:void 0!==i.categories_id,helperText:i.categories_id&&i.categories_id.messages,InputLabelProps:{shrink:!0}},j.map((function(e,t){return r.createElement(v.a,{key:t,value:e.id},e.name)}))),r.createElement(nt,{disabledButtons:S,handleSave:function(){return s().then((function(e){e&&P(n(),null)}))}}))},Ot=function(){var e=Object(Ne.g)().id;return r.createElement(S,{title:e?"Editar G\xeanero":"Cadastrar G\xeanero"},r.createElement(Et,null))},xt=new _(U,"cast_members"),jt={1:"Diretor",2:"Ator"},yt={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},St=[10,25,50],Pt=Object.values(jt),Ft=[{name:"name",label:"Nome",options:{filter:!1}},{name:"type",label:"Tipo",width:"15%",options:{filter:!0,filterType:"dropdown",filterList:[],filterOptions:{names:Pt},customBodyRender:function(e,t,a){return jt[e]}}},{name:"created_at",label:"Criado em",width:"15%",options:{filter:!1,customBodyRender:function(e,t,a){return Y(e,"dd/MM/yyyy '\xe0s' H:mm")}}},{name:"id",label:"A\xe7\xf5es",options:{sort:!1,print:!1,filter:!1,searchable:!1,setCellProps:function(e){return{style:{width:"10%",whiteSpace:"nowrap"}}},customBodyRender:function(e,t,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.b,{to:"/cast-members/".concat(e,"/edit")},n.a.createElement(We.a,{color:"secondary"})),n.a.createElement(C.b,{to:"/cast-members/".concat(e,"/delete")},n.a.createElement(Qe.a,{color:"secondary"})))}}}],Ct=n.a.forwardRef((function(){var e=Object(D.useSnackbar)(),t=Object(r.useRef)(!0),a=Object(r.useState)([]),o=Object(g.a)(a,2),i=o[0],l=o[1],s=Object(r.useContext)(Xe),u=Object(r.useRef)(),d=Ge({columns:Ft,rowsPerPage:10,rowsPerPageOptions:St,debounceTime:300,tableRef:u,extraFilter:{createValidationSchema:function(){return Ue.d().shape({type:Ue.c().nullable().transform((function(e){return e&&Pt.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){if(e.extraFilter&&null!==e.extraFilter.type)return{type:e.extraFilter.type}},getStateFromUrl:function(e){return{type:e.get("type")}}}}),m=d.columns,p=d.filterManager,f=d.filterState,b=d.debounceFilterState,h=d.totalRecords,v=d.setTotalRecords,E=m.findIndex((function(e){return"type"===e.name})),O=m[E],x=f.extraFilter&&f.extraFilter.type;O.options.filterList=x?[x]:[];var j=m.map((function(e){return[]}));function y(){return S.apply(this,arguments)}function S(){return(S=Object(I.a)(R.a.mark((function a(){var r;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,xt.list({queryParams:Object(A.a)({search:p.cleanSearchText(f.search),page:f.pagination.page,per_page:f.pagination.per_page,sort:f.order.sort,dir:f.order.dir},b.extraFilter&&b.extraFilter.type&&{type:Object(Z.invert)(jt)[b.extraFilter.type]})});case 3:r=a.sent,t.current&&(l(r.data.data),v(r.data.meta.total)),a.next=12;break;case 7:if(a.prev=7,a.t0=a.catch(0),!z.isCancelledRequest(a.t0)){a.next=11;break}return a.abrupt("return");case 11:e.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return x&&(j[E]=[x]),Object(r.useEffect)((function(){return t.current=!0,p.pushHistory(),y(),function(){t.current=!1}}),[p.cleanSearchText(b.search),b.pagination.page,b.pagination.per_page,b.order,JSON.stringify(b.extraFilter)]),n.a.createElement(Ee,{title:"",columns:m,data:i,loading:s,debouncedSearchTime:300,ref:u,filterState:f,filterManager:p,reloadFunction:{reloadData:function(){return y()}},deleteOptions:{resource:xt},options:{serverSide:!0,serverSideFilterList:j,responsive:"scrollMaxHeight",searchText:f.search,page:f.pagination.page-1,rowsPerPage:f.pagination.per_page,rowsPerPageOptions:St,count:h,customToolbar:function(){return n.a.createElement(Ae,{handleClick:function(){return p.resetFilter()}})},onFilterChange:function(e,t){var a=m.findIndex((function(t){return t.name===e}));p.changeExtraFilter(Object(c.a)({},e,t[a].length?t[a][0]:null))},onSearchChange:function(e){return p.changeSearch(e)},onChangePage:function(e){return p.changePage(e)},onChangeRowsPerPage:function(e){return p.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return p.changeColumnSort(e,t)}}})})),kt=function(){return r.createElement(S,{title:"Listagem de Membros do Elenco"},r.createElement(j.a,{dir:"rtl",paddingBottom:2},r.createElement(F.a,{title:"Adicionar Membro do Elenco",color:"secondary",size:"small",component:C.b,to:"cast-members/create"},r.createElement(w.a,null))),r.createElement(j.a,null,r.createElement(Ct,null)))},wt=a(233),Tt=a(490),Rt=a(323),It=a(532),At=a(489),Dt=Ue.d().shape({name:Ue.f().label("Nome").max(255).required(),type:Ue.f().label("Tipo").required()}),Nt=function(){var e=Object(at.a)({validationSchema:Dt}),t=e.register,a=e.handleSubmit,n=e.getValues,o=e.setValue,i=e.errors,c=e.reset,l=e.watch,s=e.triggerValidation,u=e.formState;st(u.submitCount,i);var d=Object(D.useSnackbar)().enqueueSnackbar,m=Object(Ne.f)(),p=Object(Ne.g)().id,f=r.useState(null),b=Object(g.a)(f,2),h=b[0],v=b[1],E=Object(r.useContext)(Xe);function O(e,t){return x.apply(this,arguments)}function x(){return(x=Object(I.a)(R.a.mark((function e(t,a){var r,n,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=h?xt.update(h.id,t):xt.create(t),e.next=4,r;case 4:n=e.sent,o=n.data,d("Membro de elenco salvo com sucesso!",{variant:"success"}),setTimeout((function(){a?p?m.replace("/cast-members/".concat(o.data.id,"/edit")):m.push("/cast-members/".concat(o.data.id,"/edit")):m.push("/cast-members")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),d("N\xe3o foi poss\xedvel salvar o membro do elenco",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){t({name:"type"})}),[t]),r.useEffect((function(){var e=!0;if(p)return Object(I.a)(R.a.mark((function t(){var a,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xt.get(p);case 3:a=t.sent,r=a.data,e&&(v(r.data),c(r.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),d("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}),[p,c,d]),r.createElement(lt,{GridItemProps:{xs:12,md:6},onSubmit:a(O)},r.createElement(ne.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,disabled:E,error:void 0!==i.name,helperText:i.name&&i.name.message,InputLabelProps:{shrink:!0}}),r.createElement(wt.a,{margin:"normal",error:void 0!==i.type,disabled:E},r.createElement(Tt.a,{component:"legend"},"Tipo"),r.createElement(Rt.a,{defaultValue:"1","aria-label":"type",name:"type",onChange:function(e){return o("type",parseInt(e.target.value))},value:l("type")+""},r.createElement(et.a,{value:"1",label:"Diretor",control:r.createElement(It.a,null)}),r.createElement(et.a,{value:"2",label:"Ator",control:r.createElement(It.a,null)})),i.type&&r.createElement(At.a,{id:"type-helper-text"},i.type.message)),r.createElement(nt,{disabledButtons:E,handleSave:function(){return s().then((function(e){e&&O(n(),null)}))}}))},Lt=function(){var e=Object(Ne.g)().id;return r.createElement(S,{title:e?"Editar Membro do Elenco":"Cadastrar Membro do Elenco"},r.createElement(Nt,null))},Bt=new _(U,"videos"),Mt=[10,25,50],qt=[{name:"title",label:"T\xedtulo",options:{filter:!1}},{name:"genres",label:"G\xeaneros",options:{filter:!0,filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,a){return e.map((function(e){return e.name})).join(", ")}}},{name:"categories",label:"Categorias",options:{filter:!0,filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,a){return e.map((function(e){return e.name})).join(", ")}}},{name:"opened",label:"Aberto?",width:"15%",options:{filter:!0,filterType:"dropdown",filterOptions:{names:["Sim","N\xe3o"]},customBodyRender:function(e,t,a){return e?n.a.createElement(Ce,null):n.a.createElement(ke,null)}}},{name:"created_at",label:"Criado em",width:"15%",options:{filter:!1,customBodyRender:function(e,t,a){return Y(e,"dd/MM/yyyy '\xe0s' H:mm")}}},{name:"id",label:"A\xe7\xf5es",options:{sort:!1,print:!1,filter:!1,searchable:!1,setCellProps:function(e){return{style:{width:"10%",whiteSpace:"nowrap"}}},customBodyRender:function(e,t,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.b,{to:"/videos/".concat(e,"/edit")},n.a.createElement(We.a,{color:"secondary"})),n.a.createElement(C.b,{to:"/videos/".concat(e,"/delete")},n.a.createElement(Qe.a,{color:"secondary"})))}}}],_t=n.a.forwardRef((function(){var e=Object(D.useSnackbar)(),t=Object(r.useRef)(!0),a=Object(r.useState)([]),o=Object(g.a)(a,2),i=o[0],l=o[1],s=Object(r.useContext)(Xe),u=Object(r.useRef)(),d=Ge({columns:qt,rowsPerPage:10,rowsPerPageOptions:Mt,debounceTime:300,tableRef:u,extraFilter:{createValidationSchema:function(){return Ue.d().shape({genres:Ue.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null),categories:Ue.b().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null),opened:Ue.f().nullable().transform((function(e){return e&&["Sim","N\xe3o"].includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(A.a)({},e.extraFilter.genres&&{genres:e.extraFilter.genres.join(",")},{},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")},{},null!==e.extraFilter.opened&&{opened:e.extraFilter.opened}):void 0},getStateFromUrl:function(e){return{genres:e.get("genres"),categories:e.get("categories"),opened:e.get("opened")}}}}),m=d.columns,p=d.filterManager,f=d.filterState,b=d.debounceFilterState,h=d.totalRecords,v=d.setTotalRecords,E=m.findIndex((function(e){return"genres"===e.name})),O=m[E],x=f.extraFilter&&f.extraFilter.genres;O.options.filterList=x||[];var j=m.map((function(e){return[]}));x&&(j[E]=x);var y=m.findIndex((function(e){return"categories"===e.name})),S=m[y],P=f.extraFilter&&f.extraFilter.categories;S.options.filterList=P||[],P&&(j[y]=P);var F=m.findIndex((function(e){return"opened"===e.name})),C=m[F],k=f.extraFilter&&f.extraFilter.opened;function w(){return T.apply(this,arguments)}function T(){return(T=Object(I.a)(R.a.mark((function a(){var r;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Bt.list({queryParams:Object(A.a)({search:p.cleanSearchText(f.search),page:f.pagination.page,per_page:f.pagination.per_page,sort:f.order.sort,dir:f.order.dir},b.extraFilter&&b.extraFilter.genres&&{genres:b.extraFilter.genres.join(",")},{},b.extraFilter&&b.extraFilter.categories&&{categories:b.extraFilter.categories.join(",")},{},b.extraFilter&&null!==b.extraFilter.opened&&{opened:"Sim"===b.extraFilter.opened})});case 3:r=a.sent,t.current&&(l(r.data.data),v(r.data.meta.total)),a.next=12;break;case 7:if(a.prev=7,a.t0=a.catch(0),!Bt.isCancelledRequest(a.t0)){a.next=11;break}return a.abrupt("return");case 11:e.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return a.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}return C.options.filterList=k?[k]:[],void 0!==k&&null!==k&&(j[F]=[k]),Object(r.useEffect)((function(){var t=!0;return Object(I.a)(R.a.mark((function a(){var r,n,o,i;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Promise.all([pt.list({queryParams:{all:""}}),z.list({queryParams:{all:""}})]);case 3:r=a.sent,n=Object(g.a)(r,2),o=n[0],i=n[1],t&&(O.options.filterOptions.names=o.data.data.map((function(e){return e.name})),S.options.filterOptions.names=i.data.data.map((function(e){return e.name}))),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),e.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))(),function(){t=!1}}),[]),Object(r.useEffect)((function(){return t.current=!0,p.pushHistory(),w(),function(){t.current=!1}}),[p.cleanSearchText(b.search),b.pagination.page,b.pagination.per_page,b.order,JSON.stringify(b.extraFilter)]),n.a.createElement(Ee,{title:"",columns:m,data:i,loading:s,debouncedSearchTime:300,ref:u,filterState:f,filterManager:p,reloadFunction:{reloadData:function(){return w()}},deleteOptions:{resource:Bt},options:{serverSide:!0,serverSideFilterList:j,responsive:"scrollMaxHeight",searchText:f.search,page:f.pagination.page-1,rowsPerPage:f.pagination.per_page,rowsPerPageOptions:Mt,count:h,customToolbar:function(){return n.a.createElement(Ae,{handleClick:function(){return p.resetFilter()}})},onFilterChange:function(e,t){if("opened"===e&&p.changeExtraFilter(Object(c.a)({},e,void 0!==t[F][0]?t[F][0]:null)),"genres"===e||"categories"===e){var a=m.findIndex((function(t){return t.name===e}));p.changeExtraFilter(Object(c.a)({},e,t[a].length?t[a]:null))}},onSearchChange:function(e){return p.changeSearch(e)},onChangePage:function(e){return p.changePage(e)},onChangeRowsPerPage:function(e){return p.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return p.changeColumnSort(e,t)}}})})),Vt=function(){return r.createElement(S,{title:"Listagem v\xeddeos"},r.createElement(j.a,{dir:"rtl",paddingBottom:2},r.createElement(F.a,{title:"Adicionar v\xeddeo",color:"secondary",size:"small",component:C.b,to:"/videos/create"},r.createElement(w.a,null))),r.createElement(j.a,null,r.createElement(_t,null)))},Ut=a(33),Gt=a(507),zt=a(509),Ht=Object(l.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#fff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}}),Wt={L:"#398549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#D00003",18:"#000000"},Yt=function(e){var t=Ht();return r.createElement(d.a,{className:t.root,style:{backgroundColor:Wt[e.rating]}},e.rating)},Qt=[{value:"L",control:r.createElement(It.a,{color:"primary"}),label:r.createElement(Yt,{rating:"L"}),labelPlacement:"top"},{value:"10",control:r.createElement(It.a,{color:"primary"}),label:r.createElement(Yt,{rating:"10"}),labelPlacement:"top"},{value:"12",control:r.createElement(It.a,{color:"primary"}),label:r.createElement(Yt,{rating:"12"}),labelPlacement:"top"},{value:"14",control:r.createElement(It.a,{color:"primary"}),label:r.createElement(Yt,{rating:"14"}),labelPlacement:"top"},{value:"16",control:r.createElement(It.a,{color:"primary"}),label:r.createElement(Yt,{rating:"16"}),labelPlacement:"top"},{value:"18",control:r.createElement(It.a,{color:"primary"}),label:r.createElement(Yt,{rating:"18"}),labelPlacement:"top"}],Xt=function(e){var t=e.value,a=e.setValue,n=e.error,o=e.disabled;return r.createElement(r.Fragment,null,r.createElement(wt.a,Object.assign({error:void 0!==n,disabled:!0===o},e.FormControlProps),r.createElement(Tt.a,{component:"legend"},"Classifica\xe7\xe3o"),r.createElement(j.a,{paddingTop:1},r.createElement(Rt.a,{"aria-label":"rating",name:"rating",value:t,onChange:function(e){return a(e.target.value)},row:!0},Qt.map((function(e,t){return r.createElement(et.a,{key:String(t),value:e.value,control:e.control,label:e.label,labelPlacement:e.labelPlacement})}))),n&&r.createElement(At.a,null,n.message))))},Zt=a(529),Kt=a(523),Jt=n.a.forwardRef((function(e,t){var a,o=Object(r.useRef)(),i=Object(r.useState)(""),c=Object(g.a)(i,2),l=c[0],s=c[1],u=Object(A.a)({fullWidth:!0,variant:"outlined"},e.TextFieldProps,{InputProps:Object(A.a)({},null===(a=e.TextFieldProps)||void 0===a?void 0:a.InputProps,{readOnly:!0,endAdornment:n.a.createElement(Kt.a,{position:"end"},e.ButtonFile)}),value:l}),d=Object(A.a)({},e.InputFileProps,{hidden:!0,ref:o,onChange:function(t){var a=t.target.files;a&&a.length&&s(Array.from(a).map((function(e){return e.name})).join(", ")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}});return Object(r.useImperativeHandle)(t,(function(){return{openWindow:function(){return o.current.click()},clear:function(){return s("")}}})),n.a.createElement(n.a.Fragment,null,n.a.createElement("input",Object.assign({type:"file"},d)),n.a.createElement(ne.a,u))})),$t=n.a.forwardRef((function(e,t){var a=Object(r.useRef)(),o=e.accept,i=e.label,c=e.setValue,l=e.error,s=e.disabled;return n.a.useImperativeHandle(t,(function(){return{clear:function(){return a.current.clear()}}})),n.a.createElement(wt.a,Object.assign({fullWidth:!0,margin:"normal",error:void 0!==l,disabled:!0===s},e.FormControlProps),n.a.createElement(Jt,{ref:a,TextFieldProps:{label:i,InputLabelProps:{shrink:!0},style:{backgroundColor:"#fff"}},InputFileProps:{accept:o,onChange:function(e){var t=e.target.files;t.length&&c(t[0])}},ButtonFile:n.a.createElement(m.a,{endIcon:n.a.createElement(Zt.a,null),variant:"contained",color:"primary",onClick:function(){return a.current.openWindow()}},"Adicionar")}))})),ea=a(108),ta=a(510),aa=a(533),ra=n.a.forwardRef((function(e,t){var a=e.AutocompleteProps,o=e.TextFieldProps,i=e.debounceTime,c=e.fetchOptions,l=a,s=l.freeSolo,u=void 0!==s&&s,d=l.onOpen,m=l.onClose,p=l.onInputChange,f=Object(r.useState)(!1),b=Object(g.a)(f,2),h=b[0],v=b[1],E=Object(r.useState)(""),O=Object(g.a)(E,2),x=O[0],j=O[1],y=Object(De.a)(x,i||300),S=Object(g.a)(y,1)[0],P=Object(r.useState)(!1),F=Object(g.a)(P,2),C=F[0],k=F[1],w=Object(r.useState)([]),T=Object(g.a)(w,2),D=T[0],N=T[1],L=Object(A.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},o&&Object(A.a)({},o)),B=Object(A.a)({loadingText:"Carregando...",noOptionsText:"Nenhum item encontrado"},a&&Object(A.a)({},a),{open:h,options:D,loading:C,inputValue:x,onOpen:function(){v(!0),d&&d()},onClose:function(){v(!1),m&&m()},onInputChange:function(e,t){j(t),p&&p()},renderInput:function(e){return n.a.createElement(ne.a,Object.assign({},e,L,{InputProps:Object(A.a)({},e.InputProps,{endAdornment:n.a.createElement(n.a.Fragment,null,C&&n.a.createElement(ta.a,{color:"inherit",size:20}),e.InputProps.endAdornment)})}))}});return Object(r.useEffect)((function(){h||u||N([])}),[h,u]),Object(r.useEffect)((function(){if(h&&(""!==x||!u)){var e=!0;return Object(I.a)(R.a.mark((function t(){var a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.prev=1,t.next=4,c(S);case 4:a=t.sent,e&&N(a);case 6:return t.prev=6,k(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})))(),function(){e=!1}}}),[u,S,h,x,c]),n.a.useImperativeHandle(t,(function(){return{clear:function(){j(""),N([])}}})),n.a.createElement(aa.a,B)})),na=a(338),oa=Object(l.a)((function(e){return Object(na.a)({root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),ia=function(e){var t=oa();return r.createElement(it.a,Object.assign({container:!0,wrap:"wrap",className:t.root},e),e.children)},ca=a(530),la=function(e){var t=e.onDelete,a=e.children,n=Object(ot.a)(e,["onDelete","children"]);return r.createElement(it.a,Object.assign({item:!0},n),r.createElement(it.a,{container:!0,alignItems:"center",spacing:3},r.createElement(it.a,{item:!0,xs:1},r.createElement(b.a,{size:"small",color:"inherit",onClick:t},r.createElement(ca.a,null))),r.createElement(it.a,{item:!0,xs:10,md:11},a)))},sa=function(){var e=Object(D.useSnackbar)().enqueueSnackbar;return Object(r.useCallback)(function(){var t=Object(I.a)(R.a.mark((function t(a){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a;case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),M.a.isCancel(t.t0)||e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"}),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),[e])},ua=function(e,t){var a=Object(D.useSnackbar)();return{addItem:function(r){r&&""!==r&&(e.find((function(e){return e.id===r.id}))?a.enqueueSnackbar("Item j\xe1 adicionado.",{variant:"info"}):(e.unshift(r),t(e)))},removeItem:function(a){var r=e.findIndex((function(e){return e.id===a.id}));-1!==r&&(e.splice(r,1),t(e))}}};function da(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var ma=Object(l.a)((function(e){return{genresSubtitle:{color:ea.a[800],fontSize:"0.8rem"}}})),pa=r.forwardRef((function(e,t){var a=ma(),n=e.categories,o=e.setCategories,i=e.genres,c=e.error,l=e.disabled,s=sa(),u=ua(n,o),m=u.addItem,p=u.removeItem,f=Object(K.a)(),g=r.useRef();r.useImperativeHandle(t,(function(){return{clear:function(){return g.current.clear()}}}));var b=r.useCallback((function(e){return s(z.list({queryParams:{search:e,genres:i.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data.data}))}),[s]);return r.createElement(r.Fragment,null,r.createElement(ra,{ref:g,fetchOptions:b,AutocompleteProps:{clearOnEscape:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return m(t)},disabled:!0===l||!i.length},TextFieldProps:{label:"Categorias",error:void 0!==c}}),r.createElement(At.a,{style:{height:f.spacing(3)}},"Escolha pelo menos uma categoria de cada g\xeanero."),r.createElement(wt.a,Object.assign({fullWidth:!0,margin:"none",error:void 0!==c,disabled:!0===l},e.FormControlProps),!!n.length&&r.createElement(ia,null,n.map((function(e){var t=da(i,e).map((function(e){return e.name})).join(", ");return r.createElement(la,{key:String(e.id),onDelete:function(){return p(e)},xs:12},r.createElement(d.a,{noWrap:!0},e.name),r.createElement(d.a,{noWrap:!0,className:a.genresSubtitle},"G\xeaneros: ",t))}))),c&&r.createElement(At.a,null,c.message)))})),fa=r.forwardRef((function(e,t){var a=e.genres,n=e.setGenres,o=e.categories,i=e.setCategories,c=e.error,l=e.disabled,s=sa(),u=ua(a,n),m=u.addItem,p=u.removeItem,f=ua(o,i).removeItem,g=Object(K.a)(),b=r.useRef();r.useImperativeHandle(t,(function(){return{clear:function(){return b.current.clear()}}}));var h=r.useCallback((function(e){return s(pt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data.data}))}),[s]);return r.createElement(r.Fragment,null,r.createElement(ra,{ref:b,fetchOptions:h,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return m(t)},disabled:!0===l},TextFieldProps:{label:"G\xeaneros",error:void 0!==c}}),r.createElement(At.a,{style:{height:g.spacing(3)}},"Escolha os g\xeaneros do v\xeddeo."),r.createElement(wt.a,Object.assign({fullWidth:!0,margin:"none",error:void 0!==c,disabled:!0===l},e.FormControlProps),!!a.length&&r.createElement(ia,null,a.map((function(e){return r.createElement(la,{key:String(e.id),onDelete:function(){o.filter((function(t){return 1===da(a,t).length&&a[0].id===e.id})).forEach((function(e){return f(e)})),p(e)},xs:12},r.createElement(d.a,{noWrap:!0},e.name))}))),c&&r.createElement(At.a,null,c.message)))})),ga=r.forwardRef((function(e,t){var a=e.castMembers,n=e.setCastMembers,o=e.error,i=e.disabled,c=sa(),l=ua(a,n),s=l.addItem,u=l.removeItem,m=r.useRef();r.useImperativeHandle(t,(function(){return{clear:function(){return m.current.clear()}}}));var p=r.useCallback((function(e){return c(xt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data.data}))}),[c]);return r.createElement(r.Fragment,null,r.createElement(ra,{ref:m,fetchOptions:p,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return s(t)},disabled:!0===i},TextFieldProps:{label:"Elenco",error:void 0!==o}}),r.createElement(wt.a,Object.assign({fullWidth:!0,margin:"none",error:void 0!==o,disabled:!0===i},e.FormControlProps),!!a.length&&r.createElement(ia,null,a.map((function(e){return r.createElement(la,{key:String(e.id),onDelete:function(){return u(e)},xs:6},r.createElement(d.a,{noWrap:!0},e.name))}))),o&&r.createElement(At.a,null,o.message)))})),ba=a(508),ha=a(301),va=a(487),Ea=a(199),Oa=a.n(Ea),xa=a(200),ja=a.n(xa),ya=a(103),Sa=a.n(ya),Pa=a(483),Fa=a(526),Ca=a(322),ka=a(517),wa=a(198),Ta=a.n(wa),Ra=a(358);function Ia(e){return 1===e.progress||Aa(e)}function Aa(e){return Da(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function Da(e){return"video"in e}var Na,La=Object(l.a)((function(e){return{progressContainer:{position:"relative"},progressBackground:{color:ea.a[300]},progress:{position:"absolute",left:0}}})),Ba=function(e){var t=La(),a=e.size,n=e.uploadOrFile,o=Aa(n);return r.createElement(Ra.a,{in:n.progress<1,timeout:{enter:2e3,exit:2e3}},r.createElement("div",{className:t.progressContainer},r.createElement(ta.a,{variant:"static",value:100,className:t.progressBackground,size:a}),r.createElement(ta.a,{variant:"static",value:o?0:100*n.progress,className:t.progress,size:a})))},Ma=a(527),qa=a(196),_a=a.n(qa),Va=a(197),Ua=a.n(Va),Ga=a(61),za=a(146),Ha=a.n(za),Wa=Object(Le.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),Ya=Wa.Types,Qa=Wa.Creators,Xa={uploads:[]},Za=Object(Le.createReducer)(Xa,(Na={},Object(c.a)(Na,Ya.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var a=$a(e,t.payload.video.id);if(-1!==a&&e.uploads[a].progress<1)return e;var r=-1===a?e.uploads:Ha()(e.uploads,{$splice:[[a,1]]});return{uploads:[].concat(Object(Ut.a)(r),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(c.a)(Na,Ya.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0,a=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(a.length===e.uploads.length)return e;return{uploads:a}})),Object(c.a)(Na,Ya.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0,a=t.payload.video.id,r=t.payload.fileField,n=Ka(e,a,r),o=n.indexFile,i=n.indexUpload;if("undefined"===typeof i)return e;var l=e.uploads[i],s=l.files[o];if(s.progress===t.payload.progress)return e;var u=Ha()(e.uploads,Object(c.a)({},i,{$apply:function(e){var a=Ha()(e.files,Object(c.a)({},o,{$set:Object(A.a)({},s,{progress:t.payload.progress})})),r=Ja(a);return Object(A.a)({},e,{progress:r,files:a})}}));return{uploads:u}})),Object(c.a)(Na,Ya.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0,a=t.payload.video.id,r=t.payload.fileField,n=Ka(e,a,r),o=n.indexFile,i=n.indexUpload;if("undefined"===typeof i)return e;var l=e.uploads[i],s=l.files[o],u=Ha()(e.uploads,Object(c.a)({},i,{files:Object(c.a)({},o,{$set:Object(A.a)({},s,{error:t.payload.error,progress:1})})}));return{uploads:u}})),Na));function Ka(e,t,a){var r=$a(e,t);if(-1===r)return{};var n=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[r].files,a);return-1===n?{}:{indexUpload:r,indexFile:n}}function Ja(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function $a(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}var er=Object(l.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main},deleteIcon:{color:e.palette.primary.main}}})),tr=function(e){var t=er(),a=e.upload,n=e.hover,o=Object(Ga.b)(),i=Aa(a),c=Object(r.useState)(!1),l=Object(g.a)(c,2),s=l[0],u=l[1],d=Object(De.a)(s,1500),m=Object(g.a)(d,1)[0];return Object(r.useEffect)((function(){u(Ia(a))}),[a]),m?r.createElement(Ra.a,{in:s,timeout:{enter:1e3}},r.createElement(Ma.a,null,r.createElement("span",{hidden:n},1===a.progress&&!i&&r.createElement(b.a,{className:t.successIcon,edge:"end"},r.createElement(_a.a,null)),i&&r.createElement(b.a,{className:t.errorIcon,edge:"end"},r.createElement(Ua.a,null))),r.createElement("span",{hidden:!n},r.createElement(b.a,{className:t.deleteIcon,edge:"end",onClick:function(){return o(Qa.removeUpload({id:a.video.id}))}},r.createElement(Qe.a,null))))):null},ar=Object(l.a)((function(e){return{movieIcon:{color:e.palette.error.main,minWidth:"40px"},listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),rr=function(e){var t=e.upload,a=ar(),n=Aa(t),o=r.useState(!1),i=Object(g.a)(o,2),c=i[0],l=i[1];return r.createElement(r.Fragment,null,r.createElement(we.a,{disableFocusListener:!0,disableTouchListener:!0,title:n?"N\xe3o foi poss\xedvel fazer o upload, clique para mais detalhes":"",placement:"left"},r.createElement(Pa.a,{button:!0,className:a.listItem,onMouseOver:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},r.createElement(Fa.a,{className:a.movieIcon},r.createElement(Ta.a,null)),r.createElement(Ca.a,{className:a.listItemText,primary:r.createElement(d.a,{noWrap:!0,variant:"subtitle2",color:"primary"},t.video.title)}),r.createElement(Ba,{size:30,uploadOrFile:t}),r.createElement(tr,{upload:t,hover:c}))),r.createElement(ka.a,{component:"li"}))},nr=Object(l.a)((function(e){return{card:{width:"450px"},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:"0px",paddingBottom:"0px"}}})),or=r.forwardRef((function(e,t){var a=e.id,n=Object(D.useSnackbar)().closeSnackbar,o=nr(),i=r.useState(!0),l=Object(g.a)(i,2),s=l[0],u=l[1],m=Object(Ga.c)((function(e){return e.upload.uploads})),p=function(e){return e.filter((function(e){return!Ia(e)})).length}(m);return r.createElement(Gt.a,{ref:t,className:o.card},r.createElement(ba.a,{classes:{root:o.cardActionRoot}},r.createElement(d.a,{variant:"subtitle2",className:o.title},"Fazendo upload de ",p," video(s)"),r.createElement("div",{className:o.icons},r.createElement(b.a,{color:"inherit",onClick:function(){return u(!s)},className:Sa()(o.expand,Object(c.a)({},o.expandOpen,!s))},r.createElement(Oa.a,null)),r.createElement(b.a,{color:"inherit",onClick:function(){return n(a)}},r.createElement(ja.a,null)))),r.createElement(ha.a,{in:s},r.createElement(va.a,{className:o.list},m.map((function(e,t){return r.createElement(rr,{key:t,upload:e})})))))})),ir=Object(l.a)((function(e){return{cardUpload:{borderRadius:"4px",backgroundColor:"#f5f5f5",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#f5f5f5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),cr=Object.keys(yt),lr=Ue.d().shape({title:Ue.f().label("T\xedtulo").max(255).required(),description:Ue.f().label("Sinopse").required(),year_launched:Ue.c().label("Ano de lan\xe7amento").min(1).required(),rating:Ue.f().label("Classifica\xe7\xe3o").required(),cast_members:Ue.a().label("Elenco").required(),genres:Ue.a().label("G\xeaneros").required().test({message:"Cada g\xeanero escolhido precisa ter pelo menos uma categoria selecionada",test:function(e){var t=this;return e.every((function(e){return 0!==e.categories.filter((function(e){return t.parent.categories.map((function(e){return e.id})).includes(e.id)})).length}))}}),categories:Ue.a().label("Categorias").required(),duration:Ue.c().label("Dura\xe7\xe3o").min(1).required()}),sr=function(){var e=ir(),t=Object(Ne.g)().id,a=Object(Ne.f)(),o=Object(D.useSnackbar)().enqueueSnackbar,i=Object(r.useState)(null),c=Object(g.a)(i,2),l=c[0],s=c[1],u=Object(r.useContext)(Xe),m=Object(K.a)(),p=Object(J.a)(m.breakpoints.up("md")),f=n.a.useRef(Object(Z.zipObject)(cr,cr.map((function(){return n.a.createRef()})))),b=n.a.useRef(),h=n.a.useRef(),v=n.a.useRef(),E=Object(at.a)({validationSchema:lr,defaultValues:{rating:"",opened:!1,cast_members:[],genres:[],categories:[]}}),O=E.register,x=E.handleSubmit,j=E.getValues,y=E.setValue,S=E.errors,P=E.reset,F=E.watch,C=E.triggerValidation,k=E.formState,w=Object(Ga.b)();st(k.submitCount,S);var T=n.a.useCallback((function(e){Object.keys(f.current).forEach((function(e){return f.current[e].current.clear()})),b.current.clear(),h.current.clear(),v.current.clear(),P(e)}),[b,h,v,P,f]);function N(e,r){var n=Object(Z.omit)(e,[].concat(Object(Ut.a)(cr),["cast_members","genres","categories"]));n.cast_members_id=e.cast_members.map((function(e){return e.id})),n.categories_id=e.categories.map((function(e){return e.id})),n.genres_id=e.genres.map((function(e){return e.id})),Object(I.a)(R.a.mark((function e(){var i,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=7;break}return e.next=4,Bt.create(n);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,Bt.update(l.id,Object(A.a)({},n,{_method:"PUT"}),{http:{usePost:!0}});case 9:e.t0=e.sent;case 10:i=e.t0,c=i.data,o("V\xeddeo salvo com sucesso.",{variant:"success"}),L(c.data),t&&T(l),setTimeout((function(){r?t?a.replace("/videos/".concat(c.data.id,"/edit")):a.push("/videos/".concat(c.data.id,"/edit")):a.push("/videos")})),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(0),console.log(e.t1),o("N\xe3o foi poss\xedvel salvar o v\xeddeo.",{variant:"error"});case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()}function L(e){var t=cr.filter((function(e){return j()[e]instanceof File})).map((function(e){return{fileField:e,file:j()[e]}}));t.length&&(w(Qa.addUpload({video:e,files:t})),o("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var a=e;return n.a.createElement(or,{id:a})}}))}return Object(r.useEffect)((function(){["rating","opened","cast_members","genres","categories"].concat(Object(Ut.a)(cr)).forEach((function(e){return O({name:e})}))}),[O]),Object(r.useEffect)((function(){t&&Object(I.a)(R.a.mark((function e(){var a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bt.get(t);case 3:a=e.sent,r=a.data,s(r.data),P(r.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[t,P,o]),n.a.createElement(lt,{GridItemProps:{xs:12},onSubmit:x(N)},n.a.createElement(it.a,{container:!0,spacing:5},n.a.createElement(it.a,{item:!0,xs:12,md:6},n.a.createElement(ne.a,{name:"title",label:"T\xedtulo",fullWidth:!0,variant:"outlined",inputRef:O,disabled:u,error:void 0!==S.title,helperText:S.title&&S.title.message,InputLabelProps:{shrink:!0}}),n.a.createElement(ne.a,{name:"description",label:"Sinopse",fullWidth:!0,variant:"outlined",multiline:!0,rows:4,margin:"normal",inputRef:O,disabled:u,error:void 0!==S.description,helperText:S.description&&S.description.message,InputLabelProps:{shrink:!0}}),n.a.createElement(it.a,{container:!0,spacing:1},n.a.createElement(it.a,{item:!0,xs:6},n.a.createElement(ne.a,{name:"year_launched",label:"Ano de lan\xe7amento",type:"number",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:O,disabled:u,error:void 0!==S.year_launched,helperText:S.year_launched&&S.year_launched.message,InputLabelProps:{shrink:!0}})),n.a.createElement(it.a,{item:!0,xs:6},n.a.createElement(ne.a,{name:"duration",label:"Dura\xe7\xe3o",type:"number",fullWidth:!0,variant:"outlined",margin:"normal",inputRef:O,disabled:u,error:void 0!==S.duration,helperText:S.duration&&S.duration.message,InputLabelProps:{shrink:!0}}))),n.a.createElement(ga,{ref:b,castMembers:F("cast_members"),setCastMembers:function(e){return y("cast_members",e,!0)},error:S.cast_members,disabled:u}),n.a.createElement(it.a,{container:!0,spacing:1},n.a.createElement(it.a,{item:!0,xs:12,md:6},n.a.createElement(fa,{ref:v,genres:F("genres"),setGenres:function(e){return y("genres",e,!0)},categories:F("categories"),setCategories:function(e){return y("categories",e,!0)},error:S.genres,disabled:u})),n.a.createElement(it.a,{item:!0,xs:12,md:6},n.a.createElement(pa,{ref:h,categories:F("categories"),setCategories:function(e){return y("categories",e,!0)},genres:F("genres"),error:S.categories,disabled:u})))),n.a.createElement(it.a,{item:!0,xs:12,md:6},n.a.createElement(Xt,{value:F("rating"),setValue:function(e){return y("rating",e,!0)},error:S.rating,disabled:u,FormControlProps:{margin:p?"none":"normal"}}),n.a.createElement("br",null),n.a.createElement(Gt.a,{variant:"outlined",className:e.cardUpload},n.a.createElement(zt.a,null,n.a.createElement(d.a,{color:"primary",variant:"h6"},"Imagens"),n.a.createElement($t,{ref:f.current.thumb_file,label:"Thumb",accept:"image/*",setValue:function(e){return y("thumb_file",e)}}),n.a.createElement($t,{ref:f.current.banner_file,label:"Banner",accept:"image/*",setValue:function(e){return y("banner_file",e)}}))),n.a.createElement(Gt.a,{variant:"outlined",className:e.cardUpload},n.a.createElement(zt.a,null,n.a.createElement(d.a,{color:"primary",variant:"h6"},"V\xeddeos"),n.a.createElement($t,{ref:f.current.trailer_file,label:"Trailer",accept:"video/mp4",setValue:function(e){return y("trailer_file",e)}}),n.a.createElement($t,{ref:f.current.video_file,label:"Principal",accept:"video/mp4",setValue:function(e){return y("video_file",e)}}))),n.a.createElement(Gt.a,{variant:"outlined",className:e.cardOpened},n.a.createElement(zt.a,{className:e.cardContentOpened},n.a.createElement(et.a,{disabled:u,control:n.a.createElement(tt.a,{name:"opened",color:"primary",onChange:function(){return y("opened",!j().opened)},checked:F("opened")}),label:n.a.createElement(d.a,{color:"primary",variant:"subtitle2"},"Quero que este conte\xfado aparece na se\xe7\xe3o lan\xe7amentos."),labelPlacement:"end"}))),n.a.createElement("br",null))),n.a.createElement(nt,{disabledButtons:u,handleSave:function(){C().then((function(e){return e&&N(j(),null)}))}}))},ur=function(){var e=Object(Ne.g)().id;return r.createElement(S,{title:e?"Editar v\xeddeo":"Criar v\xeddeo"},r.createElement(sr,null))},dr=a(536),mr=a(519),pr=a(518),fr=(a(352),Object(l.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}))),gr=function(e){var t=fr(),a=e.uploadOrFile,n=Object(Ga.b)(),o=Aa(a),i=Object(r.useState)(!1),c=Object(g.a)(i,2),l=c[0],s=c[1],u=Object(De.a)(l,1500),d=Object(g.a)(u,1)[0],m=a.video?a.video.id:"",p=Da(a);return Object(r.useEffect)((function(){s(Ia(a))}),[a]),d?r.createElement(Ra.a,{in:!0,timeout:{enter:1e3}},r.createElement(r.Fragment,null,1===a.progress&&!o&&r.createElement(_a.a,{className:t.successIcon}),o&&r.createElement(Ua.a,{className:t.errorIcon}),p&&r.createElement(r.Fragment,null,r.createElement(ka.a,{className:t.divider,orientation:"vertical"}),r.createElement(b.a,{onClick:function(){return n(Qa.removeUpload({id:m}))}},r.createElement(Qe.a,{color:"primary"})),r.createElement(b.a,{component:C.b,to:"/videos/".concat(m,"/edit")},r.createElement(We.a,{color:"primary"}))))):null},br=Object(l.a)((function(e){return{icon:{color:e.palette.error.main,minWidth:"40px"},gridTitle:{display:"flex",color:"#999999"}}})),hr=function(e){var t=br(),a=e.uploadOrFile;return r.createElement(Pa.a,null,r.createElement(it.a,{container:!0,alignItems:"center"},r.createElement(it.a,{className:t.gridTitle,item:!0,xs:12,md:9},r.createElement(Ta.a,{className:t.icon}),r.createElement(d.a,{color:"inherit"},e.children)),r.createElement(it.a,{item:!0,xs:12,md:3},r.createElement(it.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end"},r.createElement(Ba,{size:48,uploadOrFile:a}),r.createElement(gr,{uploadOrFile:a})))))},vr=Object(l.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expendedIcon:{color:e.palette.primary.contrastText}}})),Er=[{name:"dashboard",label:"Dashboard",path:"/",component:P,exact:!0},{name:"categories.list",label:"Listar Categorias",path:"/categories",component:$e,exact:!0},{name:"categories.create",label:"Cadastrar Categoria",path:"/categories/create",component:mt,exact:!0},{name:"categories.edit",label:"Editar Categoria",path:"/categories/:id/edit",component:mt,exact:!0},{name:"genres.list",label:"Listar G\xeaneros",path:"/genres",component:ht,exact:!0},{name:"genres.create",label:"Cadastrar G\xeanero",path:"/genres/create",component:Ot,exact:!0},{name:"genres.edit",label:"Editar G\xeanero",path:"/genres/:id/edit",component:Ot,exact:!0},{name:"cast_members.list",label:"Listar Membros do Elenco",path:"/cast-members",component:kt,exact:!0},{name:"cast_members.create",label:"Cadastrar Membros do Elenco",path:"/cast-members/create",component:Lt,exact:!0},{name:"cast_members.edit",label:"Editar Membros do Elenco",path:"/cast-members/:id/edit",component:Lt,exact:!0},{name:"videos.list",label:"Listar v\xeddeos",path:"/videos",component:Vt,exact:!0},{name:"videos.create",label:"Criar v\xeddeo",path:"/videos/create",component:ur,exact:!0},{name:"videos.edit",label:"Editar v\xeddeo",path:"/videos/:id/edit",component:ur,exact:!0},{name:"uploads.list",label:"Uploads",path:"/uploads",component:function(){var e=vr(),t=Object(Ga.c)((function(e){return e.upload.uploads}));return r.createElement(S,{title:"Uploads"},t.map((function(t,a){return r.createElement(Gt.a,{elevation:5,key:a},r.createElement(zt.a,null,r.createElement(hr,{uploadOrFile:t},t.video.title),r.createElement(dr.a,{style:{margin:0}},r.createElement(mr.a,{className:e.panelSummary,expandIcon:r.createElement(Oa.a,{className:e.expendedIcon})},r.createElement(d.a,null,"Ver detalhes")),r.createElement(pr.a,{style:{padding:"0px"}},r.createElement(it.a,{item:!0,xs:12},t.files.map((function(e,t){return r.createElement(r.Fragment,{key:t},r.createElement(va.a,{dense:!0,style:{padding:"0px"}},r.createElement(ka.a,null),r.createElement(hr,{uploadOrFile:e},"".concat(yt[e.fileField]," - ").concat(e.filename))))})))))))})))},exact:!0}],Or={dashboard:"Dashboard","categories.list":"Categorias","genres.list":"G\xeaneros","cast_members.list":"Membros do Elenco","videos.list":"V\xeddeos","uploads.list":"Uploads"},xr=Er.filter((function(e){return Object.keys(Or).includes(e.name)})),jr=function(){var e=r.useState(null),t=Object(g.a)(e,2),a=t[0],n=t[1],o=Boolean(a),i=function(){return n(null)};return r.createElement(r.Fragment,null,r.createElement(b.a,{edge:"start",color:"inherit","aria-label":"open drawer","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return n(e.currentTarget)}},r.createElement(O.a,null)),r.createElement(h.a,{id:"menu-appbar",open:o,anchorEl:a,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},Object.keys(Or).map((function(e,t){var a=xr.find((function(t){return t.name===e}));return r.createElement(v.a,{key:t,component:C.b,to:a.path,onClick:i},Or[e])}))))},yr=Object(l.a)((function(e){return{toolbar:{backgroundColor:"#000000"},title:{flexGrow:1,textAlign:"center"},logo:Object(c.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),Sr=function(){var e=yr();return r.createElement(s.a,null,r.createElement(u.a,{className:e.toolbar},r.createElement(jr,null),r.createElement(d.a,{className:e.title},r.createElement("img",{src:f.a,alt:"CodeFlix",className:e.logo})),r.createElement(m.a,{color:"inherit"},"Login")))},Pr=a(511),Fr=function(){return r.createElement(Ne.c,null,Er.map((function(e,t){return r.createElement(Ne.a,{key:t,path:e.path,component:e.component,exact:!0===e.exact})})))},Cr=function(e){var t,a=e.children,r=Object(ot.a)(e,["children"]),o={autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},preventDuplicate:!0,ref:function(e){t=e},action:function(e){return n.a.createElement(b.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)}},n.a.createElement(ja.a,null))}},i=Object(A.a)({},o,{},r);return n.a.createElement(D.SnackbarProvider,i,a)},kr=a(525),wr=a(534),Tr=a(354),Rr=a.n(Tr),Ir={};Er.forEach((function(e){return Ir[e.path]=e.label}));var Ar=Object(l.a)((function(e){return Object(na.a)({root:{display:"flex",flexDirection:"column",width:360},linkRouter:{color:e.palette.secondary.main,"&:focus, &:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),Dr=function(e){return n.a.createElement(kr.a,Object.assign({},e,{component:C.b}))};function Nr(){var e=Ar();return n.a.createElement(x.a,null,n.a.createElement(j.a,{paddingTop:2,paddingBottom:1},n.a.createElement(Ne.a,null,(function(t){return function(t){var a=t.pathname.split("/").filter((function(e){return e}));return a.unshift("/"),n.a.createElement(wr.a,{"aria-label":"breadcrumb"},a.map((function(t,r){var o=r===a.length-1,i="".concat(a.slice(0,r+1).join("/").replace("//","/")),c=Object.keys(Ir).find((function(e){return new Rr.a(e).match(i)}));return void 0!==c&&(o?n.a.createElement(d.a,{color:"textPrimary",key:i},Ir[c]):n.a.createElement(Dr,{color:"inherit",to:i,key:i,className:e.linkRouter},Ir[c]))})))}(t.location)}))))}var Lr=a(524);function Br(e){return Object(A.a)({},e,{palette:Object(A.a)({},e.palette,{primary:e.palette.error,type:"dark"})})}var Mr=function(){var e=r.useContext(Xe);return r.createElement($.a,{theme:Br},r.createElement(Ra.a,{in:e},r.createElement(Lr.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:999999}})))},qr=function(e){var t=Object(r.useState)(!1),a=Object(g.a)(t,2),n=a[0],o=a[1],i=Object(r.useState)(0),c=Object(g.a)(i,2),l=c[0],s=c[1];function u(){s((function(e){return e<=0?0:e-1}))}return Object(r.useMemo)((function(){var e=!0,t=function(e,t){var a,r=[],n=Object(V.a)(G);try{for(n.s();!(a=n.n()).done;){var o=a.value.interceptors.request.use(e,t);r.push(o)}}catch(i){n.e(i)}finally{n.f()}return r}((function(t){return e&&!t.headers.hasOwnProperty("x-ignore-loading")&&(o(!0),s((function(e){return e+1}))),t})),a=function(e,t){var a,r=[],n=Object(V.a)(G);try{for(n.s();!(a=n.n()).done;){var o=a.value.interceptors.response.use(e,t);r.push(o)}}catch(i){n.e(i)}finally{n.f()}return r}((function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&u(),t}),(function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&u(),Promise.reject(t)}));return function(){e=!1,t.forEach((function(e,t){return G[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){return G[t].interceptors.response.eject(e)}))}(a)}}),[]),Object(r.useEffect)((function(){l||o(!1)}),[l]),r.createElement(Xe.Provider,{value:n},e.children)};var _r=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(qr,null,n.a.createElement($.a,{theme:Pe},n.a.createElement(Cr,null,n.a.createElement(Pr.a,null),n.a.createElement(C.a,{basename:"/admin"},n.a.createElement(Mr,null),n.a.createElement(Sr,null),n.a.createElement(j.a,{paddingTop:"70px"},n.a.createElement(Nr,null),n.a.createElement(Fr,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Vr=a(86),Ur=a(145),Gr=a(73),zr=R.a.mark(Wr),Hr=R.a.mark(Yr);function Wr(){var e,t,a,r,n,o,i;return R.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Gr.a)(Ya.ADD_UPLOAD);case 2:e=c.sent;case 3:return c.next=6,Object(Gr.e)(e);case 6:t=c.sent,a=t.payload,r=Object(V.a)(a.files),c.prev=9,r.s();case 11:if((n=r.n()).done){c.next=25;break}return o=n.value,c.prev=13,c.next=16,Object(Gr.c)(Yr,{video:a.video,fileInfo:o});case 16:i=c.sent,console.log(i),c.next=23;break;case 20:c.prev=20,c.t0=c.catch(13),console.log(c.t0);case 23:c.next=11;break;case 25:c.next=30;break;case 27:c.prev=27,c.t1=c.catch(9),r.e(c.t1);case 30:return c.prev=30,r.f(),c.finish(30);case 33:console.log(a),c.next=3;break;case 36:case"end":return c.stop()}}),zr,null,[[9,27,30,33],[13,20]])}function Yr(e){var t,a,r,n,o,i;return R.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.video,a=e.fileInfo,c.next=3,Object(Gr.c)(Qr,{id:t.id,fileInfo:a});case 3:r=c.sent;case 4:return c.prev=5,c.next=8,Object(Gr.e)(r);case 8:if(n=c.sent,o=n.progress,!(i=n.response)){c.next=13;break}return c.abrupt("return",i);case 13:return c.next=15,Object(Gr.d)(Qa.updateProgress({video:t,fileField:a.fileField,progress:o}));case 15:c.next=22;break;case 17:return c.prev=17,c.t0=c.catch(5),c.next=21,Object(Gr.d)(Qa.setUploadError({video:t,fileField:a.fileField,error:c.t0}));case 21:throw c.t0;case 22:c.next=4;break;case 24:case"end":return c.stop()}}),Hr,null,[[5,17]])}function Qr(e){var t=e.id,a=e.fileInfo;return Object(Ur.c)((function(e){Bt.partialUpdate(t,Object(c.a)({_method:"PATCH"},a.fileField,a.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){var a=t.loaded/t.total;e({progress:a})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(Ur.a)}));return function(){}}))}var Xr=R.a.mark(Zr);function Zr(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Gr.b)([Wr()]);case 2:case"end":return e.stop()}}),Xr)}var Kr=Object(Ur.b)(),Jr=Object(Vr.e)(Object(Vr.c)({upload:Za}),Object(Vr.a)(Kr));Kr.run(Zr);var $r=Jr;i.a.render(n.a.createElement(Ga.a,{store:$r},n.a.createElement(_r,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[366,1,2]]]);
//# sourceMappingURL=main.b4409dee.chunk.js.map