{"version":3,"sources":["static/img/logo.png","components/Page/index.tsx","pages/Dashboard.tsx","util/http/http-resource.ts","util/http/index.ts","util/http/category-http.ts","util/format.ts","components/DefaultTable/DebouncedTableSearch.js","hooks/useDeleteCollection.ts","components/DeleteDialog/index.tsx","components/DefaultTable/index.tsx","theme.ts","components/Badge/index.tsx","components/DefaultTable/FilterResetButton.tsx","store/filter/index.ts","hooks/useFilter.ts","util/vendor/yup.ts","components/Loading/LoadigContext.tsx","pages/category/Table.tsx","pages/category/PageList.tsx","components/SubmitActions/index.tsx","components/DefaultForm/index.tsx","hooks/useSnackbarFormError.ts","pages/category/Form.tsx","pages/category/PageForm.tsx","util/http/genre-http.ts","pages/genre/Table.tsx","pages/genre/PageList.tsx","pages/genre/Form.tsx","pages/genre/PageForm.tsx","util/http/cast-member-http.ts","util/models.ts","pages/cast-member/Table.tsx","pages/cast-member/PageList.tsx","pages/cast-member/Form.tsx","pages/cast-member/PageForm.tsx","util/http/video-http.ts","pages/video/Table.tsx","pages/video/PageList.tsx","components/Rating/index.tsx","pages/video/Form/RatingField.tsx","components/InputFile/index.tsx","pages/video/Form/UploadField.tsx","components/AsyncAutocomplete/index.tsx","components/GridSelected/index.tsx","components/GridSelected/GridSelectedItem/index.tsx","hooks/useHttpHandled.ts","hooks/useCollectionManager.ts","util/model-filters.ts","pages/video/Form/CategoryField.tsx","pages/video/Form/GenreField.tsx","pages/video/Form/CastMemberField.tsx","store/upload/getters.ts","components/UploadProgress/index.tsx","store/upload/index.ts","components/SnackbarUpload/UploadAction.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","pages/video/Form/index.tsx","pages/video/PageForm.tsx","pages/uploads/UploadAction.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Navbar/Menu.tsx","components/Navbar/index.tsx","routes/AppRouter.tsx","components/SnackbarProvider/index.tsx","components/Breadcrumbs/index.tsx","components/Spinner/index.tsx","components/Loading/LoadingProvider.tsx","App.tsx","serviceWorker.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["module","exports","useStyles","makeStyles","title","color","Page","props","classes","Container","Typography","className","component","variant","Box","paddingTop","children","Dashboard","HttpResource","http","resource","cancelList","options","this","cancel","axios","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","delete","error","isCancel","objectToFormData","booleansAsIntegers","Object","values","filter","el","File","length","httpVideo","create","baseURL","process","instances","categoryHttp","formatDate","Intl","NumberFormat","style","currency","format","date","fns","DebouncedTableSearch","handleTextChange","event","value","target","setState","text","debouncedOnSearch","onSearch","onKeyDown","keyCode","onHide","searchText","undefined","state","debounce","bind","debounceTime","document","addEventListener","prevProps","prevState","snapshot","e","removeEventListener","Grow","appear","in","timeout","main","ref","rootRef","searchIcon","TextField","autoFocus","InputProps","textLabels","toolbar","search","onChange","fullWidth","inputRef","searchField","placeholder","searchPlaceholder","IconButton","clearIcon","onClick","React","PureComponent","withStyles","theme","display","flex","palette","secondary","marginTop","marginRight","name","useDeleteCollection","useState","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","useEffect","DeleteDialog","open","handleClose","numRows","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","DefaultTable","useDelete","deleteOptions","prepare","defaultProps","columns","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","defaultOptions","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","debouncedSearchTime","onRowsDelete","rowsDeleted","newProps","merge","forEach","column","key","width","overrides","MUIDataTableHeadCell","fixedHeaderCommon","setColumnsWitdh","map","omit","loading","applyLoading","responsive","originalProps","snackbar","useSnackbar","copyTheme","selector","MUIDataTableBodyCell","root","paddingBottom","confirmed","ids","index","join","deleteCollection","then","response","enqueueSnackbar","reloadData","reloadFunction","filterState","per_page","page","Promise","resolve","reject","filterManager","changePage","finally","catch","console","primary","contrastText","dark","background","default","success","createMuiTheme","MuiChip","MUIDataTable","paper","boxShadow","MUIDataTableToolbar","minHeight","backgroundColor","icon","iconActive","sortActive","sortAction","alignItems","sortLabelRoot","MUIDataTableSelectCell","headerCell","padding","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","MUIDataTableFilterList","chip","marginBottom","localTheme","BadgeYes","Chip","label","BadgeNo","FilterResetButton","Tooltip","handleClick","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","total","order","sort","dir","reducer","createReducer","SET_SEARCH","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","useFilter","history","useHistory","FilterManager","initialState","getStateFromUrl","useReducer","dispatch","useDebounce","debounceFilterState","totalRecords","setTotalRecords","debouncedState","applyOderInColumns","replaceHistory","setLocale","mixed","required","notType","string","max","number","min","rowsPerPageOptions","tableRef","schema","createValidationSchema","perPage","changedColumn","direction","includes","resetTablePagination","cast","update","sortDirection","newText","replace","pathname","location","URLSearchParams","formatSearchParams","newLocation","cleanSearchText","oldState","nextState","isEqual","push","substr","current","changeRowsPerPage","Yup","shape","transform","isNaN","parseInt","nullable","toLowerCase","LoadingContext","createContext","ROWS_PER_PAGE_OPTIONS","columnsDefinition","filterType","filterOptions","names","customBodyRender","tableMeta","updateValue","searchable","setCellProps","whiteSpace","to","Table","forwardRef","subscribed","useRef","categories","setCategories","useContext","is_active","pushHistory","getData","JSON","stringify","indexColumnIsActive","findIndex","columnIsActive","isActiveFilterValue","filterList","serverSideFilterList","a","list","meta","isCancelledRequest","serverSide","count","customToolbar","resetFilter","onFilterChange","changeExtraFilter","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeColumnSort","PageList","Fab","size","Link","submit","marginLeft","spacing","SubmitActions","disabledButtons","handleSave","buttonProps","disabled","type","gridItem","DefaultForm","GridContainerProps","GridItemProps","otherProps","Grid","container","item","useSnackbarFormError","submitCount","errors","hasError","keys","validationSchema","Form","useForm","defaultValues","register","handleSubmit","getValues","setValue","watch","triggerValidation","formState","useParams","category","setCategory","onSubmit","formData","setTimeout","log","isSubscribed","xs","md","helperText","message","InputLabelProps","shrink","multiline","rows","margin","FormControlLabel","control","Checkbox","checked","labelPlacement","isValid","PageForm","genreHttp","genres","setGenres","split","indexColumnCategories","columnCategories","categoriesFilterValue","columnIndex","categories_id","genre","setGenre","promises","categoryResponse","genreResponse","select","SelectProps","multiple","messages","MenuItem","castMemberHttp","CastMemberTypeMap","1","2","VideoFileFieldsMap","thumb_file","banner_file","trailer_file","video_file","castMemberNames","castMembers","setCastMembers","indexColumnType","columnType","typeFilterValue","invert","castMember","setCastMember","FormControl","FormLabel","RadioGroup","defaultValue","aria-label","Radio","FormHelperText","videoHttp","videos","opened","indexColumnGenres","columnGenres","genresFilterValue","indexColumnOpened","columnOpened","openedFilterValue","height","fontSize","borderRadius","justifyContent","backgroundColors","L","10","12","14","16","18","Rating","rating","ratings","RatingField","FormControlProps","row","String","InputFile","fileRef","filename","setFilename","textFieldProps","TextFieldProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFileProps","InputFileProps","hidden","files","Array","from","file","useImperativeHandle","openWindow","click","clear","UploadField","accept","endIcon","CloudUpload","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setLoading","setOptions","autoCompleteProps","loadingText","noOptionsText","inputValue","renderInput","CircularProgress","Autocomplete","createStyles","GridSelected","wrap","GridSelectedItem","onDelete","other","useHttpHandled","useCallback","request","useCollectionManager","collection","setCollection","addItem","find","currentItem","unshift","removeItem","splice","getGenresFromCategory","genresSubtitle","grey","CategoryField","autoCompleteHttp","autocompleteRef","clearOnEscape","getOptionLabel","option","getOptionSelected","genresFromCategory","noWrap","GenreField","removeCategory","CastMemberField","isFinished","obj","progress","isUploadType","some","progressContainer","progressBackground","left","UploadProgress","uploadOrFile","Fade","enter","exit","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","$splice","fileField","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexFile","indexUpload","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum","successIcon","errorIcon","deleteIcon","UploadAction","hover","useDispatch","show","setShow","debouncedShow","ListItemSecondaryAction","edge","movieIcon","minWidth","listItem","listItemText","UploadItem","itemHover","setItemHover","disableFocusListener","disableTouchListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","closeSnackbar","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classNames","Collapse","List","cardUpload","cardOpened","cardContentOpened","fileFields","description","year_launched","cast_members","test","every","v","cat","parent","c","setVideo","isGreaterMd","up","uploadsRef","zipObject","createRef","castMemberRef","categoryRef","genreRef","resetForm","field","cast_member","_method","uploadFiles","persist","anchorOrigin","vertical","horizontal","content","CardContent","divider","activeActions","orientation","gridTitle","justify","panelSummary","expendedIcon","routes","path","exact","CategoryList","CategoryForm","GenreList","GenreForm","CastMembersList","CastMembersForm","VideoList","VideoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","listRoutes","menuRoutes","route","Menu","anchorEl","setAnchorEl","Boolean","aria-controls","aria-haspopup","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","AppRouter","SnackbarProvider","snackbarProviderRef","rest","autoHideDuration","maxSnack","preventDuplicate","breadcrumbNameMap","flexDirection","linkRouter","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","last","slice","RouteParser","match","makeBreadcrumb","makeLocalTheme","Spinner","LinearProgress","zIndex","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","prevCountRequest","useMemo","requestIds","onFulfilled","onRejected","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","responseIds","addGlobalResponseInterceptor","eject","removeGlobalResponseInterceptor","Provider","App","Fragment","CssBaseline","basename","window","hostname","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialUpdate","onUploadProgress","progressEvent","lengthComputable","loaded","END","rootSaga","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b4409dee.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import * as React from 'react';\nimport {Box, Container, Typography} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n    title: {\n        color: '#999999'\n    }\n});\n\ntype PageProps = {\n    title: string\n};\nexport const Page: React.FC<PageProps> = (props) => {\n    const classes = useStyles();\n\n    return (\n        <Container>\n            <Typography className={classes.title} component=\"h1\" variant=\"h5\">\n                {props.title}\n            </Typography>\n            <Box paddingTop={2}>\n                {props.children}\n            </Box>\n        </Container>\n    );\n};","import * as React from 'react';\nimport {Page} from '../components/Page'\n\ninterface DashboardProps {\n\n}\n\nconst Dashboard = (props: DashboardProps) => {\n    return (\n        <Page title=\"Dashboard\">\n\n        </Page>\n    );\n};\n\nexport default Dashboard;","import {AxiosInstance, AxiosResponse, AxiosRequestConfig, CancelTokenSource} from \"axios\";\nimport axios from 'axios'\nimport {objectToFormData} from 'object-to-formdata'\n\nexport default class HttpResource {\n\n    private cancelList: CancelTokenSource | null = null\n\n    constructor(protected http: AxiosInstance, protected resource) {\n\n    }\n\n    list<T = any>(options?: { queryParams? }): Promise<AxiosResponse<T>> {\n        if (this.cancelList) {\n            this.cancelList.cancel('list request cancelled')\n        }\n        this.cancelList = axios.CancelToken.source()\n\n        const config: AxiosRequestConfig = {\n            cancelToken: this.cancelList.token\n        }\n\n        if (options && options.queryParams) {\n            config.params = options.queryParams\n        }\n        return this.http.get<T>(this.resource, config)\n    }\n\n    get<T = any>(id): Promise<AxiosResponse<T>> {\n        return this.http.get<T>(`${this.resource}/${id}`)\n    }\n\n    create<T = any>(data): Promise<AxiosResponse<T>> {\n        let sendData = this.makeSendData(data)\n        return this.http.post<T>(this.resource, sendData)\n    }\n\n    update<T = any>(id, data, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = data\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data)\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n    partialUpdate<T = any>(id, data, options?: { http?: { usePost: boolean }, config?: AxiosRequestConfig }): Promise<AxiosResponse<T>> {\n        let sendData = data\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data)\n        }\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n    delete<T = any>(id): Promise<AxiosResponse<T>> {\n        return this.http.delete<T>(`${this.resource}/${id}`)\n    }\n\n    deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\n        const config: AxiosRequestConfig = {}\n        if (queryParams) {\n            config['params'] = queryParams\n        }\n        return this.http.delete<T>(`${this.resource}`, config)\n    }\n\n    isCancelledRequest(error) {\n        return axios.isCancel(error)\n    }\n\n    private makeSendData(data) {\n        return this.containsFile(data) ? this.getFormData(data) : data\n    }\n\n    private getFormData(data) {\n        // const formData = new FormData()\n        // Object\n        //     .keys(data)\n        //     .forEach(key => {\n        //         let value = data[key]\n        //         if (typeof value === \"undefined\") {\n        //             return\n        //         }\n\n        //         if (typeof value === \"boolean\") {\n        //             value = value ? 1 : 0\n        //         }\n\n        //         if (value instanceof Array) {\n        //             value.forEach(v => formData.append(`${key}[]`, v))\n        //             return\n        //         }\n        //         formData.append(key, value)\n        //     })\n        return objectToFormData(data, {booleansAsIntegers: true})\n    }\n\n    private containsFile(data) {\n        return Object\n            .values(data)\n            .filter(el => el instanceof File).length !== 0\n    }\n}","import axios, {AxiosError, AxiosRequestConfig, AxiosResponse} from 'axios';\n\nexport const httpVideo = axios.create({\n    baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL\n})\n\nconst instances = [httpVideo];\n\nexport function addGlobalRequestInterceptor(\n    onFulfilled?: (value: AxiosRequestConfig) => AxiosRequestConfig | Promise<AxiosRequestConfig>,\n    onRejected?: (error: AxiosError) => any\n) {\n    const ids: number[] = []\n    for (let i of instances) {\n        const id = i.interceptors.request.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function addGlobalResponseInterceptor(\n    onFulfilled?: (value: AxiosResponse) => AxiosResponse | Promise<AxiosResponse>,\n    onRejected?: (error: AxiosError) => any\n) {\n    const ids: number[] = [];\n    for (let i of instances) {\n        const id = i.interceptors.response.use(onFulfilled, onRejected);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]) {\n    ids.forEach((id, index) => instances[index].interceptors.request.eject(id));\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]) {\n    ids.forEach((id, index) => instances[index].interceptors.response.eject(id));\n}","import HttpResource from \"./http-resource\";\nimport {httpVideo} from \"./index\";\n\nconst categoryHttp = new HttpResource(httpVideo, \"categories\");\n\nexport default categoryHttp;","import * as fns from 'date-fns';\n\nexport const { format: formatPrice } = new Intl.NumberFormat('pt-BR', {\n  style: 'currency',\n  currency: 'BRL',\n});\n\n// eslint-disable-next-line arrow-body-style\nexport const formatDate = (date: string, format: string) => {\n  return fns.format(fns.parseISO(date), format);\n};\n","import React from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport {withStyles} from '@material-ui/core/styles';\nimport {debounce} from 'lodash';\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: 'flex',\n        flex: '1 0 auto',\n    },\n    searchIcon: {\n        color: theme.palette.text.secondary,\n        marginTop: '10px',\n        marginRight: '8px',\n    },\n    searchText: {\n        flex: '0.8 0',\n    },\n    clearIcon: {\n        '&:hover': {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\nclass DebouncedTableSearch extends React.PureComponent {\n\n    constructor(props) {\n        super(props);\n        const {searchText} = this.props;\n        let value = searchText;\n\n        if (searchText && searchText.value !== undefined) {\n            value = searchText.value\n        }\n        this.state = {\n            text: value\n        }\n\n        this.debouncedOnSearch = debounce(this.debouncedOnSearch.bind(this), this.props.debounceTime);\n    }\n\n    handleTextChange = event => {\n        const value = event.target.value;\n        this.setState({\n            text: value\n        }, () => this.debouncedOnSearch(value));\n    }\n\n    debouncedOnSearch = (value) => {\n        this.props.onSearch(value);\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.onKeyDown, false);\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {searchText} = this.props;\n\n        if (searchText && searchText.value !== undefined && prevProps !== this.props.searchText) {\n            const value = searchText.value;\n            if (value) {\n                this.setState({\n                    text: value\n                }, () => this.props.onSearch(value));\n            } else {\n                try {\n                    this.props.onHide();\n                } catch (e) {\n\n                }\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.onKeyDown, false);\n    }\n\n    onKeyDown = event => {\n        if (event.keyCode === 27) {\n            this.props.onHide();\n        }\n    }\n\n    render() {\n        const {classes, options, onHide} = this.props;\n        let value = this.state.text;\n        return (\n            <Grow appear in={true} timeout={300}>\n                <div className={classes.main} ref={el => (this.rootRef = el)}>\n                    <SearchIcon className={classes.searchIcon}/>\n                    <TextField\n                        className={classes.searchText}\n                        autoFocus={true}\n                        InputProps={{\n                            'data-test-id': options.textLabels.toolbar.search,\n                            'aria-label': options.textLabels.toolbar.search,\n                        }}\n                        value={value || ''}\n                        onChange={this.handleTextChange}\n                        fullWidth={true}\n                        inputRef={el => (this.searchField = el)}\n                        placeholder={options.searchPlaceholder}\n                    />\n                    <IconButton className={classes.clearIcon} onClick={onHide}>\n                        <ClearIcon/>\n                    </IconButton>\n                </div>\n            </Grow>\n        );\n    }\n}\n\nexport default withStyles(defaultSearchStyles, {name: 'MUIDataTableSearch'})(DebouncedTableSearch);","import {useState, useEffect} from \"react\";\n\nconst useDeleteCollection = () => {\n    const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n    const [rowsToDelete, setRowsToDelete] = useState<{ data: Array<{ index, dataIndex }> }>({data: []});\n\n    useEffect(() => {\n        if (rowsToDelete.data.length) {\n            setOpenDeleteDialog(true);\n        }\n    }, [rowsToDelete]);\n\n    return {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete};\n}\n\nexport default useDeleteCollection;","import * as React from 'react';\nimport {Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button} from '@material-ui/core';\n\ninterface DeleteDialogProps {\n    open: boolean;\n    handleClose: (confirmed: boolean) => void;\n    numRows?: number;\n}\n\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n    const {open, handleClose, numRows = 0} = props;\n\n    return (\n        <Dialog\n            open={open}\n            onClose={() => handleClose(false)}\n        >\n            <DialogTitle>Exclusão de registros</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Deseja realmente excluir esse(s)\n                    {numRows! > 0 ? ` ${numRows}` : ''} registro(s)?\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => handleClose(false)} color=\"secondary\">Cancelar</Button>\n                <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>Excluir</Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nexport default DeleteDialog","import * as React from 'react';\nimport MUIDataTable, {MUIDataTableProps, MUIDataTableColumn, MUIDataTableOptions} from 'mui-datatables';\nimport {merge, omit, cloneDeep} from 'lodash';\nimport {useTheme, Theme, MuiThemeProvider, useMediaQuery} from '@material-ui/core';\nimport DebouncedTableSearch from './DebouncedTableSearch';\nimport HttpResource from \"../../util/http/http-resource\";\nimport useDeleteCollection from \"../../hooks/useDeleteCollection\";\nimport DeleteDialog from \"../DeleteDialog\";\nimport {useSnackbar} from \"notistack\";\nimport {State as FilterState} from '../../store/filter/types';\nimport {FilterManager} from \"../../hooks/useFilter\";\n\nexport interface TableColumn extends MUIDataTableColumn {\n    width?: string;\n}\n\nexport interface MuiDataTableRefComponent {\n    changePage: (page: number) => void;\n    changeRowsPerPage: (rowsPerPage: number) => void;\n}\n\nexport interface TableProps extends MUIDataTableProps, React.RefAttributes<MuiDataTableRefComponent> {\n    columns: TableColumn[];\n    loading?: boolean;\n    debouncedSearchTime?: number;\n    deleteOptions?: DeleteOptionsProps;\n    filterState?: FilterState | null;\n    filterManager?: FilterManager | null;\n    reloadFunction?: { reloadData: () => Promise<void> };\n}\n\nexport interface DeleteOptionsProps {\n    resource?: HttpResource | any;\n    prepare?: (a: any[]) => void;\n}\n\nconst makeDefaultOptions = (defaultProps?: TableProps | null): MUIDataTableOptions => ({\n    print: false,\n    download: false,\n    textLabels: {\n        body: {\n            noMatch: \"Nenhum registro encontrado\",\n            toolTip: \"Classificar\"\n        },\n        pagination: {\n            next: \"Próxima página\",\n            previous: \"Página anterior\",\n            rowsPerPage: \"Por página:\",\n            displayRows: \"de\"\n        },\n        toolbar: {\n            search: \"Busca\",\n            downloadCsv: \"Download CSV\",\n            print: \"Imprimir\",\n            viewColumns: \"Ver Colunas\",\n            filterTable: \"Filtrar Tabelas\"\n        },\n        filter: {\n            all: \"Todos\",\n            title: \"FILTROS\",\n            reset: \"LIMPAR\"\n        },\n        viewColumns: {\n            title: \"Ver Colunas\",\n            titleAria: \"Ver/Esconder Colunas da Tabela\"\n        },\n        selectedRows: {\n            text: \"registro(s) selecionados\",\n            delete: \"Excluir\",\n            deleteAria: \"Excluir registros selecionados\"\n        }\n    },\n    customSearchRender: (searchText: string,\n                         handleSearch: any,\n                         hideSearch: any,\n                         options: any) => {\n        return <DebouncedTableSearch\n            searchText={searchText}\n            onSearch={handleSearch}\n            onHide={hideSearch}\n            options={options}\n            debounceTime={defaultProps!.debouncedSearchTime}\n        />\n    },\n    ...(defaultProps!.deleteOptions && {\n        onRowsDelete: (rowsDeleted: any[]) => {\n            defaultProps!\n                .deleteOptions!\n                .prepare!(rowsDeleted as any)\n            return false\n        }\n    }),\n});\n\nconst DefaultTable = React.forwardRef<MuiDataTableRefComponent, TableProps>((props, ref) => {\n    const useDelete = props.deleteOptions ? useDeleteCollection() : null;\n    props.deleteOptions!.prepare = useDelete!.setRowsToDelete as any;\n\n    function extractMuiDataTableColumns(columns: TableColumn[]): MUIDataTableColumn[] {\n        setColumnsWitdh(columns);\n        return columns.map(column => omit(column, 'width'));\n    }\n\n    function setColumnsWitdh(columns: TableColumn[]) {\n        columns.forEach((column, key) => {\n            if (column.width) {\n                const overrides = theme.overrides as any;\n                overrides.MUIDataTableHeadCell.fixedHeaderCommon[`&:nth-child(${key + 2})`] = {\n                    width: column.width\n                }\n            }\n        })\n    }\n\n    function applyLoading() {\n        const textLabels = (newProps.options as any).textLabels;\n\n        textLabels.body.noMatch = newProps.loading === true ? 'Caregando...' : textLabels.body.noMatch;\n    }\n\n    function applyResponsive() {\n        newProps.options.responsive = isSmOrDown ? 'scrollMaxHeight' : 'stacked';\n    }\n\n    function getOriginalMuiDataTableProps() {\n        return {\n            ...omit(newProps, 'loading'),\n            ref\n        }\n    }\n\n    const theme = cloneDeep<Theme>(useTheme());\n    const isSmOrDown = useMediaQuery(theme.breakpoints.down('sm'));\n\n    const defaultOptions = makeDefaultOptions(props);\n\n    const newProps = merge(\n        {options: cloneDeep(defaultOptions)},\n        props,\n        {columns: extractMuiDataTableColumns(props.columns)}\n    );\n\n    applyLoading();\n    applyResponsive();\n\n    const originalProps = getOriginalMuiDataTableProps();\n\n\n    const snackbar = useSnackbar();\n\n    function deleteRows(confirmed: boolean) {\n        if (!confirmed) {\n            useDelete!.setOpenDeleteDialog(false);\n            return;\n        }\n\n        const ids = useDelete!.rowsToDelete!\n            .data\n            .map(value => (props.data[value.index] as any).id)\n            .join(',');\n\n        props.deleteOptions!.resource!\n            .deleteCollection({ids})\n            .then(response => {\n                snackbar.enqueueSnackbar('Registros excluidos com sucesso!', {\n                    variant: 'success'\n                });\n                let reloadData = props!.reloadFunction!.reloadData;\n                if (useDelete!.rowsToDelete.data.length === props!.filterState!.pagination.per_page\n                    && props!.filterState!.pagination.page > 1) {\n                    const page = props!.filterState!.pagination.page - 2;\n                    reloadData = function () {\n                        return new Promise(function (resolve, reject) {\n                            resolve(props!.filterManager!.changePage(page));\n                        });\n                    };\n                }\n                reloadData!().finally(\n                    () => useDelete!.setOpenDeleteDialog(false)\n                );\n            })\n            .catch(error => {\n                console.error(error)\n                snackbar.enqueueSnackbar('Não foi possível excluir os registros', {\n                    variant: 'error'\n                });\n            });\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(originalProps.columns.length - 1)}>\n            {\n                props.deleteOptions\n                && (<DeleteDialog\n                    numRows={useDelete!.rowsToDelete.data.length}\n                    open={useDelete!.openDeleteDialog}\n                    handleClose={deleteRows}/>)\n            }\n            <MUIDataTable {...originalProps}/>\n        </MuiThemeProvider>\n    )\n});\n\nexport default DefaultTable;\n\nexport function makeActionStyles(column) {\n    return theme => {\n        const copyTheme = cloneDeep<Theme>(theme);\n        const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column}\"]`;\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n            paddingTop: '0px',\n            paddingBottom: '0px',\n        };\n        return copyTheme;\n    }\n}","import {createMuiTheme, SimplePaletteColorOptions} from '@material-ui/core';\nimport {PaletteOptions} from '@material-ui/core/styles/createPalette';\n//import {green, red} from '@material-ui/core/colors';\n\nconst palette: PaletteOptions = {\n    primary: {\n        main: '#79aec8',\n        contrastText: '#ffffff',\n    },\n    secondary: {\n        main: '#4db5ab',\n        dark: '#055a52',\n        contrastText: '#ffffff',\n    },\n    background: {\n        default: '#fafafa',\n    },\n    success: {\n        main: '#2dbf64',\n        contrastText: '#ffffff',\n    },\n    error: {\n        main: '#ed5650',\n        contrastText: '#ffffff',\n    },\n};\n\nconst theme = createMuiTheme({\n    palette,\n    overrides: {\n        MuiChip: {\n          root: {\n              marginRight: '3px',\n              color: '#646464',\n          },\n        },\n        MUIDataTable: {\n            paper: {\n                boxShadow: 'none',\n            },\n        },\n        MUIDataTableToolbar: {\n            root: {\n                minHeight: '58px',\n                backgroundColor: palette.background?.default,\n            },\n            icon: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &:focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).dark,\n                },\n            },\n            iconActive: {\n                color: (palette!.secondary as SimplePaletteColorOptions).dark,\n                '&:hover, &:active, &:focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).dark,\n                },\n            },\n        },\n        MUIDataTableHeadCell: {\n            fixedHeaderCommon: {\n                paddingTop: 8,\n                paddingBottom: 8,\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                color: '#ffffff',\n                '&[aria-sort]': {\n                    backgroundColor: '#459ac4',\n                },\n            },\n            sortActive: {\n                color: '#ffffff',\n            },\n            sortAction: {\n                alignItems: 'center',\n            },\n            sortLabelRoot: {\n                '& svg': {\n                    color: '#ffffff !important',\n                },\n            },\n        },\n        MUIDataTableSelectCell: {\n            root: {\n                backgroundColor: 'transparent !important',\n            },\n            headerCell: {\n                backgroundColor: `${(palette!.primary as SimplePaletteColorOptions).main} !important`,\n                '& span': {\n                    color: '#ffffff !important',\n                },\n            },\n        },\n        MUIDataTableBodyCell: {\n            root: {\n                padding: 8,\n                color: (palette!.secondary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &:focus': {\n                    color: (palette!.secondary as SimplePaletteColorOptions).main,\n                },\n            },\n        },\n        MUIDataTableToolbarSelect: {\n            title: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            },\n            iconButton: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            },\n        },\n        MUIDataTableBodyRow: {\n            root: {\n                '&:nth-child(odd)': {\n                    backgroundColor: palette!.background!.default,\n                },\n            },\n        },\n        MUIDataTablePagination: {\n            root: {\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n            },\n        },\n        MUIDataTableFilterList: {\n            chip: {\n                marginBottom: '16px',\n            },\n        },\n    },\n});\n\nexport default theme;","import * as React from 'react';\nimport {Chip, createMuiTheme, MuiThemeProvider, PropTypes} from '@material-ui/core';\nimport theme from '../../theme';\n\nconst localTheme = createMuiTheme({\n    palette: {\n        primary: theme.palette.success,\n        secondary: theme.palette.error,\n    },\n});\n\nexport const BadgeYes = () => (\n    <MuiThemeProvider theme={localTheme}>\n        <Chip label=\"Sim\" color=\"primary\"/>\n    </MuiThemeProvider>\n);\n\nexport const BadgeNo = () => (\n    <MuiThemeProvider theme={localTheme}>\n        <Chip label=\"Não\" color=\"secondary\"/>\n    </MuiThemeProvider>\n);\n\n\ntype BadgeProps = {\n    label: string,\n    color?: PropTypes.Color,\n};\n\nexport const Badge = (props: BadgeProps) => (\n    <MuiThemeProvider\n        theme={theme}\n    >\n        <Chip\n            label={props.label}\n            color={'color' in props ? props.color : \"default\"}\n        />\n    </MuiThemeProvider>\n);","import * as React from 'react'\nimport {Tooltip, IconButton, makeStyles} from '@material-ui/core'\nimport ClearAllIcon from '@material-ui/icons/ClearAll'\n\nconst useStyles = makeStyles(theme => ({\n            iconButton: (theme as any).overrides.MUIDataTableToolbar.icon\n        }\n    )\n);\n\ninterface FilterResetButtonProps {\n    handleClick: () => void;\n}\n\nexport const FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n    const classes = useStyles();\n\n    return (\n        <Tooltip title='Limpar busca'>\n            <IconButton className={classes.iconButton} onClick={props.handleClick}>\n                <ClearAllIcon/>\n            </IconButton>\n        </Tooltip>\n    );\n}","import { createActions, createReducer } from 'reduxsauce';\nimport * as Typings from './types';\n\nexport const { Types, Creators } = createActions<Typings.ActionTypes, Typings.ActionCreators>({\n  setSearch: ['payload'],\n  setPage: ['payload'],\n  setPerPage: ['payload'],\n  setOrder: ['payload'],\n  setReset: ['payload'],\n  updateExtraFilter: ['payload'],\n});\n\nexport const INITIAL_STATE: Typings.State = {\n  search: null,\n  pagination: {\n    page: 1,\n    total: 0,\n    per_page: 10,\n  },\n  order: {\n    sort: null,\n    dir: null,\n  },\n};\n\nconst reducer = createReducer<Typings.State, Typings.Actions>(INITIAL_STATE, {\n  [Types.SET_SEARCH]: setSearch as any,\n  [Types.SET_PAGE]: setPage as any,\n  [Types.SET_PER_PAGE]: setPerPage as any,\n  [Types.SET_ORDER]: setOrder as any,\n  [Types.SET_RESET]: setReset as any,\n  [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter as any,\n});\n\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction): Typings.State {\n  return {\n    ...state,\n    search: action.payload.search,\n    pagination: {\n      ...state.pagination,\n      page: 1,\n    },\n  };\n}\n\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction): Typings.State {\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      page: action.payload.page,\n    },\n  };\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: Typings.SetPerPageAction): Typings.State {\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      page: 1,\n      per_page: action.payload.per_page,\n    },\n  };\n}\n\nfunction setOrder(state = INITIAL_STATE, action: Typings.SetOrderAction): Typings.State {\n  return {\n    ...state,\n    order: {\n      sort: action.payload.sort,\n      dir: action.payload.dir,\n    },\n  };\n}\n\nfunction setReset(state = INITIAL_STATE, action: Typings.SetResetAction): Typings.State {\n  return action.payload.state;\n}\n\nfunction updateExtraFilter(\n  state = INITIAL_STATE,\n  action: Typings.UpdateExtraFilterAction,\n): Typings.State {\n  return {\n    ...state,\n    extraFilter: {\n      ...state.extraFilter,\n      ...action.payload,\n    },\n  };\n}\n\nexport default reducer;\n","import React, { Dispatch, Reducer, useEffect, useReducer, useState } from 'react';\nimport { MUIDataTableColumn } from 'mui-datatables';\nimport { useDebounce } from 'use-debounce';\nimport { useHistory } from 'react-router';\nimport { History } from 'history';\nimport { isEqual } from 'lodash';\nimport reducer, { Creators } from '../store/filter';\nimport { Actions as FilterActions, State as FilterState } from '../store/filter/types';\nimport * as Yup from '../util/vendor/yup';\nimport { MuiDataTableRefComponent } from '../components/DefaultTable';\n\ninterface FilterManagerOptions {\n  columns: MUIDataTableColumn[];\n  rowsPerPage: number;\n  rowsPerPageOptions: number[];\n  debounceTime: number;\n  history: History;\n  tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n  extraFilter?: ExtraFilter;\n}\n\ninterface ExtraFilter {\n  getStateFromUrl: (queryParams: URLSearchParams) => any;\n  formatSearchParams: (debouncedState: FilterState) => any;\n  createValidationSchema: () => any;\n}\n\ntype UseFilterOptions = Omit<FilterManagerOptions, 'history'>;\n\nexport default function useFilter(options: UseFilterOptions) {\n  const history = useHistory();\n  const filterManager = new FilterManager({ ...options, history });\n  const initialState = filterManager.getStateFromUrl();\n  const [filterState, dispatch] = useReducer<Reducer<FilterState, FilterActions>>(\n    reducer,\n    initialState,\n  );\n  const [debounceFilterState] = useDebounce(filterState, options.debounceTime);\n  const [totalRecords, setTotalRecords] = useState<number>(0);\n\n  filterManager.state = filterState;\n  filterManager.debouncedState = debounceFilterState;\n  filterManager.dispatch = dispatch;\n\n  filterManager.applyOderInColumns();\n\n  useEffect(() => {\n    filterManager.replaceHistory();\n  }, []); // eslint-disable-line\n\n  return {\n    columns: filterManager.columns,\n    filterManager,\n    filterState,\n    debounceFilterState,\n    dispatch,\n    totalRecords,\n    setTotalRecords,\n  };\n}\n\nexport class FilterManager {\n  state: FilterState = null as any;\n\n  debouncedState: FilterState = null as any;\n\n  dispatch: Dispatch<FilterActions> = null as any;\n\n  columns: MUIDataTableColumn[];\n\n  rowsPerPage: number;\n\n  rowsPerPageOptions: number[];\n\n  debounceTime: number;\n\n  history: History;\n\n  tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n\n  extraFilter?: ExtraFilter;\n\n  schema;\n\n  constructor(options: FilterManagerOptions) {\n    const {\n      columns,\n      rowsPerPage,\n      rowsPerPageOptions,\n      debounceTime,\n      history,\n      tableRef,\n      extraFilter,\n    } = options;\n    this.columns = columns;\n    this.rowsPerPage = rowsPerPage;\n    this.rowsPerPageOptions = rowsPerPageOptions;\n    this.debounceTime = debounceTime;\n    this.history = history;\n    this.tableRef = tableRef;\n    this.extraFilter = extraFilter;\n    this.createValidationSchema();\n  }\n\n  changeSearch(value) {\n    this.dispatch(Creators.setSearch({ search: value }));\n  }\n\n  changePage(page) {\n    this.dispatch(Creators.setPage({ page: page + 1 }));\n  }\n\n  changeRowsPerPage(perPage) {\n    this.dispatch(Creators.setPerPage({ per_page: perPage }));\n  }\n\n  changeColumnSort(changedColumn: string, direction: string) {\n    this.dispatch(\n      Creators.setOrder({ sort: changedColumn, dir: direction.includes('desc') ? 'desc' : 'asc' }),\n    );\n    this.resetTablePagination();\n  }\n\n  changeExtraFilter(data) {\n    this.dispatch(Creators.updateExtraFilter(data));\n  }\n\n  resetFilter() {\n    const initialState = {\n      ...this.schema.cast({}),\n      search: { value: null, update: true },\n    };\n\n    this.dispatch(Creators.setReset({ state: initialState }));\n    this.resetTablePagination();\n  }\n\n  applyOderInColumns() {\n    this.columns = this.columns.map((column) => {\n      if (column.name !== this.state.order.sort) return column;\n\n      return {\n        ...column,\n        options: {\n          ...column.options,\n          sortDirection: this.state.order.dir as any,\n        },\n      };\n    });\n  }\n\n  cleanSearchText(text) {\n    let newText = text;\n    if (text && text.value !== undefined) {\n      newText = text.value;\n    }\n    return newText;\n  }\n\n  replaceHistory() {\n    this.history.replace({\n      pathname: this.history.location.pathname,\n      search: `?${new URLSearchParams(this.formatSearchParams() as any)}`,\n      state: this.debouncedState,\n    });\n  }\n\n  pushHistory() {\n    const newLocation = {\n      pathname: this.history.location.pathname,\n      search: `?${new URLSearchParams(this.formatSearchParams() as any)}`,\n      state: { ...this.debouncedState, search: this.cleanSearchText(this.debouncedState.search) },\n    };\n\n    const oldState = this.history.location.state;\n    const nextState = this.debouncedState;\n\n    if (isEqual(oldState, nextState)) return;\n\n    this.history.push(newLocation);\n  }\n\n  private formatSearchParams() {\n    const search = this.cleanSearchText(this.debouncedState.search);\n\n    return {\n      ...(search && search !== '' && { search }),\n      ...(this.debouncedState.pagination.page !== 1 && {\n        page: this.debouncedState.pagination.page,\n      }),\n      ...(this.debouncedState.pagination.per_page !== 10 && {\n        per_page: this.debouncedState.pagination.per_page,\n      }),\n      ...(this.debouncedState.order.sort && { ...this.debouncedState.order }),\n      ...(this.extraFilter && this.extraFilter.formatSearchParams(this.debouncedState)),\n    };\n  }\n\n  getStateFromUrl() {\n    const queryParams = new URLSearchParams(this.history.location.search.substr(1));\n\n    return this.schema.cast({\n      search: queryParams.get('search'),\n      pagination: {\n        page: queryParams.get('page'),\n        per_page: queryParams.get('per_page'),\n      },\n      order: {\n        sort: queryParams.get('sort'),\n        dir: queryParams.get('dir'),\n      },\n      ...(this.extraFilter && { extraFilter: this.extraFilter.getStateFromUrl(queryParams) }),\n    });\n  }\n\n  private resetTablePagination() {\n    this.tableRef.current.changeRowsPerPage(this.rowsPerPage);\n    this.tableRef.current.changePage(0);\n  }\n\n  private createValidationSchema() {\n    this.schema = Yup.object().shape({\n      search: Yup.string()\n        .transform((value) => (!value ? undefined : value))\n        .default(''),\n      pagination: Yup.object().shape({\n        page: Yup.number()\n          .transform((value) => (isNaN(value) || parseInt(value, 10) < 1 ? undefined : value))\n          .default(1),\n        per_page: Yup.number()\n          .transform((value) =>\n            isNaN(value) || !this.rowsPerPageOptions.includes(parseInt(value, 10))\n              ? undefined\n              : value,\n          )\n          .default(this.rowsPerPage),\n      }),\n      order: Yup.object().shape({\n        sort: Yup.string()\n          .nullable()\n          .transform((value) => {\n            const columnsName = this.columns\n              .filter((column) => !column.options || column.options.sort !== false)\n              .map((column) => column.name);\n            return columnsName.includes(value) ? value : undefined;\n          })\n          .default(null),\n        dir: Yup.string()\n          .nullable()\n          .transform((value) =>\n            !value || !['asc', 'desc'].includes(value.toLowerCase()) ? undefined : value,\n          )\n          .default(null),\n      }),\n      ...(this.extraFilter && { extraFilter: this.extraFilter.createValidationSchema() }),\n    });\n  }\n}\n","/* eslint-disable no-template-curly-in-string */\nimport {LocaleObject, setLocale} from 'yup';\n\nconst ptBR: LocaleObject = {\n    mixed: {\n        required: '${path} é requerido',\n        notType: '${path} é inválido',\n    },\n    string: {\n        max: '${path} precisa ter no máximo ${max} caracteres',\n    },\n    number: {\n        min: '${path} precisa ser no mínimo ${min}',\n    },\n};\n\nsetLocale(ptBR);\n\nexport * from 'yup';","import {createContext} from \"react\";\n\nconst LoadingContext = createContext(false);\n\nexport default LoadingContext;","import React, {MutableRefObject, useContext, useEffect, useRef, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {useSnackbar} from 'notistack';\nimport categoryHttp from '../../util/http/category-http';\nimport {formatDate} from '../../util/format';\nimport DefaultTable, {MuiDataTableRefComponent, TableColumn} from '../../components/DefaultTable';\nimport {BadgeNo, BadgeYes} from '../../components/Badge';\nimport {Category, ListResponse} from '../../util/models';\nimport {FilterResetButton} from '../../components/DefaultTable/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport * as Yup from '../../util/vendor/yup';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport LoadingContext from \"../../components/Loading/LoadigContext\";\n\nconst DEBOUNCE_TIME = 300;\nconst DEBOUNCE_SEARCH_TIME = 300;\nconst ROWS_PER_PAGE = 10;\nconst ROWS_PER_PAGE_OPTIONS = [10, 25, 50];\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'name',\n        label: 'Nome',\n        options: {\n            filter: false,\n        },\n    },\n    {\n        name: 'is_active',\n        label: 'Ativo?',\n        width: '15%',\n        options: {\n            filter: true,\n            filterType: 'dropdown',\n            filterOptions: {\n                names: ['Sim', 'Não'],\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes/> : <BadgeNo/>;\n            },\n        },\n    },\n    {\n        name: 'created_at',\n        label: 'Criado em',\n        width: '15%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return formatDate(value, \"dd/MM/yyyy 'às' H:mm\");\n            },\n        },\n    },\n    {\n        name: 'id',\n        label: 'Ações',\n        options: {\n            sort: false,\n            print: false,\n            filter: false,\n            searchable: false,\n            setCellProps: (value) => ({\n                style: {\n                    width: '10%',\n                    whiteSpace: 'nowrap',\n                },\n            }),\n            customBodyRender(value, tableMeta, updateValue) {\n                return (\n                    <>\n                        <Link to={`/categories/${value}/edit`}><EditIcon color={\"secondary\"}/></Link>\n                        <Link to={`/categories/${value}/delete`}><DeleteIcon color={\"secondary\"}/></Link>\n                    </>\n                );\n            },\n        },\n    },\n];\n\nconst Table = React.forwardRef(() => {\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [categories, setCategories] = useState<Category[]>([]);\n    const loading = useContext(LoadingContext);\n    const tableRef = useRef() as MutableRefObject<MuiDataTableRefComponent>;\n    const {\n        columns,\n        filterManager,\n        filterState,\n        debounceFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        rowsPerPage: ROWS_PER_PAGE,\n        rowsPerPageOptions: ROWS_PER_PAGE_OPTIONS,\n        debounceTime: DEBOUNCE_TIME,\n        tableRef,\n        extraFilter: {\n            createValidationSchema: () => {\n                return Yup.object().shape({\n                    is_active: Yup.string()\n                        .nullable()\n                        .transform((value) => (!value || !['Sim', 'Não'].includes(value) ? undefined : value))\n                        .default(null),\n                });\n            },\n            formatSearchParams: (debouncedState) => {\n                return debouncedState.extraFilter\n                    ? {\n                        ...(debouncedState.extraFilter.is_active !== null && {\n                            is_active: debouncedState.extraFilter.is_active,\n                        }),\n                    }\n                    : undefined;\n            },\n            getStateFromUrl: (queryParams) => ({is_active: queryParams.get('is_active')}),\n        },\n    });\n\n    useEffect(() => {\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        };\n        // eslint-disable-next-line\n    }, [\n        filterManager.cleanSearchText(debounceFilterState.search), // eslint-disable-line\n        debounceFilterState.pagination.page,\n        debounceFilterState.pagination.per_page,\n        debounceFilterState.order,\n        JSON.stringify(debounceFilterState.extraFilter), // eslint-disable-line\n    ]);\n\n    // column is_active\n    const indexColumnIsActive = columns.findIndex((column) => column.name === 'is_active');\n    const columnIsActive = columns[indexColumnIsActive];\n    const isActiveFilterValue =\n        filterState.extraFilter && (filterState.extraFilter.is_active as never);\n    (columnIsActive.options as any).filterList = isActiveFilterValue ? [isActiveFilterValue] : [];\n\n    const serverSideFilterList = columns.map((column) => []);\n    if (isActiveFilterValue !== undefined && isActiveFilterValue !== null) {\n        serverSideFilterList[indexColumnIsActive] = [isActiveFilterValue];\n    }\n\n    async function getData() {\n        try {\n            const response = await categoryHttp.list<ListResponse<Category>>({\n                queryParams: {\n                    search: filterManager.cleanSearchText(filterState.search),\n                    page: filterState.pagination.page,\n                    per_page: filterState.pagination.per_page,\n                    sort: filterState.order.sort,\n                    dir: filterState.order.dir,\n                    ...(debounceFilterState.extraFilter &&\n                        debounceFilterState.extraFilter.is_active !== null && {\n                            is_active: debounceFilterState.extraFilter.is_active === 'Sim',\n                        }),\n                },\n            });\n            if (subscribed.current) {\n                setCategories(response.data.data);\n                setTotalRecords(response.data.meta.total);\n            }\n        } catch (error) {\n            if (categoryHttp.isCancelledRequest(error)) return;\n            snackbar.enqueueSnackbar('Não foi possível carregar as informações.', {variant: 'error'});\n        }\n    }\n\n    return (\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={categories}\n                loading={loading}\n                debouncedSearchTime={DEBOUNCE_SEARCH_TIME}\n                ref={tableRef}\n                filterState={filterState}\n                filterManager={filterManager}\n                reloadFunction={{\n                    reloadData: () => getData()\n                }}\n                deleteOptions={{\n                    resource: categoryHttp,\n                }}\n                options={{\n                    serverSide: true,\n                    serverSideFilterList,\n                    responsive: 'scrollMaxHeight',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions: ROWS_PER_PAGE_OPTIONS,\n                    count: totalRecords,\n                    customToolbar: () => <FilterResetButton handleClick={() => filterManager.resetFilter()}/>,\n                    onFilterChange: (changedColumn, filterList) => {\n                        if (changedColumn === 'is_active') {\n                            filterManager.changeExtraFilter({\n                                [changedColumn]:\n                                    filterList[indexColumnIsActive][0] !== undefined\n                                        ? filterList[indexColumnIsActive][0]\n                                        : null,\n                            });\n                        }\n                    },\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn, direction) =>\n                        filterManager.changeColumnSort(changedColumn, direction),\n                }}\n            />\n    );\n});\n\nexport default Table;","import * as React from 'react';\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from \"./Table\";\nimport {Page} from \"../../components/Page\";\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de Categorias\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={\"Adicionar Categoria\"}\n                    color={\"secondary\"}\n                    size={\"small\"}\n                    component={Link}\n                    to={\"categories/create\"}\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import * as React from 'react';\nimport {Box, Button, ButtonProps, makeStyles, Theme} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    submit: {\n        marginLeft: theme.spacing(1),\n        marginTop: theme.spacing(1),\n    },\n}));\n\ntype SubmitActionsProps = {\n    disabledButtons?: boolean;\n    handleSave: () => void;\n};\n\nconst SubmitActions: React.FC<SubmitActionsProps> = ({\n                                                         disabledButtons,\n                                                         handleSave,\n                                                     }: SubmitActionsProps) => {\n    const classes = useStyles();\n\n    const buttonProps: ButtonProps = {\n        className: classes.submit,\n        color: 'secondary',\n        variant: 'contained',\n        disabled: disabledButtons === undefined ? false : disabledButtons,\n    };\n\n    return (\n        <Box dir=\"ltf\">\n            <Button {...buttonProps} onClick={handleSave}>\n                Salvar\n            </Button>\n            <Button {...buttonProps} type=\"submit\">\n                Salvar e continuar editando\n            </Button>\n        </Box>\n    );\n};\n\nexport default SubmitActions;\n","import * as React from 'react';\nimport {Grid, GridProps, makeStyles, Theme} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    gridItem: {\n        padding: theme.spacing(1, 0),\n    },\n}));\n\ninterface DefaultFormProps\n    extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement> {\n    GridContainerProps?: GridProps;\n    GridItemProps?: GridProps;\n}\n\nconst DefaultForm: React.FC<DefaultFormProps> = ({\n                                                     GridContainerProps,\n                                                     GridItemProps,\n                                                     children,\n                                                     ...otherProps\n                                                 }: DefaultFormProps) => {\n    const classes = useStyles();\n\n    return (\n        <form {...otherProps}>\n            <Grid container {...GridContainerProps}>\n                <Grid item className={classes.gridItem} {...GridItemProps}>\n                    {children}\n                </Grid>\n            </Grid>\n        </form>\n    );\n};\n\nexport default DefaultForm;\n","import {useSnackbar} from \"notistack\";\nimport {useEffect} from \"react\";\n\nconst useSnackbarFormError = (submitCount, errors) => {\n    const {enqueueSnackbar} = useSnackbar();\n    useEffect(() => {\n        const hasError = Object.keys(errors).length !== 0\n        if (submitCount > 0 && hasError) {\n            enqueueSnackbar(\n                'Formulário inválido. Reveja os campos destacados em vermelho!',\n                {variant: 'error'}\n            );\n        }\n    }, [submitCount, errors, enqueueSnackbar]);\n}\n\nexport default useSnackbarFormError;","import * as React from 'react';\nimport {Checkbox, FormControlLabel, TextField} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport * as Yup from '../../util/vendor/yup';\nimport {useContext, useEffect, useState} from \"react\";\nimport {useParams, useHistory} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport {Category, GetResponse} from \"../../util/models\";\nimport SubmitActions from \"../../components/SubmitActions\";\nimport DefaultForm from \"../../components/DefaultForm\";\nimport useSnackbarFormError from \"../../hooks/useSnackbarFormError\";\nimport LoadingContext from \"../../components/Loading/LoadigContext\";\n\nconst validationSchema = Yup.object().shape({\n    name: Yup.string()\n        .label('Nome')\n        .max(255)\n        .required(),\n});\n\nexport const Form: React.FC = () => {\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        triggerValidation,\n        formState\n    } = useForm<{name, is_active}>({\n        validationSchema,\n        defaultValues: {\n            name: '',\n            is_active: true\n        }\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [category, setCategory] = useState<Category | null>(null);\n    const loading = useContext(LoadingContext);\n\n    useEffect(() => {\n        register({name: \"is_active\"});\n    }, [register]);\n\n    useEffect(() => {\n        let isSubscribed = true;\n\n        if (!id) {\n            return;\n        }\n\n        (async () => {\n            try {\n                const {data} = await categoryHttp.get<GetResponse<Category>>(id);\n                if (isSubscribed) {\n                    setCategory(data.data);\n                    reset(data.data);\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar('Não foi possível carregar a categoria', {\n                    variant: 'error'\n                });\n            }\n        })();\n        return () => {\n            isSubscribed = false;\n        }\n    }, [id, reset, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        try {\n            const http = !category ? categoryHttp.create(formData) : categoryHttp.update(category.id, formData);\n            const {data} = await http;\n            enqueueSnackbar(\n                \"Categoria salva com sucesso!\",\n                {variant: 'success'}\n            );\n\n            setTimeout(() => {\n                event\n                    ? id\n                    ? history.replace(`/categories/${data.data.id}/edit`)\n                    : history.push(`/categories/${data.data.id}/edit`)\n                    : history.push('/categories');\n            });\n        } catch (error) {\n            console.log(error);\n            enqueueSnackbar(\n                \"Não foi possível salvar a categoria\",\n                {variant: 'error'}\n            );\n        }\n    }\n\n    return (\n        <DefaultForm\n            GridItemProps={{xs: 12, md: 6}}\n            onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{shrink: true}}\n            />\n            <TextField\n                name=\"description\"\n                label=\"Descrição\"\n                multiline\n                rows=\"4\"\n                fullWidth\n                variant={\"outlined\"}\n                margin={\"normal\"}\n                inputRef={register}\n                disabled={loading}\n                InputLabelProps={{shrink: true}}\n            />\n            <FormControlLabel\n                disabled={loading}\n                control={\n                    <Checkbox\n                        name=\"is_active\"\n                        color={\"primary\"}\n                        onChange={\n                            () => setValue('is_active', !getValues()['is_active'])\n                        }\n                        checked={watch('is_active')}\n                    />\n                }\n                label={'Ativo?'}\n                labelPlacement={'end'}\n            />\n            <SubmitActions disabledButtons={loading}\n                           handleSave={() =>\n                               triggerValidation().then(isValid => {\n                                   isValid && onSubmit(getValues(), null)\n                               })\n                           }\n            />\n        </DefaultForm>\n    );\n};","import * as React from 'react';\nimport {useParams} from 'react-router';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\n\nconst PageForm: React.FC = () => {\n    const {id} = useParams();\n\n    return (\n        <Page title={!id ? 'Cadastrar categoria' : 'Editar categoria'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default PageForm;","import HttpResource from \"./http-resource\";\nimport {httpVideo} from \"./index\";\n\nconst genreHttp = new HttpResource(httpVideo, \"genres\");\n\nexport default genreHttp;","import React, {MutableRefObject, useContext, useEffect, useRef, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {useSnackbar} from 'notistack';\nimport genreHttp from '../../util/http/genre-http';\nimport {formatDate} from '../../util/format';\nimport DefaultTable, {MuiDataTableRefComponent, TableColumn} from '../../components/DefaultTable';\nimport {BadgeNo, BadgeYes} from '../../components/Badge';\nimport {Category, Genre, ListResponse} from '../../util/models';\nimport useFilter from '../../hooks/useFilter';\nimport * as Yup from '../../util/vendor/yup';\nimport categoryHttp from '../../util/http/category-http';\nimport {FilterResetButton} from '../../components/DefaultTable/FilterResetButton';\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport LoadingContext from \"../../components/Loading/LoadigContext\";\n\nconst DEBOUNCE_TIME = 300;\nconst DEBOUNCE_SEARCH_TIME = 300;\nconst ROWS_PER_PAGE = 10;\nconst ROWS_PER_PAGE_OPTIONS = [10, 25, 50];\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'name',\n        label: 'Nome',\n        options: {\n            filter: false,\n        },\n    },\n    {\n        name: 'categories',\n        label: 'Categorias',\n        options: {\n            filter: true,\n            filterType: 'multiselect',\n            filterOptions: {\n                names: [],\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value.map((category: Category) => category.name).join(', ');\n            },\n        },\n    },\n    {\n        name: 'is_active',\n        label: 'Ativo?',\n        width: '15%',\n        options: {\n            filter: true,\n            filterType: 'dropdown',\n            filterList: [],\n            filterOptions: {\n                names: ['Sim', 'Não'],\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes/> : <BadgeNo/>;\n            },\n        },\n    },\n    {\n        name: 'created_at',\n        label: 'Criado em',\n        width: '15%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return formatDate(value, \"dd/MM/yyyy 'às' H:mm\");\n            },\n        },\n    },\n    {\n        name: 'id',\n        label: 'Ações',\n        options: {\n            sort: false,\n            print: false,\n            filter: false,\n            searchable: false,\n            setCellProps: (value) => ({\n                style: {\n                    width: '10%',\n                    whiteSpace: 'nowrap',\n                },\n            }),\n            customBodyRender(value, tableMeta, updateValue) {\n                return (\n                    <>\n                        <Link to={`/genres/${value}/edit`}><EditIcon color={\"secondary\"}/></Link>\n                        <Link to={`/genres/${value}/delete`}><DeleteIcon color={\"secondary\"}/></Link>\n                    </>\n                );\n            },\n        },\n    },\n];\n\nconst Table = React.forwardRef(() => {\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [genres, setGenres] = useState<Genre[]>([]);\n    const loading = useContext(LoadingContext);\n    const tableRef = useRef() as MutableRefObject<MuiDataTableRefComponent>;\n    const {\n        columns,\n        filterManager,\n        filterState,\n        debounceFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        rowsPerPage: ROWS_PER_PAGE,\n        rowsPerPageOptions: ROWS_PER_PAGE_OPTIONS,\n        debounceTime: DEBOUNCE_TIME,\n        tableRef,\n        extraFilter: {\n            createValidationSchema: () => {\n                return Yup.object().shape({\n                    categories: Yup.mixed()\n                        .nullable()\n                        .transform((value) => (!value || value === '' ? undefined : value.split(',')))\n                        .default(null),\n                    is_active: Yup.string()\n                        .nullable()\n                        .transform((value) => (!value || !['Sim', 'Não'].includes(value) ? undefined : value))\n                        .default(null),\n                });\n            },\n            formatSearchParams: (debouncedState) => {\n                return debouncedState.extraFilter\n                    ? {\n                        ...(debouncedState.extraFilter.categories && {\n                            categories: debouncedState.extraFilter.categories.join(','),\n                        }),\n                        ...(debouncedState.extraFilter.is_active !== null && {\n                            is_active: debouncedState.extraFilter.is_active,\n                        }),\n                    }\n                    : undefined;\n            },\n            getStateFromUrl: (queryParams) => ({\n                categories: queryParams.get('categories'),\n                is_active: queryParams.get('is_active'),\n            }),\n        },\n    });\n\n    // column categories\n    const indexColumnCategories = columns.findIndex((column) => column.name === 'categories');\n    const columnCategories = columns[indexColumnCategories];\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories;\n    (columnCategories.options as any).filterList = categoriesFilterValue || [];\n\n    const serverSideFilterList = columns.map((column) => []);\n    if (categoriesFilterValue) {\n        serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n    }\n\n    // column is_active\n    const indexColumnIsActive = columns.findIndex((column) => column.name === 'is_active');\n    const columnIsActive = columns[indexColumnIsActive];\n    const isActiveFilterValue =\n        filterState.extraFilter && (filterState.extraFilter.is_active as never);\n    (columnIsActive.options as any).filterList = isActiveFilterValue ? [isActiveFilterValue] : [];\n\n    if (isActiveFilterValue !== undefined && isActiveFilterValue !== null) {\n        serverSideFilterList[indexColumnIsActive] = [isActiveFilterValue];\n    }\n\n    useEffect(() => {\n        let isSubscribed = true;\n\n        (async () => {\n            try {\n                const response = await categoryHttp.list({queryParams: {all: ''}});\n                if (isSubscribed) {\n                    (columnCategories.options as any).filterOptions.names = response.data.data.map(\n                        (category) => category.name,\n                    );\n                }\n            } catch (error) {\n                snackbar.enqueueSnackbar('Não foi possível carregar as informações.', {variant: 'error'});\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        };\n    }, []); // eslint-disable-line\n\n    useEffect(() => {\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        };\n        // eslint-disable-next-line\n    }, [\n        filterManager.cleanSearchText(debounceFilterState.search), // eslint-disable-line\n        debounceFilterState.pagination.page,\n        debounceFilterState.pagination.per_page,\n        debounceFilterState.order,\n        JSON.stringify(debounceFilterState.extraFilter), // eslint-disable-line\n    ]);\n\n    async function getData() {\n        try {\n            const response = await genreHttp.list<ListResponse<Genre>>({\n                queryParams: {\n                    search: filterManager.cleanSearchText(filterState.search),\n                    page: filterState.pagination.page,\n                    per_page: filterState.pagination.per_page,\n                    sort: filterState.order.sort,\n                    dir: filterState.order.dir,\n                    ...(debounceFilterState.extraFilter &&\n                        debounceFilterState.extraFilter.categories && {\n                            categories: debounceFilterState.extraFilter.categories.join(','),\n                        }),\n                    ...(debounceFilterState.extraFilter &&\n                        debounceFilterState.extraFilter.is_active !== null && {\n                            is_active: debounceFilterState.extraFilter.is_active === 'Sim',\n                        }),\n                },\n            });\n\n            if (subscribed.current) {\n                setGenres(response.data.data);\n                setTotalRecords(response.data.meta.total);\n            }\n        } catch (error) {\n            if (categoryHttp.isCancelledRequest(error)) return;\n            snackbar.enqueueSnackbar('Não foi possível carregar as informações.', {variant: 'error'});\n        }\n    }\n\n    return (\n        <DefaultTable\n            title=\"\"\n            columns={columns}\n            data={genres}\n            loading={loading}\n            debouncedSearchTime={DEBOUNCE_SEARCH_TIME}\n            ref={tableRef}\n            filterState={filterState}\n            filterManager={filterManager}\n            reloadFunction={{\n                reloadData: () => getData()\n            }}\n            deleteOptions={{\n                resource: genreHttp,\n            }}\n            options={{\n                serverSide: true,\n                serverSideFilterList,\n                responsive: 'scrollMaxHeight',\n                searchText: filterState.search as any,\n                page: filterState.pagination.page - 1,\n                rowsPerPage: filterState.pagination.per_page,\n                rowsPerPageOptions: ROWS_PER_PAGE_OPTIONS,\n                count: totalRecords,\n                customToolbar: () => <FilterResetButton handleClick={() => filterManager.resetFilter()}/>,\n                onFilterChange: (changedColumn, filterList) => {\n                    if (changedColumn === 'is_active') {\n                        filterManager.changeExtraFilter({\n                            [changedColumn]:\n                                filterList[indexColumnIsActive][0] !== undefined\n                                    ? filterList[indexColumnIsActive][0]\n                                    : null,\n                        });\n                    }\n\n                    if (changedColumn === 'categories') {\n                        const columnIndex = columns.findIndex((column) => column.name === changedColumn);\n                        filterManager.changeExtraFilter({\n                            [changedColumn]: filterList[columnIndex].length ? filterList[columnIndex] : null,\n                        });\n                    }\n                },\n                onSearchChange: (value) => filterManager.changeSearch(value),\n                onChangePage: (page) => filterManager.changePage(page),\n                onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                onColumnSortChange: (changedColumn, direction) =>\n                    filterManager.changeColumnSort(changedColumn, direction),\n            }}\n        />\n    );\n});\n\nexport default Table;\n","import * as React from 'react';\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from \"./Table\";\nimport {Page} from \"../../components/Page\";\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de Gêneros\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={\"Adicionar Gênero\"}\n                    color={\"secondary\"}\n                    size={\"small\"}\n                    component={Link}\n                    to={\"genres/create\"}\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import * as React from 'react';\nimport {MenuItem, TextField} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport genreHttp from \"../../util/http/genre-http\";\nimport {useContext, useEffect} from \"react\";\nimport categoryHttp from \"../../util/http/category-http\";\nimport * as Yup from \"../../util/vendor/yup\";\nimport {useParams, useHistory} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport {Category, Genre} from \"../../util/models\";\nimport SubmitActions from \"../../components/SubmitActions\";\nimport DefaultForm from \"../../components/DefaultForm\";\nimport useSnackbarFormError from \"../../hooks/useSnackbarFormError\";\nimport LoadingContext from \"../../components/Loading/LoadigContext\";\n\nconst validationSchema = Yup.object().shape({\n    name: Yup.string()\n        .label('Nome')\n        .required()\n        .max(255),\n    categories_id: Yup.array()\n        .label('Categorias')\n        .required(),\n});\n\nexport const Form = () => {\n\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        triggerValidation,\n        formState\n    } = useForm<{name, categories_id}>({\n        validationSchema,\n        defaultValues: {\n            name: '',\n            categories_id: []\n        }\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [genre, setGenre] = React.useState<Genre | null>(null);\n    const [categories, setCategories] = React.useState<Category[]>([]);\n    const loading = useContext(LoadingContext);\n\n    const handleChange = event => setValue('categories_id', event.target.value);\n\n    useEffect(() => {\n        register({name: \"categories_id\"});\n    }, [register]);\n\n    React.useEffect(() => {\n        let isSubscribed = true;\n\n        (async () => {\n            const promises = [categoryHttp.list({queryParams: {all: ''}})];\n            if (id) {\n                promises.push(genreHttp.get(id));\n            }\n\n            try {\n                const [categoryResponse, genreResponse] = await Promise.all(promises)\n                if (isSubscribed) {\n                    setCategories(categoryResponse.data.data);\n\n                    if (id) {\n                        setGenre(genreResponse.data.data);\n                        reset({\n                            ...genreResponse.data.data,\n                            categories_id: genreResponse.data.data.categories.map(category => category.id)\n                        });\n                    }\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar('Não foi possível carregar as categorias', {\n                    variant: 'error'\n                });\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n    }, [id, reset, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        try {\n            const http = !genre ? genreHttp.create(formData) : genreHttp.update(genre.id, formData)\n            const {data} = await http;\n\n            enqueueSnackbar('Gênero salvo com sucesso!', {\n                variant: 'success'\n            });\n\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/genres/${data.data.id}/edit`)\n                            : history.push(`/genres/${data.data.id}/edit`)\n                    ) : history.push('/genres');\n            });\n        } catch (error) {\n            console.error(error);\n            enqueueSnackbar('Não foi possível salvar o gênero', {\n                variant: 'error'\n            });\n        }\n    }\n\n    return (\n        <DefaultForm\n            GridItemProps={{xs: 12, md: 6}}\n            onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant=\"outlined\"\n                disabled={loading}\n                inputRef={register}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{shrink: true}}\n            />\n\n            <TextField\n                name=\"categories_id\"\n                label=\"Categorias\"\n                select\n                SelectProps={{\n                    multiple: true\n                }}\n                value={watch('categories_id')}\n                fullWidth\n                variant=\"outlined\"\n                margin=\"normal\"\n                onChange={handleChange}\n                disabled={loading}\n                error={errors.categories_id !== undefined}\n                helperText={errors.categories_id && (errors.categories_id as any).messages}\n                InputLabelProps={{shrink: true}}\n            >\n                {\n                    categories.map((category, index) => (\n                        <MenuItem key={index} value={category.id}>{category.name}</MenuItem>\n                    ))\n                }\n            </TextField>\n            <SubmitActions disabledButtons={loading}\n                           handleSave={() =>\n                               triggerValidation().then(isValid => {\n                                   isValid && onSubmit(getValues(), null)\n                               })\n                           }\n            />\n        </DefaultForm>\n    );\n};","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\nimport {useParams} from \"react-router\";\n\nconst PageForm = () => {\n    const {id} = useParams();\n\n    return (\n        <Page title={!id ? 'Cadastrar Gênero' : 'Editar Gênero'}>\n            <Form/>\n        </Page>\n\n    );\n};\n\nexport default PageForm;","import HttpResource from \"./http-resource\";\nimport {httpVideo} from \"./index\";\n\nconst castMemberHttp = new HttpResource(httpVideo, \"cast_members\");\n\nexport default castMemberHttp;","export interface ListResponse<T> {\n    data: T[];\n    links: {\n        first: string;\n        last: string;\n        prev: string | null;\n        next: string | null;\n    };\n    meta: {\n        current_page: number;\n        from: number;\n        last_page: number;\n        path: string;\n        per_page: number;\n        to: number;\n        total: number;\n    };\n}\n\nexport interface GetResponse<T> {\n    data: T;\n}\n\nexport interface Timestampable {\n    readonly created_at: string;\n    readonly updated_at: string;\n    readonly deleted_at: string | null;\n}\n\nexport interface Category extends Timestampable {\n    readonly id: string;\n    name: string;\n    description: string;\n    is_active: boolean;\n}\n\nexport interface CastMember extends Timestampable {\n    readonly id: string;\n    name: string;\n    type: number;\n}\n\nexport const CastMemberTypeMap = {\n    1: 'Diretor',\n    2: 'Ator',\n};\n\nexport interface Genre extends Timestampable {\n    readonly id: string;\n    name: string;\n    is_active: boolean;\n    categories: Category[];\n}\n\nexport type GenreVideo = Omit<Genre, 'categories'>;\n\nexport const VideoFileFieldsMap = {\n    thumb_file: 'Thumbnail',\n    banner_file: 'Banner',\n    trailer_file: 'Trailer',\n    video_file: 'Principal',\n};\n\nexport interface Video extends Timestampable {\n    readonly id: string;\n    title: string;\n    description: string;\n    year_launched: number;\n    opened: boolean;\n    rating: string;\n    duration: number;\n    cast_members: CastMember[];\n    genres: GenreVideo[];\n    categories: Category[];\n    thumb_file_url: string;\n    banner_file_url: string;\n    trailer_file_url: string;\n    video_file_url: string;\n}","import React, {MutableRefObject, useContext, useEffect, useRef, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {useSnackbar} from 'notistack';\nimport {invert} from 'lodash';\nimport castMemberHttp from '../../util/http/cast-member-http';\nimport {formatDate} from '../../util/format';\nimport {CastMember, CastMemberTypeMap, ListResponse} from '../../util/models';\nimport DefaultTable, {MuiDataTableRefComponent, TableColumn} from '../../components/DefaultTable';\nimport useFilter from '../../hooks/useFilter';\nimport * as Yup from '../../util/vendor/yup';\nimport categoryHttp from '../../util/http/category-http';\nimport {FilterResetButton} from '../../components/DefaultTable/FilterResetButton';\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport LoadingContext from \"../../components/Loading/LoadigContext\";\n\nconst DEBOUNCE_TIME = 300;\nconst DEBOUNCE_SEARCH_TIME = 300;\nconst ROWS_PER_PAGE = 10;\nconst ROWS_PER_PAGE_OPTIONS = [10, 25, 50];\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'name',\n        label: 'Nome',\n        options: {\n            filter: false,\n        },\n    },\n    {\n        name: 'type',\n        label: 'Tipo',\n        width: '15%',\n        options: {\n            filter: true,\n            filterType: 'dropdown',\n            filterList: [],\n            filterOptions: {\n                names: castMemberNames,\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return CastMemberTypeMap[value];\n            },\n        },\n    },\n    {\n        name: 'created_at',\n        label: 'Criado em',\n        width: '15%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return formatDate(value, \"dd/MM/yyyy 'às' H:mm\");\n            },\n        },\n    },\n    {\n        name: 'id',\n        label: 'Ações',\n        options: {\n            sort: false,\n            print: false,\n            filter: false,\n            searchable: false,\n            setCellProps: (value) => ({\n                style: {\n                    width: '10%',\n                    whiteSpace: 'nowrap',\n                },\n            }),\n            customBodyRender(value, tableMeta, updateValue) {\n                return (\n                    <>\n                        <Link to={`/cast-members/${value}/edit`}><EditIcon color={\"secondary\"}/></Link>\n                        <Link to={`/cast-members/${value}/delete`}><DeleteIcon color={\"secondary\"}/></Link>\n                    </>\n                );\n            },\n        },\n    },\n];\n\nconst Table = React.forwardRef(() => {\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [castMembers, setCastMembers] = useState<CastMember[]>([]);\n    const loading = useContext(LoadingContext);\n    const tableRef = useRef() as MutableRefObject<MuiDataTableRefComponent>;\n    const {\n        columns,\n        filterManager,\n        filterState,\n        debounceFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        rowsPerPage: ROWS_PER_PAGE,\n        rowsPerPageOptions: ROWS_PER_PAGE_OPTIONS,\n        debounceTime: DEBOUNCE_TIME,\n        tableRef,\n        extraFilter: {\n            createValidationSchema: () => {\n                return Yup.object().shape({\n                    type: Yup.number()\n                        .nullable()\n                        .transform((value) => (!value || !castMemberNames.includes(value) ? undefined : value))\n                        .default(null),\n                });\n            },\n            formatSearchParams: (debouncedState) => {\n                if (!debouncedState.extraFilter || debouncedState.extraFilter.type === null) {\n                    return undefined;\n                }\n\n                return {\n                    type: debouncedState.extraFilter.type,\n                };\n            },\n            getStateFromUrl: (queryParams) => ({type: queryParams.get('type')}),\n        },\n    });\n\n    const indexColumnType = columns.findIndex((column) => column.name === 'type');\n    const columnType = columns[indexColumnType];\n    const typeFilterValue = filterState.extraFilter && (filterState.extraFilter.type as never);\n    (columnType.options as any).filterList = typeFilterValue ? [typeFilterValue] : [];\n\n    const serverSideFilterList = columns.map((column) => []);\n    if (typeFilterValue) {\n        serverSideFilterList[indexColumnType] = [typeFilterValue];\n    }\n\n    useEffect(() => {\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        };\n        // eslint-disable-next-line\n    }, [\n        filterManager.cleanSearchText(debounceFilterState.search), // eslint-disable-line\n        debounceFilterState.pagination.page,\n        debounceFilterState.pagination.per_page,\n        debounceFilterState.order,\n        JSON.stringify(debounceFilterState.extraFilter), // eslint-disable-line\n    ]);\n\n    async function getData() {\n        try {\n            const response = await castMemberHttp.list<ListResponse<CastMember>>({\n                queryParams: {\n                    search: filterManager.cleanSearchText(filterState.search),\n                    page: filterState.pagination.page,\n                    per_page: filterState.pagination.per_page,\n                    sort: filterState.order.sort,\n                    dir: filterState.order.dir,\n                    ...(debounceFilterState.extraFilter &&\n                        debounceFilterState.extraFilter.type && {\n                            type: invert(CastMemberTypeMap)[debounceFilterState.extraFilter.type],\n                        }),\n                },\n            });\n            if (subscribed.current) {\n                setCastMembers(response.data.data);\n                setTotalRecords(response.data.meta.total);\n            }\n        } catch (error) {\n            if (categoryHttp.isCancelledRequest(error)) return;\n            snackbar.enqueueSnackbar('Não foi possível carregar as informações.', {variant: 'error'});\n        }\n    }\n\n    return (\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={castMembers}\n                loading={loading}\n                debouncedSearchTime={DEBOUNCE_SEARCH_TIME}\n                ref={tableRef}\n                filterState={filterState}\n                filterManager={filterManager}\n                reloadFunction={{\n                    reloadData: () => getData()\n                }}\n                deleteOptions={{\n                    resource: castMemberHttp,\n                }}\n                options={{\n                    serverSide: true,\n                    serverSideFilterList,\n                    responsive: 'scrollMaxHeight',\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions: ROWS_PER_PAGE_OPTIONS,\n                    count: totalRecords,\n                    customToolbar: () => <FilterResetButton handleClick={() => filterManager.resetFilter()}/>,\n                    onFilterChange: (changedColumn, filterList) => {\n                        const columnIndex = columns.findIndex((column) => column.name === changedColumn);\n                        filterManager.changeExtraFilter({\n                            [changedColumn]: filterList[columnIndex].length ? filterList[columnIndex][0] : null,\n                        });\n                    },\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn, direction) =>\n                        filterManager.changeColumnSort(changedColumn, direction),\n                }}\n            />\n    );\n});\n\nexport default Table;","import * as React from 'react';\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from \"./Table\";\nimport {Page} from \"../../components/Page\";\n\nconst PageList = () => {\n    return (\n        <Page title=\"Listagem de Membros do Elenco\">\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={\"Adicionar Membro do Elenco\"}\n                    color={\"secondary\"}\n                    size={\"small\"}\n                    component={Link}\n                    to={\"cast-members/create\"}\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default PageList;","import * as React from 'react';\nimport {\n    FormControl, FormControlLabel, FormHelperText,\n    FormLabel, Radio,\n    RadioGroup, TextField,\n} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport castMemberHttp from \"../../util/http/cast-member-http\";\nimport {useContext, useEffect} from \"react\";\nimport * as Yup from \"../../util/vendor/yup\";\nimport {useParams, useHistory} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport {CastMember} from \"../../util/models\";\nimport SubmitActions from \"../../components/SubmitActions\";\nimport DefaultForm from \"../../components/DefaultForm\";\nimport useSnackbarFormError from \"../../hooks/useSnackbarFormError\";\nimport LoadingContext from \"../../components/Loading/LoadigContext\";\n\nconst validationSchema = Yup.object().shape({\n    name: Yup.string()\n        .label('Nome')\n        .max(255)\n        .required(),\n    type: Yup.string()\n        .label('Tipo')\n        .required(),\n});\n\nexport const Form = () => {\n\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        triggerValidation,\n        formState\n    } = useForm<{name, type}>({\n        validationSchema\n    });\n    useSnackbarFormError(formState.submitCount, errors);\n\n    const {enqueueSnackbar} = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams();\n    const [castMember, setCastMember] = React.useState<CastMember | null>(null);\n    const loading = useContext(LoadingContext);\n    const handleChange = event => setValue('type', parseInt(event.target.value));\n\n    useEffect(() => {\n        register({name: \"type\"})\n    }, [register]);\n\n    React.useEffect(() => {\n        let isSubscribed = true;\n\n        if (!id) {\n            return\n        }\n\n        (async () => {\n            try {\n                const {data} = await castMemberHttp.get(id);\n                if (isSubscribed) {\n                    setCastMember(data.data);\n                    reset(data.data);\n                }\n            } catch (error) {\n                console.error(error);\n                enqueueSnackbar('Não foi possível carregar as informações.', {\n                    variant: 'error'\n                })\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        }\n    }, [id, reset, enqueueSnackbar]);\n\n    async function onSubmit(formData, event) {\n        try {\n            const http = !castMember ? castMemberHttp.create(formData) : castMemberHttp.update(castMember.id, formData);\n            const {data} = await http;\n\n            enqueueSnackbar('Membro de elenco salvo com sucesso!', {\n                variant: 'success'\n            });\n\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/cast-members/${data.data.id}/edit`)\n                            : history.push(`/cast-members/${data.data.id}/edit`)\n                    ) : history.push('/cast-members');\n            });\n\n        } catch (error) {\n            console.error(error)\n            enqueueSnackbar('Não foi possível salvar o membro do elenco', {\n                variant: 'error'\n            });\n        }\n    }\n\n    return (\n        <DefaultForm\n            GridItemProps={{xs: 12, md: 6}}\n            onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name=\"name\"\n                label=\"Nome\"\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name && errors.name.message}\n                InputLabelProps={{shrink: true}}\n            />\n            <FormControl\n                margin=\"normal\"\n                error={errors.type !== undefined}\n                disabled={loading}\n            >\n                <FormLabel component=\"legend\">Tipo</FormLabel>\n                <RadioGroup\n                    defaultValue=\"1\"\n                    aria-label=\"type\"\n                    name=\"type\"\n                    onChange={handleChange}\n                    value={watch('type') + \"\"}\n                >\n                    <FormControlLabel\n                        value=\"1\"\n                        label=\"Diretor\"\n                        control={<Radio/>}\n                    />\n                    <FormControlLabel\n                        value=\"2\"\n                        label=\"Ator\"\n                        control={<Radio/>}\n                    />\n                </RadioGroup>\n                {\n                    errors.type && <FormHelperText id=\"type-helper-text\">{errors.type.message}</FormHelperText>\n                }\n            </FormControl>\n            <SubmitActions disabledButtons={loading}\n                           handleSave={() =>\n                               triggerValidation().then(isValid => {\n                                   isValid && onSubmit(getValues(), null)\n                               })\n                           }\n            />\n        </DefaultForm>\n    );\n};","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Form} from \"./Form\";\nimport {useParams} from \"react-router\";\n\nconst PageForm = () => {\n    const {id} = useParams();\n\n    return (\n        <Page title={!id ? 'Cadastrar Membro do Elenco' : 'Editar Membro do Elenco'}>\n            <Form/>\n        </Page>\n\n    );\n};\n\nexport default PageForm;","import HttpResource from \"./http-resource\";\nimport { httpVideo } from \".\";\n\nconst videoHttp = new HttpResource(httpVideo, 'videos');\n\nexport default videoHttp;","import React, {MutableRefObject, useContext, useEffect, useRef, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {useSnackbar} from 'notistack';\nimport genreHttp from '../../util/http/genre-http';\nimport categoryHttp from '../../util/http/category-http';\nimport videoHttp from '../../util/http/video-http';\nimport {formatDate} from '../../util/format';\nimport DefaultTable, {MuiDataTableRefComponent, TableColumn} from '../../components/DefaultTable';\nimport {BadgeNo, BadgeYes} from '../../components/Badge';\nimport {Category, Genre, ListResponse} from '../../util/models';\nimport {FilterResetButton} from '../../components/DefaultTable/FilterResetButton';\nimport useFilter from '../../hooks/useFilter';\nimport * as Yup from '../../util/vendor/yup';\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport LoadingContext from \"../../components/Loading/LoadigContext\";\n\nconst DEBOUNCE_TIME = 300;\nconst DEBOUNCE_SEARCH_TIME = 300;\nconst ROWS_PER_PAGE = 10;\nconst ROWS_PER_PAGE_OPTIONS = [10, 25, 50];\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'title',\n        label: 'Título',\n        options: {\n            filter: false,\n        },\n    },\n    {\n        name: 'genres',\n        label: 'Gêneros',\n        options: {\n            filter: true,\n            filterType: 'multiselect',\n            filterOptions: {\n                names: [],\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value.map((genre: Genre) => genre.name).join(', ');\n            },\n        },\n    },\n    {\n        name: 'categories',\n        label: 'Categorias',\n        options: {\n            filter: true,\n            filterType: 'multiselect',\n            filterOptions: {\n                names: [],\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value.map((category: Category) => category.name).join(', ');\n            },\n        },\n    },\n    {\n        name: 'opened',\n        label: 'Aberto?',\n        width: '15%',\n        options: {\n            filter: true,\n            filterType: 'dropdown',\n            filterOptions: {\n                names: ['Sim', 'Não'],\n            },\n            customBodyRender(value, tableMeta, updateValue) {\n                return value ? <BadgeYes/> : <BadgeNo/>;\n            },\n        },\n    },\n    {\n        name: 'created_at',\n        label: 'Criado em',\n        width: '15%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return formatDate(value, \"dd/MM/yyyy 'às' H:mm\");\n            },\n        },\n    },\n    {\n        name: 'id',\n        label: 'Ações',\n        options: {\n            sort: false,\n            print: false,\n            filter: false,\n            searchable: false,\n            setCellProps: (value) => ({\n                style: {\n                    width: '10%',\n                    whiteSpace: 'nowrap',\n                },\n            }),\n            customBodyRender(value, tableMeta, updateValue) {\n                return (\n                    <>\n                        <Link to={`/videos/${value}/edit`}><EditIcon color={\"secondary\"}/></Link>\n                        <Link to={`/videos/${value}/delete`}><DeleteIcon color={\"secondary\"}/></Link>\n                    </>\n                );\n            },\n        },\n    },\n];\n\nconst Table = React.forwardRef(() => {\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [videos, setCategories] = useState<Category[]>([]);\n    const loading = useContext(LoadingContext);\n    const tableRef = useRef() as MutableRefObject<MuiDataTableRefComponent>;\n    const {\n        columns,\n        filterManager,\n        filterState,\n        debounceFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        rowsPerPage: ROWS_PER_PAGE,\n        rowsPerPageOptions: ROWS_PER_PAGE_OPTIONS,\n        debounceTime: DEBOUNCE_TIME,\n        tableRef,\n        extraFilter: {\n            createValidationSchema: () => {\n                return Yup.object().shape({\n                    genres: Yup.mixed()\n                        .nullable()\n                        .transform((value) => (!value || value === '' ? undefined : value.split(',')))\n                        .default(null),\n                    categories: Yup.mixed()\n                        .nullable()\n                        .transform((value) => (!value || value === '' ? undefined : value.split(',')))\n                        .default(null),\n                    opened: Yup.string()\n                        .nullable()\n                        .transform((value) => (!value || !['Sim', 'Não'].includes(value) ? undefined : value))\n                        .default(null),\n                });\n            },\n            formatSearchParams: (debouncedState) => {\n                return debouncedState.extraFilter\n                    ? {\n                        ...(debouncedState.extraFilter.genres && {\n                            genres: debouncedState.extraFilter.genres.join(','),\n                        }),\n                        ...(debouncedState.extraFilter.categories && {\n                            categories: debouncedState.extraFilter.categories.join(','),\n                        }),\n                        ...(debouncedState.extraFilter.opened !== null && {\n                            opened: debouncedState.extraFilter.opened,\n                        }),\n                    }\n                    : undefined;\n            },\n            getStateFromUrl: (queryParams) => ({\n                genres: queryParams.get('genres'),\n                categories: queryParams.get('categories'),\n                opened: queryParams.get('opened'),\n            }),\n        },\n    });\n\n    // column genres\n    const indexColumnGenres = columns.findIndex((column) => column.name === 'genres');\n    const columnGenres = columns[indexColumnGenres];\n    const genresFilterValue = filterState.extraFilter && filterState.extraFilter.genres;\n    (columnGenres.options as any).filterList = genresFilterValue || [];\n\n    const serverSideFilterList = columns.map((column) => []);\n    if (genresFilterValue) {\n        serverSideFilterList[indexColumnGenres] = genresFilterValue;\n    }\n\n    // column categories\n    const indexColumnCategories = columns.findIndex((column) => column.name === 'categories');\n    const columnCategories = columns[indexColumnCategories];\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories;\n    (columnCategories.options as any).filterList = categoriesFilterValue || [];\n\n    if (categoriesFilterValue) {\n        serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n    }\n\n    // column opened\n    const indexColumnOpened = columns.findIndex((column) => column.name === 'opened');\n    const columnOpened = columns[indexColumnOpened];\n    const openedFilterValue = filterState.extraFilter && (filterState.extraFilter.opened as never);\n    (columnOpened.options as any).filterList = openedFilterValue ? [openedFilterValue] : [];\n\n    if (openedFilterValue !== undefined && openedFilterValue !== null) {\n        serverSideFilterList[indexColumnOpened] = [openedFilterValue];\n    }\n\n    useEffect(() => {\n        let isSubscribed = true;\n\n        (async () => {\n            try {\n                const [genreResponse, categoryResponse] = await Promise.all([\n                    genreHttp.list({queryParams: {all: ''}}),\n                    categoryHttp.list({queryParams: {all: ''}}),\n                ]);\n\n                if (isSubscribed) {\n                    (columnGenres.options as any).filterOptions.names = genreResponse.data.data.map(\n                        (genre) => genre.name,\n                    );\n                    (columnCategories.options as any).filterOptions.names = categoryResponse.data.data.map(\n                        (category) => category.name,\n                    );\n                }\n            } catch (error) {\n                snackbar.enqueueSnackbar('Não foi possível carregar as informações.', {variant: 'error'});\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        };\n    }, []); // eslint-disable-line\n\n    useEffect(() => {\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        };\n        // eslint-disable-next-line\n    }, [\n        filterManager.cleanSearchText(debounceFilterState.search), // eslint-disable-line\n        debounceFilterState.pagination.page,\n        debounceFilterState.pagination.per_page,\n        debounceFilterState.order,\n        JSON.stringify(debounceFilterState.extraFilter), // eslint-disable-line\n    ]);\n\n    async function getData() {\n        try {\n            const response = await videoHttp.list<ListResponse<Category>>({\n                queryParams: {\n                    search: filterManager.cleanSearchText(filterState.search),\n                    page: filterState.pagination.page,\n                    per_page: filterState.pagination.per_page,\n                    sort: filterState.order.sort,\n                    dir: filterState.order.dir,\n                    ...(debounceFilterState.extraFilter &&\n                        debounceFilterState.extraFilter.genres && {\n                            genres: debounceFilterState.extraFilter.genres.join(','),\n                        }),\n                    ...(debounceFilterState.extraFilter &&\n                        debounceFilterState.extraFilter.categories && {\n                            categories: debounceFilterState.extraFilter.categories.join(','),\n                        }),\n                    ...(debounceFilterState.extraFilter &&\n                        debounceFilterState.extraFilter.opened !== null && {\n                            opened: debounceFilterState.extraFilter.opened === 'Sim',\n                        }),\n                },\n            });\n            if (subscribed.current) {\n                setCategories(response.data.data);\n                setTotalRecords(response.data.meta.total);\n            }\n        } catch (error) {\n            if (videoHttp.isCancelledRequest(error)) return;\n            snackbar.enqueueSnackbar('Não foi possível carregar as informações.', {variant: 'error'});\n        }\n    }\n\n    return (\n        <DefaultTable\n            title=\"\"\n            columns={columns}\n            data={videos}\n            loading={loading}\n            debouncedSearchTime={DEBOUNCE_SEARCH_TIME}\n            ref={tableRef}\n            filterState={filterState}\n            filterManager={filterManager}\n            reloadFunction={{\n                reloadData: () => getData()\n            }}\n            deleteOptions={{\n                resource: videoHttp,\n            }}\n            options={{\n                serverSide: true,\n                serverSideFilterList,\n                responsive: 'scrollMaxHeight',\n                searchText: filterState.search as any,\n                page: filterState.pagination.page - 1,\n                rowsPerPage: filterState.pagination.per_page,\n                rowsPerPageOptions: ROWS_PER_PAGE_OPTIONS,\n                count: totalRecords,\n                customToolbar: () => <FilterResetButton handleClick={() => filterManager.resetFilter()}/>,\n                onFilterChange: (changedColumn, filterList) => {\n                    if (changedColumn === 'opened') {\n                        filterManager.changeExtraFilter({\n                            [changedColumn]:\n                                filterList[indexColumnOpened][0] !== undefined\n                                    ? filterList[indexColumnOpened][0]\n                                    : null,\n                        });\n                    }\n\n                    if (changedColumn === 'genres' || changedColumn === 'categories') {\n                        const columnIndex = columns.findIndex((column) => column.name === changedColumn);\n                        filterManager.changeExtraFilter({\n                            [changedColumn]: filterList[columnIndex].length ? filterList[columnIndex] : null,\n                        });\n                    }\n                },\n                onSearchChange: (value) => filterManager.changeSearch(value),\n                onChangePage: (page) => filterManager.changePage(page),\n                onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                onColumnSortChange: (changedColumn, direction) =>\n                    filterManager.changeColumnSort(changedColumn, direction),\n            }}\n        />\n    );\n});\n\nexport default Table;\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Box, Fab } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { Page } from '../../components/Page';\nimport Table from './Table';\n\nconst PageList: React.FC = () => (\n  <Page title=\"Listagem vídeos\">\n    <Box dir=\"rtl\" paddingBottom={2}>\n      <Fab\n        title=\"Adicionar vídeo\"\n        color=\"secondary\"\n        size=\"small\"\n        component={Link}\n        to=\"/videos/create\"\n      >\n        <AddIcon />\n      </Fab>\n    </Box>\n    <Box>\n      <Table />\n    </Box>\n  </Page>\n);\n\nexport default PageList;\n","import * as React from 'react';\nimport { makeStyles, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '36px',\n    height: '36px',\n    fontSize: '1.2em',\n    color: '#fff',\n    borderRadius: '4px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nconst backgroundColors = {\n  L: '#398549',\n  10: '#20A3D4',\n  12: '#E79738',\n  14: '#E35E00',\n  16: '#D00003',\n  18: '#000000',\n};\n\ninterface RatingProps {\n  rating: 'L' | '10' | '12' | '14' | '16' | '18';\n}\n\nconst Rating: React.FC<RatingProps> = (props) => {\n  const classes = useStyles();\n\n  return (\n    <Typography\n      className={classes.root}\n      style={{ backgroundColor: backgroundColors[props.rating] }}\n    >\n      {props.rating}\n    </Typography>\n  );\n};\n\nexport default Rating;\n","import * as React from 'react';\nimport {\n  Box,\n  FormControl,\n  FormControlLabel,\n  FormControlLabelProps,\n  FormControlProps,\n  FormHelperText,\n  FormLabel,\n  Radio,\n  RadioGroup,\n} from '@material-ui/core';\nimport Rating from '../../../components/Rating';\n\nconst ratings: FormControlLabelProps[] = [\n  {\n    value: 'L',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"L\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '10',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"10\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '12',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"12\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '14',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"14\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '16',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"16\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '18',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"18\" />,\n    labelPlacement: 'top',\n  },\n];\n\ninterface RatingFieldProps {\n  value: string;\n  setValue: (value) => void;\n  error: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nconst RatingField: React.FC<RatingFieldProps> = (props) => {\n  const { value, setValue, error, disabled } = props;\n\n  return (\n    <>\n      <FormControl\n        error={error !== undefined}\n        disabled={disabled === true}\n        {...props.FormControlProps}\n      >\n        <FormLabel component=\"legend\">Classificação</FormLabel>\n        <Box paddingTop={1}>\n          <RadioGroup\n            aria-label=\"rating\"\n            name=\"rating\"\n            value={value}\n            onChange={(e) => setValue(e.target.value)}\n            row\n          >\n            {ratings.map((item, key) => (\n              <FormControlLabel\n                key={String(key)}\n                value={item.value}\n                control={item.control}\n                label={item.label}\n                labelPlacement={item.labelPlacement}\n              />\n            ))}\n          </RadioGroup>\n          {error && <FormHelperText>{error.message}</FormHelperText>}\n        </Box>\n      </FormControl>\n    </>\n  );\n};\n\nexport default RatingField;\n","import React, {MutableRefObject, useImperativeHandle, useRef, useState} from 'react';\nimport {InputAdornment, TextField, TextFieldProps} from '@material-ui/core';\n\ninterface InputFileProps {\n    ButtonFile: React.ReactNode;\n    InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>,\n        HTMLInputElement>;\n    TextFieldProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent {\n    openWindow: () => void;\n    clear: () => void;\n}\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\n    const [filename, setFilename] = useState('');\n\n    const textFieldProps: TextFieldProps = {\n        fullWidth: true,\n        variant: 'outlined',\n        ...props.TextFieldProps,\n        InputProps: {\n            ...props.TextFieldProps?.InputProps,\n            readOnly: true,\n            endAdornment: <InputAdornment position=\"end\">{props.ButtonFile}</InputAdornment>,\n        },\n        value: filename,\n    };\n\n    const inputFileProps = {\n        ...props.InputFileProps,\n        hidden: true,\n        ref: fileRef,\n        onChange(event) {\n            const {files} = event.target;\n\n            if (files && files.length) {\n                setFilename(\n                    Array.from(files)\n                        .map((file: any) => file.name)\n                        .join(', '),\n                );\n            }\n\n            if (props.InputFileProps && props.InputFileProps.onChange) {\n                props.InputFileProps.onChange(event);\n            }\n        },\n    };\n\n    useImperativeHandle(ref, () => ({\n        openWindow: () => fileRef.current.click(),\n        clear: () => setFilename(\"\")\n    }));\n\n    return (\n        <>\n            <input type=\"file\" {...inputFileProps} />\n            <TextField {...textFieldProps} />\n        </>\n    );\n});\n\nexport default InputFile;\n","import React, {MutableRefObject, useRef} from 'react';\nimport {Button, FormControl, FormControlProps} from '@material-ui/core';\nimport {CloudUpload} from '@material-ui/icons';\nimport InputFile, {InputFileComponent} from '../../../components/InputFile';\n\ninterface UploadFieldProps extends React.RefAttributes<UploadFieldComponent> {\n    accept: string;\n    label: string;\n    setValue: (value) => void;\n    error?: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nexport interface UploadFieldComponent {\n    clear: () => void\n}\n\nconst UploadField = React.forwardRef<UploadFieldComponent, UploadFieldProps>((props, ref) => {\n    const fileRef = useRef() as MutableRefObject<InputFileComponent>;\n    const {accept, label, setValue, error, disabled} = props;\n\n    React.useImperativeHandle(ref, () => ({\n        clear: () => fileRef.current.clear()\n    }))\n\n    return (\n        <FormControl\n            fullWidth\n            margin=\"normal\"\n            error={error !== undefined}\n            disabled={disabled === true}\n            {...props.FormControlProps}\n        >\n            <InputFile\n                ref={fileRef}\n                TextFieldProps={{\n                    label,\n                    InputLabelProps: {shrink: true},\n                    style: {backgroundColor: '#fff'},\n                }}\n                InputFileProps={{\n                    accept,\n                    onChange(event) {\n                        const files = event.target.files as any;\n                        files.length && setValue(files[0]);\n                    },\n                }}\n                ButtonFile={\n                    <Button\n                        endIcon={<CloudUpload/>}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => fileRef.current.openWindow()}\n                    >\n                        Adicionar\n                    </Button>\n                }\n            />\n        </FormControl>\n    );\n});\n\nexport default UploadField;\n","import React, {useEffect, useState} from 'react';\nimport {CircularProgress, TextField, TextFieldProps} from '@material-ui/core';\nimport {Autocomplete, AutocompleteProps, UseAutocompleteProps} from '@material-ui/lab';\nimport {useDebounce} from 'use-debounce';\n\ninterface AsyncAutocompleteProps extends React.RefAttributes<AsyncAutocompleteComponent> {\n    fetchOptions: (searchText) => Promise<any>;\n    debounceTime?: number;\n    TextFieldProps?: TextFieldProps;\n    AutocompleteProps?: Omit<Omit<AutocompleteProps<any, any, any, any> & UseAutocompleteProps<any, any, any, any>, 'renderInput'>,\n        'options'>;\n}\n\nexport interface AsyncAutocompleteComponent {\n    clear: () => void;\n}\n\nconst AsyncAutocomplete = React.forwardRef<AsyncAutocompleteComponent, AsyncAutocompleteProps>((props, ref) => {\n    const {AutocompleteProps, TextFieldProps, debounceTime, fetchOptions} = props;\n    const {freeSolo = false, onOpen, onClose, onInputChange} = AutocompleteProps as any;\n    const [open, setOpen] = useState(false);\n    const [searchText, setSearchText] = useState('');\n    const [debouncedSearchText] = useDebounce(searchText, debounceTime || 300);\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState([]);\n\n    const textFieldProps: TextFieldProps = {\n        margin: 'normal',\n        variant: 'outlined',\n        fullWidth: true,\n        InputLabelProps: {shrink: true},\n        ...(TextFieldProps && {...TextFieldProps}),\n    };\n\n    const autoCompleteProps: AutocompleteProps<any, any, any, any> = {\n        loadingText: 'Carregando...',\n        noOptionsText: 'Nenhum item encontrado',\n        ...(AutocompleteProps && {...AutocompleteProps}),\n        open,\n        options,\n        loading,\n        inputValue: searchText,\n        onOpen() {\n            setOpen(true);\n            onOpen && onOpen();\n        },\n        onClose() {\n            setOpen(false);\n            onClose && onClose();\n        },\n        onInputChange(event, value) {\n            setSearchText(value);\n            onInputChange && onInputChange();\n        },\n        renderInput: (params) => (\n            <TextField\n                {...params}\n                {...textFieldProps}\n                InputProps={{\n                    ...params.InputProps,\n                    endAdornment: (\n                        <>\n                            {loading && <CircularProgress color=\"inherit\" size={20}/>}\n                            {params.InputProps.endAdornment}\n                        </>\n                    ),\n                }}\n            />\n        ),\n    };\n\n    useEffect(() => {\n        if (!open && !freeSolo) {\n            setOptions([]);\n        }\n    }, [open, freeSolo]);\n\n    useEffect(() => {\n        if (!open || (searchText === '' && freeSolo)) return;\n\n        let isSubscribed = true;\n\n        (async () => {\n            setLoading(true);\n\n            try {\n                const data = await fetchOptions(debouncedSearchText);\n\n                if (isSubscribed) {\n                    setOptions(data);\n                }\n            } finally {\n                setLoading(false);\n            }\n        })();\n\n        return () => {\n            isSubscribed = false;\n        };\n    }, [freeSolo, debouncedSearchText, open, searchText, fetchOptions])\n\n    React.useImperativeHandle(ref, () => ({\n        clear: () => {\n            setSearchText(\"\")\n            setOptions([])\n        }\n    }))\n\n    return <Autocomplete {...autoCompleteProps} />;\n});\n\nexport default AsyncAutocomplete;\n","import * as React from 'react';\nimport { createStyles, Grid, GridProps, makeStyles, Theme } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: '#f1f1f1',\n      borderRadius: '4px',\n      padding: theme.spacing(1, 1),\n      color: theme.palette.secondary.main,\n    },\n  }),\n);\n\ntype GridSelectedProps = GridProps;\n\nconst GridSelected: React.FC<GridSelectedProps> = (props) => {\n  const classes = useStyles();\n\n  return (\n    <Grid container wrap=\"wrap\" className={classes.root} {...props}>\n      {props.children}\n    </Grid>\n  );\n};\n\nexport default GridSelected;\n","import * as React from 'react';\nimport { Grid, GridProps, IconButton } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\n\ninterface GridSelectedItemProps extends GridProps {\n  onDelete: () => void;\n}\n\nconst GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\n  const { onDelete, children, ...other } = props;\n\n  return (\n    <Grid item {...other}>\n      <Grid container alignItems=\"center\" spacing={3}>\n        <Grid item xs={1}>\n          <IconButton size=\"small\" color=\"inherit\" onClick={onDelete}>\n            <Delete />\n          </IconButton>\n        </Grid>\n        <Grid item xs={10} md={11}>\n          {children}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default GridSelectedItem;\n","import axios from 'axios';\nimport {useSnackbar} from 'notistack';\nimport {useCallback} from \"react\";\n\nconst useHttpHandled = () => {\n    const {enqueueSnackbar} = useSnackbar();\n\n    return useCallback(async (request: Promise<any>) => {\n        try {\n            return await request;\n        } catch (e) {\n            if (!axios.isCancel(e)) {\n                enqueueSnackbar('Não foi possível carregar as informações.', {variant: 'error'});\n            }\n            throw e;\n        }\n    }, [enqueueSnackbar]);\n};\n\nexport default useHttpHandled;\n","import { useSnackbar } from 'notistack';\n\nconst useCollectionManager = (collection: any[], setCollection: (item) => void) => {\n  const snackbar = useSnackbar();\n\n  return {\n    addItem(item) {\n      if (!item || item === '') return;\n\n      const exists = collection.find((currentItem) => currentItem.id === item.id);\n\n      if (exists) {\n        snackbar.enqueueSnackbar('Item já adicionado.', { variant: 'info' });\n        return;\n      }\n\n      collection.unshift(item);\n      setCollection(collection);\n    },\n    removeItem(item) {\n      const index = collection.findIndex((currentItem) => currentItem.id === item.id);\n\n      if (index === -1) return;\n\n      collection.splice(index, 1);\n      setCollection(collection);\n    },\n  };\n};\n\nexport default useCollectionManager;\n","import { Category, Genre } from './models';\n\nexport function getGenresFromCategory(genres: Genre[], category: Category) {\n  return genres.filter(\n    (genre) => genre.categories.filter((item) => item.id === category.id).length !== 0,\n  );\n}\n","import * as React from 'react';\nimport {\n    FormControl,\n    FormControlProps,\n    FormHelperText,\n    makeStyles,\n    Theme,\n    Typography, useTheme,\n} from '@material-ui/core';\nimport {grey} from '@material-ui/core/colors';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelected/GridSelectedItem';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport categoryHttp from '../../../util/http/category-http';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport {getGenresFromCategory} from '../../../util/model-filters';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    genresSubtitle: {\n        color: grey['800'],\n        fontSize: '0.8rem',\n    },\n}));\n\ninterface CategoryFieldProps extends React.RefAttributes<CategoryFieldComponent> {\n    categories: any[];\n    setCategories: (categories) => void;\n    genres: any[];\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nexport interface CategoryFieldComponent {\n    clear: () => void;\n}\n\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldProps>((props, ref) => {\n    const classes = useStyles();\n    const {categories, setCategories, genres, error, disabled} = props;\n    const autoCompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(categories, setCategories);\n\n    const theme = useTheme();\n\n    const autocompleteRef = React.useRef() as React.MutableRefObject<AsyncAutocompleteComponent>\n    React.useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    const fetchOptions = React.useCallback((searchText) => {\n        return autoCompleteHttp(\n            categoryHttp.list({\n                queryParams: {\n                    search: searchText,\n                    genres: genres.map((genre) => genre.id).join(','),\n                    all: '',\n                },\n            }),\n        ).then((response) => response.data.data);\n        // eslint-disable-next-line\n        }, [autoCompleteHttp]\n    );\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    clearOnEscape: true,\n                    getOptionLabel: (option) => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled: disabled === true || !genres.length,\n                }}\n                TextFieldProps={{label: 'Categorias', error: error !== undefined}}\n            />\n            <FormHelperText  style={{height: theme.spacing(3)}}>\n                Escolha pelo menos uma categoria de cada gênero.\n            </FormHelperText>\n            <FormControl\n                fullWidth\n                margin=\"none\"\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                {!!categories.length && (\n                    <GridSelected>\n                        {categories.map((category) => {\n                            const genresFromCategory = getGenresFromCategory(genres, category)\n                                .map((genre) => genre.name)\n                                .join(', ');\n\n                            return (\n                                <GridSelectedItem\n                                    key={String(category.id)}\n                                    onDelete={() => removeItem(category)}\n                                    xs={12}\n                                >\n                                    <Typography noWrap>{category.name}</Typography>\n                                    <Typography noWrap className={classes.genresSubtitle}>\n                                        Gêneros: {genresFromCategory}\n                                    </Typography>\n                                </GridSelectedItem>\n                            );\n                        })}\n                    </GridSelected>\n                )}\n                {error && <FormHelperText>{error.message}</FormHelperText>}\n            </FormControl>\n        </>\n    );\n});\n\nexport default CategoryField;\n","import * as React from 'react';\nimport {FormControl, FormControlProps, FormHelperText, Typography, useTheme} from '@material-ui/core';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelected/GridSelectedItem';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport genreHttp from '../../../util/http/genre-http';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\nimport {getGenresFromCategory} from '../../../util/model-filters';\n\ninterface GenreFieldProps extends React.RefAttributes<GenreFieldComponent> {\n    genres: any[];\n    setGenres: (genres) => void;\n    categories: any[];\n    setCategories: (categories) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nexport interface GenreFieldComponent {\n    clear: () => void;\n}\n\nconst GenreField = React.forwardRef<GenreFieldComponent, GenreFieldProps>((props, ref) => {\n    const {genres, setGenres, categories, setCategories, error, disabled} = props;\n    const autoCompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(genres, setGenres);\n    const {removeItem: removeCategory} = useCollectionManager(categories, setCategories);\n\n    const theme = useTheme();\n\n    const autocompleteRef = React.useRef() as React.MutableRefObject<AsyncAutocompleteComponent>\n    React.useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    const fetchOptions = React.useCallback((searchText) => {\n            return autoCompleteHttp(genreHttp.list({\n                queryParams: {\n                    search: searchText,\n                    all: ''\n                }\n            }))\n                .then((response) => response.data.data);\n        }, [autoCompleteHttp]\n    );\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionLabel: (option) => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled: disabled === true,\n                }}\n                TextFieldProps={{label: 'Gêneros', error: error !== undefined}}\n            />\n            <FormHelperText style={{height: theme.spacing(3)}}>\n                Escolha os gêneros do vídeo.\n            </FormHelperText>\n            <FormControl\n                fullWidth\n                margin=\"none\"\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                {!!genres.length && (\n                    <GridSelected>\n                        {genres.map((genre) => (\n                            <GridSelectedItem\n                                key={String(genre.id)}\n                                onDelete={() => {\n                                    const categoriesWithOneGenre = categories.filter((category) => {\n                                        const genresFromCategory = getGenresFromCategory(genres, category);\n                                        return genresFromCategory.length === 1 && genres[0].id === genre.id;\n                                    });\n                                    categoriesWithOneGenre.forEach((item) => removeCategory(item));\n                                    removeItem(genre);\n                                }}\n                                xs={12}\n                            >\n                                <Typography noWrap>{genre.name}</Typography>\n                            </GridSelectedItem>\n                        ))}\n                    </GridSelected>\n                )}\n                {error && <FormHelperText>{error.message}</FormHelperText>}\n            </FormControl>\n        </>\n    );\n});\n\nexport default GenreField;\n","import * as React from 'react';\nimport {FormControl, FormControlProps, FormHelperText, Typography} from '@material-ui/core';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from '../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../components/GridSelected';\nimport GridSelectedItem from '../../../components/GridSelected/GridSelectedItem';\nimport useHttpHandled from '../../../hooks/useHttpHandled';\nimport castMemberHttp from '../../../util/http/cast-member-http';\nimport useCollectionManager from '../../../hooks/useCollectionManager';\n\ninterface CastMemberFieldProps extends React.RefAttributes<CastMemberFieldComponent> {\n    castMembers: any[];\n    setCastMembers: (castMembers) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\nexport interface CastMemberFieldComponent {\n    clear: () => void;\n}\n\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps>((props, ref) => {\n    const {castMembers, setCastMembers, error, disabled} = props;\n    const autoCompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(castMembers, setCastMembers);\n    const autocompleteRef = React.useRef() as React.MutableRefObject<AsyncAutocompleteComponent>\n\n    React.useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    const fetchOptions = React.useCallback((searchText) => {\n        return autoCompleteHttp(\n            castMemberHttp.list({\n                queryParams: {\n                    search: searchText,\n                    all: ''\n                }\n            }),\n        ).then((response) => response.data.data);\n        // eslint-disable-next-line\n        }, [autoCompleteHttp]\n    );\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionLabel: (option) => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled: disabled === true,\n                }}\n                TextFieldProps={{label: 'Elenco', error: error !== undefined}}\n            />\n            <FormControl\n                fullWidth\n                margin=\"none\"\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                {!!castMembers.length && (\n                    <GridSelected>\n                        {castMembers.map((castMember) => (\n                            <GridSelectedItem\n                                key={String(castMember.id)}\n                                onDelete={() => removeItem(castMember)}\n                                xs={6}\n                            >\n                                <Typography noWrap>{castMember.name}</Typography>\n                            </GridSelectedItem>\n                        ))}\n                    </GridSelected>\n                )}\n                {error && <FormHelperText>{error.message}</FormHelperText>}\n            </FormControl>\n        </>\n    );\n});\n\nexport default CastMemberField;\n","import { Upload, FileUpload } from \"./types\";\n\nexport function countInProgress(uploads: Upload[]) {\n    return uploads.filter(upload => !isFinished(upload)).length;\n}\n\nexport function isFinished(obj: Upload | FileUpload) {\n    return obj.progress === 1 || hasError(obj);\n}\n\nexport function hasError(obj: Upload | FileUpload): boolean {\n    if (isUploadType(obj)) {\n        const upload = obj as Upload\n        return upload.files.some(file => file.error);\n    } else {\n        const file = obj as FileUpload;\n        return file.error !== undefined;\n    }\n}\n\nexport function isUploadType(obj: Upload | FileUpload) {\n    return 'video' in obj;\n}","import * as React from 'react';\nimport {makeStyles, Theme, CircularProgress, Fade} from '@material-ui/core';\nimport {grey} from '@material-ui/core/colors';\nimport {Upload, FileUpload} from '../../store/upload/types';\nimport {hasError} from '../../store/upload/getters';\n\ninterface UploadProgressProps {\n    size: number;\n    uploadOrFile: Upload | FileUpload;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    progressContainer: {\n        position: 'relative'\n    },\n    progressBackground: {\n        color: grey[\"300\"]\n    },\n    progress: {\n        position: 'absolute',\n        left: 0\n    }\n}));\n\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\n    const classes = useStyles();\n    const {size, uploadOrFile} = props;\n    const error = hasError(uploadOrFile);\n\n    return (\n        <Fade in={uploadOrFile.progress < 1} timeout={{enter: 2000, exit: 2000}}>\n            <div className={classes.progressContainer}>\n                <CircularProgress\n                    variant=\"static\"\n                    value={100}\n                    className={classes.progressBackground}\n                    size={size}\n                />\n                <CircularProgress\n                    variant=\"static\"\n                    value={error ? 0 : uploadOrFile.progress * 100}\n                    className={classes.progress}\n                    size={size}\n                />\n            </div>\n        </Fade>\n    );\n}\n\nexport default UploadProgress;","import * as Typings from './types';\nimport {createActions, createReducer} from 'reduxsauce';\nimport update from \"immutability-helper\";\n\nexport const {Types, Creators} = createActions<{\n    ADD_UPLOAD: string,\n    REMOVE_UPLOAD: string,\n    UPDATE_PROGRESS: string,\n    SET_UPLOAD_ERROR: string\n}, {\n    addUpload(payload: Typings.AddUploadAction['payload']): Typings.AddUploadAction,\n    removeUpload(payload: Typings.RemoveUploadAction['payload']): Typings.RemoveUploadAction,\n    updateProgress(payload: Typings.UpdateProgressAction['payload']): Typings.UpdateProgressAction,\n    setUploadError(payload: Typings.SetUploadErrorAction['payload']): Typings.SetUploadErrorAction,\n}>({\n    addUpload: ['payload'],\n    removeUpload: ['payload'],\n    updateProgress: ['payload'],\n    setUploadError: ['payload']\n});\n\nexport const INITIAL_STATE: Typings.UploadState = {\n    uploads: []\n}\n\nconst reducer = createReducer<Typings.UploadState, Typings.Actions>(INITIAL_STATE, {\n    [Types.ADD_UPLOAD]: addUpload as any,\n    [Types.REMOVE_UPLOAD]: removeUpload as any,\n    [Types.UPDATE_PROGRESS]: updateProgress as any,\n    [Types.SET_UPLOAD_ERROR]: setUploadError as any\n})\n\nexport default reducer;\n\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction): Typings.UploadState {\n    if (!action.payload.files.length) {\n        return state;\n    }\n\n    const index = findIndexUpload(state, action.payload.video.id);\n    if (index !== -1 && state.uploads[index].progress < 1) {\n        return state;\n    }\n\n    const uploads = index === -1\n        ? state.uploads\n        : update(state.uploads, {\n            $splice: [[index, 1]]\n        });\n\n    return {\n        uploads: [\n            ...uploads,\n            {\n                video: action.payload.video,\n                progress: 0,\n                files: action.payload.files.map(file => ({\n                    fileField: file.fileField,\n                    filename: file.file.name,\n                    progress: 0\n                }))\n            }\n        ]\n    }\n}\n\nfunction removeUpload(state: Typings.UploadState = INITIAL_STATE, action: Typings.RemoveUploadAction): Typings.UploadState {\n    const uploads = state.uploads.filter(upload => upload.video.id !== action.payload.id);\n\n    if (uploads.length === state.uploads.length) {\n        return state;\n    }\n    return {\n        uploads\n    }\n}\n\nfunction updateProgress(state: Typings.UploadState = INITIAL_STATE, action: Typings.UpdateProgressAction): Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n\n    const {indexFile, indexUpload} = findIndexUploadAndFile(state, videoId, fileField);\n\n    if (typeof indexUpload === \"undefined\") {\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    if (file.progress === action.payload.progress) {\n        return state;\n    }\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            $apply(upload) {\n                const files = update(upload.files, {\n                    [indexFile]: {\n                        $set: {...file, progress: action.payload.progress}\n                    }\n                })\n                const progress = calculateGlobalProgress(files)\n                return {...upload, progress, files}\n            }\n        }\n    });\n\n    return {uploads};\n}\n\nfunction setUploadError(state: Typings.UploadState = INITIAL_STATE, action: Typings.SetUploadErrorAction): Typings.UploadState {\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n\n    const {indexFile, indexUpload} = findIndexUploadAndFile(state, videoId, fileField);\n\n    if (typeof indexUpload === \"undefined\") {\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            files: {\n                [indexFile]: {\n                    $set: {...file, error: action.payload.error, progress: 1}\n                }\n            }\n        }\n    });\n\n    return {uploads};\n}\n\nfunction findIndexUploadAndFile(state: Typings.UploadState, videoId: string, fileField: string): { indexUpload?, indexFile? } {\n    const indexUpload = findIndexUpload(state, videoId);\n\n    if (indexUpload === -1) {\n        return {};\n    }\n\n    const upload = state.uploads[indexUpload];\n    const indexFile = findIndexFile(upload.files, fileField);\n\n    return indexFile === -1 ? {} : {indexUpload, indexFile};\n}\n\nfunction calculateGlobalProgress(files: Array<{ progress }>) {\n    const countFiles = files.length;\n    if (!countFiles) {\n        return 0;\n    }\n\n    const sumProgress = files.reduce((sum, file) => sum + file.progress, 0);\n\n    return sumProgress / countFiles;\n}\n\nfunction findIndexUpload(state: Typings.UploadState, id: string) {\n    return state.uploads.findIndex(upload => upload.video.id === id);\n}\n\nfunction findIndexFile(files: Array<{ fileField }>, fileField: string) {\n    return files.findIndex(file => file.fileField === fileField);\n}","import * as React from 'react';\nimport {useState, useEffect} from 'react';\nimport {makeStyles, Theme, Fade, ListItemSecondaryAction, IconButton} from '@material-ui/core';\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport {Upload} from '../../store/upload/types';\nimport {useDispatch} from 'react-redux';\nimport {Creators} from '../../store/upload';\nimport {hasError, isFinished} from '../../store/upload/getters';\nimport {useDebounce} from 'use-debounce';\n\ninterface UploadActionProps {\n    upload: Upload;\n    hover: boolean;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main\n    },\n    errorIcon: {\n        color: theme.palette.error.main\n    },\n    deleteIcon: {\n        color: theme.palette.primary.main\n    }\n}));\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const classes = useStyles();\n    const {upload, hover} = props;\n    const dispatch = useDispatch();\n    const error = hasError(upload);\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 1500);\n\n    useEffect(() => {\n        setShow(isFinished(upload))\n    }, [upload]);\n\n    return (\n        debouncedShow ? (\n            <Fade in={show} timeout={{enter: 1000}}>\n                <ListItemSecondaryAction>\n                    <span hidden={hover}>\n                        {\n                            upload.progress === 1 && !error && (\n                                <IconButton className={classes.successIcon} edge=\"end\">\n                                    <CheckCircleIcon/>\n                                </IconButton>\n                            )\n                        }\n                        {\n                            error && (\n                                <IconButton className={classes.errorIcon} edge=\"end\">\n                                    <ErrorIcon/>\n                                </IconButton>\n                            )\n                        }\n                    </span>\n\n                    <span hidden={!hover}>\n                        <IconButton\n                            className={classes.deleteIcon}\n                            edge=\"end\"\n                            onClick={() => dispatch(Creators.removeUpload({id: upload.video.id}))}\n                        >\n                            <DeleteIcon/>\n                        </IconButton>\n                    </span>\n                </ListItemSecondaryAction>\n            </Fade>\n        ) : null\n    );\n};\n\nexport default UploadAction;","import * as React from 'react';\nimport {ListItem, ListItemIcon, ListItemText, Typography, Divider, makeStyles, Theme, Tooltip} from '@material-ui/core';\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport UploadProgress from '../UploadProgress';\nimport UploadAction from './UploadAction';\nimport {Upload} from '../../store/upload/types';\nimport {hasError} from '../../store/upload/getters';\n\ninterface UploadItemProps {\n    upload: Upload;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    movieIcon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    },\n    listItem: {\n        paddingTop: '7px',\n        paddingBottom: '7px',\n        height: '53px'\n    },\n    listItemText: {\n        marginLeft: '6px',\n        marginRight: '24px',\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {upload} = props;\n    const classes = useStyles();\n    const error = hasError(upload);\n    const [itemHover, setItemHover] = React.useState(false);\n\n    return (\n        <>\n            <Tooltip\n                disableFocusListener\n                disableTouchListener\n                title={error ? \"Não foi possível fazer o upload, clique para mais detalhes\" : \"\"}\n                placement=\"left\"\n            >\n                <ListItem\n                    button\n                    className={classes.listItem}\n                    onMouseOver={() => setItemHover(true)}\n                    onMouseLeave={() => setItemHover(false)}\n                >\n                    <ListItemIcon className={classes.movieIcon}>\n                        <MovieIcon/>\n                    </ListItemIcon>\n\n                    <ListItemText\n                        className={classes.listItemText}\n                        primary={\n                            <Typography noWrap={true} variant=\"subtitle2\" color=\"primary\">\n                                {upload.video.title}\n                            </Typography>\n                        }\n                    />\n                    {<UploadProgress size={30} uploadOrFile={upload}/>}\n                    <UploadAction upload={upload} hover={itemHover}/>\n                </ListItem>\n            </Tooltip>\n            <Divider component=\"li\"/>\n        </>\n    );\n};\n\nexport default UploadItem;","import * as React from 'react';\nimport {Card, CardActions, Typography, IconButton, Collapse, List, makeStyles, Theme} from '@material-ui/core';\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {useSnackbar} from 'notistack';\nimport classNames from 'classnames';\nimport UploadItem from './UploadItem';\nimport {useSelector} from 'react-redux';\nimport {Upload, UploadModule} from '../../store/upload/types';\nimport {countInProgress} from '../../store/upload/getters';\n\ninterface SnackbarUploadInterface {\n    id: string | number;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    card: {\n        width: '450px'\n    },\n    cardActionRoot: {\n        padding: '8px 8px 8px 16px',\n        backgroundColor: theme.palette.primary.main\n    },\n    title: {\n        fontWeight: 'bold',\n        color: theme.palette.primary.contrastText\n    },\n    icons: {\n        marginLeft: 'auto !important',\n        color: theme.palette.primary.contrastText\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    list: {\n        paddingTop: \"0px\",\n        paddingBottom: \"0px\"\n    }\n}));\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadInterface>((props, ref) => {\n    const {id} = props;\n    const {closeSnackbar} = useSnackbar();\n    const classes = useStyles();\n    const [expanded, setExpanded] = React.useState(true);\n    const uploads = useSelector<UploadModule, Upload[]>((state) => state.upload.uploads);\n\n    const totalInProgress = countInProgress(uploads);\n\n    return (\n        <Card ref={ref} className={classes.card}>\n            <CardActions classes={{root: classes.cardActionRoot}}>\n                <Typography variant=\"subtitle2\" className={classes.title}>\n                    Fazendo upload de {totalInProgress} video(s)\n                </Typography>\n                <div className={classes.icons}>\n                    <IconButton\n                        color=\"inherit\"\n                        onClick={() => setExpanded(!expanded)}\n                        className={classNames(classes.expand, {[classes.expandOpen]: !expanded})}\n                    >\n                        <ExpandMoreIcon/>\n                    </IconButton>\n                    <IconButton\n                        color=\"inherit\"\n                        onClick={() => closeSnackbar(id)}\n                    >\n                        <CloseIcon/>\n                    </IconButton>\n                </div>\n            </CardActions>\n            <Collapse in={expanded}>\n                <List className={classes.list}>\n                    {\n                        uploads.map((upload, key) => (\n                            <UploadItem key={key} upload={upload}/>\n                        ))\n                    }\n\n                </List>\n            </Collapse>\n        </Card>\n    );\n});\n\nexport default SnackbarUpload;","import React, {useContext, useEffect, useState} from 'react';\nimport {useHistory, useParams} from 'react-router';\nimport {\n    Card,\n    CardContent,\n    Checkbox,\n    FormControlLabel,\n    Grid,\n    makeStyles,\n    TextField,\n    Theme,\n    Typography,\n    useMediaQuery,\n    useTheme,\n} from '@material-ui/core';\nimport {useForm} from 'react-hook-form';\nimport {useSnackbar} from 'notistack';\nimport * as Yup from '../../../util/vendor/yup';\nimport videoHttp from '../../../util/http/video-http';\nimport {GetResponse, Video, VideoFileFieldsMap} from '../../../util/models';\nimport SubmitActions from '../../../components/SubmitActions';\nimport DefaultForm from '../../../components/DefaultForm';\nimport RatingField from './RatingField';\nimport UploadField from './UploadField';\nimport CategoryField, {CategoryFieldComponent} from './CategoryField';\nimport GenreField, {GenreFieldComponent} from './GenreField';\nimport CastMemberField, {CastMemberFieldComponent} from './CastMemberField';\nimport {InputFileComponent} from \"../../../components/InputFile\";\nimport {omit, zipObject} from 'lodash';\nimport useSnackbarFormError from \"../../../hooks/useSnackbarFormError\";\nimport LoadingContext from \"../../../components/Loading/LoadigContext\";\nimport SnackbarUpload from '../../../components/SnackbarUpload'\nimport {useDispatch} from 'react-redux'\nimport {FileInfo} from '../../../store/upload/types'\nimport {Creators} from '../../../store/upload'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    cardUpload: {\n        borderRadius: '4px',\n        backgroundColor: '#f5f5f5',\n        margin: theme.spacing(2, 0),\n    },\n    cardOpened: {\n        borderRadius: '4px',\n        backgroundColor: '#f5f5f5',\n    },\n    cardContentOpened: {\n        paddingBottom: theme.spacing(2) + 'px !important',\n    },\n\n}));\n\nconst fileFields = Object.keys(VideoFileFieldsMap);\n\nconst validationSchema = Yup.object().shape({\n    title: Yup.string()\n        .label('Título')\n        .max(255)\n        .required(),\n    description: Yup.string()\n        .label('Sinopse')\n        .required(),\n    year_launched: Yup.number()\n        .label('Ano de lançamento')\n        .min(1)\n        .required(),\n    // opened: Yup.boolean()\n    //   .label('opened'),\n    rating: Yup.string()\n        .label('Classificação')\n        .required(),\n    cast_members: Yup.array()\n        .label('Elenco')\n        .required(),\n    genres: Yup.array()\n        .label('Gêneros')\n        .required()\n        .test({\n            message: 'Cada gênero escolhido precisa ter pelo menos uma categoria selecionada',\n            test(value) {\n                return value.every(\n                    v => v.categories.filter(\n                        cat => this.parent.categories.map(c => c.id).includes(cat.id)\n                    ).length !== 0\n                )\n            }\n        }),\n    categories: Yup.array()\n        .label('Categorias')\n        .required(),\n    duration: Yup.number()\n        .label('Duração')\n        .min(1)\n        .required(),\n});\n\nconst Form: React.FC = () => {\n    const classes = useStyles();\n    const {id} = useParams();\n    const history = useHistory();\n    const {enqueueSnackbar} = useSnackbar();\n    const [video, setVideo] = useState<Video | null>(null);\n    const loading = useContext(LoadingContext);\n    const theme = useTheme();\n    const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n    const uploadsRef = React.useRef(\n        zipObject(fileFields, fileFields.map(() => React.createRef()))\n    ) as React.MutableRefObject<{ [key: string]: React.MutableRefObject<InputFileComponent> }>\n    const castMemberRef = React.useRef() as React.MutableRefObject<CastMemberFieldComponent>\n    const categoryRef = React.useRef() as React.MutableRefObject<CategoryFieldComponent>;\n    const genreRef = React.useRef() as React.MutableRefObject<GenreFieldComponent>;\n\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        triggerValidation,\n        formState\n    } = useForm<Omit<Video,\n        'id' | 'thumb_file_url' | 'banner_file_url' |\n        'trailer_file_url' | 'video_file_url'>>({\n        validationSchema,\n        defaultValues: {\n            rating: '',\n            opened: false,\n            cast_members: [],\n            genres: [],\n            categories: [],\n        },\n    });\n    const dispatch = useDispatch();\n    useSnackbarFormError(formState.submitCount, errors);\n\n    const resetForm = React.useCallback((data) => {\n        Object.keys(uploadsRef.current).forEach(\n            field => uploadsRef.current[field].current.clear()\n        );\n        castMemberRef.current.clear();\n        categoryRef.current.clear();\n        genreRef.current.clear();\n        reset(data);\n    }, [castMemberRef, categoryRef, genreRef, reset, uploadsRef]);\n\n    useEffect(() => {\n        ['rating', 'opened', 'cast_members', 'genres', 'categories', ...fileFields].forEach((name) =>\n            register({name}),\n        );\n    }, [register]);\n\n    useEffect(() => {\n        if (!id) return;\n\n        (async () => {\n            try {\n                const {data} = await videoHttp.get<GetResponse<Video>>(id);\n                setVideo(data.data);\n                reset(data.data);\n            } catch (error) {\n                enqueueSnackbar('Não foi possível carregar as informações.', {variant: 'error'});\n            }\n        })();\n    }, [id, reset, enqueueSnackbar]);\n\n    function onSubmit(formData, event) {\n        const sendData = omit(formData, [...fileFields, 'cast_members', 'genres', 'categories']);\n        sendData['cast_members_id'] = formData['cast_members'].map(cast_member => cast_member.id);\n        sendData['categories_id'] = formData['categories'].map(category => category.id);\n        sendData['genres_id'] = formData['genres'].map(genre => genre.id);\n\n        (async () => {\n            try {\n                const {data} = !video\n                    ? await videoHttp.create(sendData)\n                    : await videoHttp.update(video.id, {...sendData, _method: 'PUT'}, {http: {usePost: true}});\n                enqueueSnackbar('Vídeo salvo com sucesso.', {variant: 'success'});\n\n                uploadFiles(data.data);\n                id && resetForm(video);\n                setTimeout(() => {\n                    event\n                        ? id\n                        ? history.replace(`/videos/${data.data.id}/edit`)\n                        : history.push(`/videos/${data.data.id}/edit`)\n                        : history.push('/videos');\n                });\n            } catch (error) {\n                console.log(error);\n                enqueueSnackbar('Não foi possível salvar o vídeo.', {variant: 'error'});\n            }\n        })();\n    }\n\n    function uploadFiles(video) {\n        const files: FileInfo[] = fileFields\n            .filter(fileField => getValues()[fileField] instanceof File)\n            .map(fileField => ({fileField, file: getValues()[fileField] as File}));\n        if (!files.length) {\n            return;\n        }\n        dispatch(Creators.addUpload({video, files}));\n        enqueueSnackbar('', {\n            key: 'snackbar-upload',\n            persist: true,\n            anchorOrigin: {\n                vertical: 'bottom',\n                horizontal: 'right'\n            },\n            content: (key, message) => {\n                const id = key as any;\n                return <SnackbarUpload id={id}/>;\n            }\n        });\n    }\n\n    return (\n        <DefaultForm GridItemProps={{xs: 12}} onSubmit={handleSubmit(onSubmit)}>\n            <Grid container spacing={5}>\n                <Grid item xs={12} md={6}>\n                    <TextField\n                        name=\"title\"\n                        label=\"Título\"\n                        fullWidth\n                        variant=\"outlined\"\n                        inputRef={register}\n                        disabled={loading}\n                        error={errors.title !== undefined}\n                        helperText={errors.title && errors.title.message}\n                        InputLabelProps={{shrink: true}}\n                    />\n                    <TextField\n                        name=\"description\"\n                        label=\"Sinopse\"\n                        fullWidth\n                        variant=\"outlined\"\n                        multiline\n                        rows={4}\n                        margin=\"normal\"\n                        inputRef={register}\n                        disabled={loading}\n                        error={errors.description !== undefined}\n                        helperText={errors.description && errors.description.message}\n                        InputLabelProps={{shrink: true}}\n                    />\n                    <Grid container spacing={1}>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"year_launched\"\n                                label=\"Ano de lançamento\"\n                                type=\"number\"\n                                fullWidth\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                inputRef={register}\n                                disabled={loading}\n                                error={errors.year_launched !== undefined}\n                                helperText={errors.year_launched && errors.year_launched.message}\n                                InputLabelProps={{shrink: true}}\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"duration\"\n                                label=\"Duração\"\n                                type=\"number\"\n                                fullWidth\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                inputRef={register}\n                                disabled={loading}\n                                error={errors.duration !== undefined}\n                                helperText={errors.duration && errors.duration.message}\n                                InputLabelProps={{shrink: true}}\n                            />\n                        </Grid>\n                    </Grid>\n                    <CastMemberField\n                        ref={castMemberRef}\n                        castMembers={watch('cast_members')}\n                        setCastMembers={(value) => setValue('cast_members', value, true)}\n                        error={errors.cast_members}\n                        disabled={loading}\n                    />\n                    <Grid container spacing={1}>\n                        <Grid item xs={12} md={6}>\n                            <GenreField\n                                ref={genreRef}\n                                genres={watch('genres')}\n                                setGenres={(value) => setValue('genres', value, true)}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value, true)}\n                                error={errors.genres}\n                                disabled={loading}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <CategoryField\n                                ref={categoryRef}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories', value, true)}\n                                genres={watch('genres')}\n                                error={errors.categories}\n                                disabled={loading}\n                            />\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <RatingField\n                        value={watch('rating')}\n                        setValue={(value) => setValue('rating', value, true)}\n                        error={errors.rating}\n                        disabled={loading}\n                        FormControlProps={{\n                            margin: isGreaterMd ? 'none' : 'normal',\n                        }}\n                    />\n                    <br/>\n                    <Card variant=\"outlined\" className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Imagens\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['thumb_file']}\n                                label=\"Thumb\"\n                                accept=\"image/*\"\n                                setValue={(value) => setValue('thumb_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['banner_file']}\n                                label=\"Banner\"\n                                accept=\"image/*\"\n                                setValue={(value) => setValue('banner_file', value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card variant=\"outlined\" className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Vídeos\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['trailer_file']}\n                                label=\"Trailer\"\n                                accept=\"video/mp4\"\n                                setValue={(value) => setValue('trailer_file', value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['video_file']}\n                                label=\"Principal\"\n                                accept=\"video/mp4\"\n                                setValue={(value) => setValue('video_file', value)}\n                            />\n                        </CardContent>\n                    </Card>\n\n                    <Card variant=\"outlined\" className={classes.cardOpened}>\n                        <CardContent className={classes.cardContentOpened}>\n                            <FormControlLabel\n                                disabled={loading}\n                                control={\n                                    <Checkbox\n                                        name=\"opened\"\n                                        color=\"primary\"\n                                        onChange={() => setValue('opened', !getValues().opened)}\n                                        checked={watch('opened')}\n                                    />\n                                }\n                                label={\n                                    <Typography color=\"primary\" variant=\"subtitle2\">\n                                        Quero que este conteúdo aparece na seção lançamentos.\n                                    </Typography>\n                                }\n                                labelPlacement=\"end\"\n                            />\n                        </CardContent>\n                    </Card>\n                    <br/>\n                </Grid>\n            </Grid>\n            <SubmitActions\n                disabledButtons={loading}\n                handleSave={() => {\n                    triggerValidation().then((isValid) => isValid && onSubmit(getValues(), null));\n                }}\n            />\n        </DefaultForm>\n    );\n};\n\nexport default Form;","import * as React from 'react';\nimport { useParams } from 'react-router';\nimport { Page } from '../../components/Page';\nimport Form from './Form';\n\nconst PageForm: React.FC = () => {\n  const { id } = useParams();\n\n  return (\n    <Page title={!id ? 'Criar vídeo' : 'Editar vídeo'}>\n      <Form />\n    </Page>\n  );\n};\n\nexport default PageForm;\n","import * as React from 'react';\nimport {useState, useEffect} from 'react';\nimport {makeStyles, Theme, Fade, Divider, IconButton} from '@material-ui/core';\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport {Link} from 'react-router-dom';\nimport {Upload, FileUpload} from '../../store/upload/types';\nimport {useDispatch} from 'react-redux';\nimport {Creators} from '../../store/upload';\nimport {hasError, isFinished, isUploadType} from '../../store/upload/getters';\nimport {useDebounce} from 'use-debounce';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        successIcon: {\n            color: theme.palette.success.main,\n            marginLeft: theme.spacing(1)\n        },\n        errorIcon: {\n            color: theme.palette.error.main,\n            marginLeft: theme.spacing(1)\n        },\n        divider: {\n            height: '20px',\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1)\n        }\n    });\n});\n\ninterface UploadActionProps {\n    uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const classes = useStyles();\n    const {uploadOrFile} = props;\n    const dispatch = useDispatch();\n    const error = hasError(uploadOrFile);\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 1500);\n    const videoId = (uploadOrFile as any).video ? (uploadOrFile as any).video.id : \"\";\n    const activeActions = isUploadType(uploadOrFile);\n\n    useEffect(() => {\n        setShow(isFinished(uploadOrFile));\n    }, [uploadOrFile]);\n\n    return (\n        debouncedShow ? (\n            <Fade in={true} timeout={{enter: 1000}}>\n                <>\n                    {\n                        uploadOrFile.progress === 1 &&\n                        !error &&\n                        <CheckCircleIcon className={classes.successIcon}/>\n                    }\n                    {error && <ErrorIcon className={classes.errorIcon}/>}\n                    {activeActions && (\n                        <>\n                            <Divider className={classes.divider} orientation=\"vertical\"/>\n                            <IconButton\n                                onClick={() => dispatch(Creators.removeUpload({id: videoId}))}\n                            >\n                                <DeleteIcon color=\"primary\"/>\n                            </IconButton>\n                            <IconButton\n                                component={Link}\n                                to={`/videos/${videoId}/edit`}\n                            >\n                                <EditIcon color=\"primary\"/>\n                            </IconButton>\n                        </>\n                    )}\n\n                </>\n            </Fade>\n        ) : null\n    );\n}\n\nexport default UploadAction;","import * as React from 'react';\nimport {makeStyles, Theme, ListItem, Grid, Typography} from '@material-ui/core';\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport UploadProgress from '../../components/UploadProgress';\nimport UploadAction from \"./UploadAction\";\nimport {Upload, FileUpload} from '../../store/upload/types';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        icon: {\n            color: theme.palette.error.main,\n            minWidth: '40px'\n        },\n        gridTitle: {\n            display: 'flex',\n            color: '#999999'\n        }\n    });\n});\n\ninterface UploadItemProps {\n    uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const classes = useStyles();\n    const {uploadOrFile} = props;\n\n    function makeIcon() {\n        if (true) {\n            return <MovieIcon className={classes.icon}/>;\n        }\n        return <ImageIcon className={classes.icon}/>;\n    }\n\n    return (\n        <ListItem>\n            <Grid container alignItems=\"center\">\n                <Grid\n                    className={classes.gridTitle}\n                    item\n                    xs={12}\n                    md={9}\n                >\n                    {makeIcon()}\n                    <Typography color=\"inherit\">\n                        {props.children}\n                    </Typography>\n                </Grid>\n                <Grid item xs={12} md={3}>\n                    <Grid\n                        container\n                        direction=\"row\"\n                        alignItems=\"center\"\n                        justify=\"flex-end\"\n                    >\n                        <UploadProgress size={48} uploadOrFile={uploadOrFile}/>\n                        <UploadAction uploadOrFile={uploadOrFile}/>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    );\n}\n\nexport default UploadItem;","import * as React from 'react';\nimport {\n    makeStyles,\n    Theme,\n    Card,\n    CardContent,\n    ExpansionPanel,\n    ExpansionPanelSummary,\n    Typography,\n    ExpansionPanelDetails,\n    Grid,\n    List,\n    Divider\n} from '@material-ui/core';\nimport UploadItem from \"./UploadItem\";\nimport {Page} from '../../components/Page';\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport {useSelector} from 'react-redux';\nimport {UploadModule, Upload} from '../../store/upload/types';\nimport {VideoFileFieldsMap} from '../../util/models';\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        panelSummary: {\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText\n        },\n        expendedIcon: {\n            color: theme.palette.primary.contrastText\n        }\n    });\n});\n\n\nconst Uploads = () => {\n    const classes = useStyles();\n    const uploads = useSelector<UploadModule, Upload[]>((state) => state.upload.uploads);\n\n    return (\n        <Page title=\"Uploads\">\n            {\n                uploads.map((upload, key) => (\n                    <Card elevation={5} key={key}>\n                        <CardContent>\n                            <UploadItem uploadOrFile={upload}>\n                                {upload.video.title}\n                            </UploadItem>\n                            <ExpansionPanel style={{margin: 0}}>\n                                <ExpansionPanelSummary\n                                    className={classes.panelSummary}\n                                    expandIcon={<ExpandMoreIcon className={classes.expendedIcon}/>}\n                                >\n                                    <Typography>Ver detalhes</Typography>\n                                </ExpansionPanelSummary>\n                                <ExpansionPanelDetails style={{padding: '0px'}}>\n                                    <Grid item xs={12}>\n                                        {\n                                            upload.files.map((file, key) => (\n                                                <React.Fragment key={key}>\n                                                    <List dense={true} style={{padding: '0px'}}>\n                                                        <Divider/>\n                                                        <UploadItem uploadOrFile={file}>\n                                                            {`${VideoFileFieldsMap[file.fileField]} - ${file.filename}`}\n                                                        </UploadItem>\n                                                    </List>\n                                                </React.Fragment>\n                                            ))\n                                        }\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </CardContent>\n                    </Card>\n                ))\n            }\n        </Page>\n    );\n}\n\nexport default Uploads;","import {RouteProps} from 'react-router-dom';\nimport Dashboard from \"../pages/Dashboard\";\nimport CategoryList from \"../pages/category/PageList\";\nimport CategoryForm from \"../pages/category/PageForm\";\nimport GenreList from \"../pages/genre/PageList\";\nimport GenreForm from \"../pages/genre/PageForm\";\nimport CastMembersList from \"../pages/cast-member/PageList\";\nimport CastMembersForm from \"../pages/cast-member/PageForm\";\nimport VideoList from \"../pages/video/PageList\";\nimport VideoForm from \"../pages/video/PageForm\";\nimport Uploads from \"../pages/uploads\";\n\nexport interface AppRouteProps extends RouteProps {\n    name: string;\n    label: string;\n}\n\nconst routes: AppRouteProps[] = [\n    {\n        name: 'dashboard',\n        label: 'Dashboard',\n        path: '/',\n        component: Dashboard,\n        exact: true\n    },\n    {\n        name: 'categories.list',\n        label: 'Listar Categorias',\n        path: '/categories',\n        component: CategoryList,\n        exact: true\n    },\n    {\n        name: 'categories.create',\n        label: 'Cadastrar Categoria',\n        path: '/categories/create',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'categories.edit',\n        label: 'Editar Categoria',\n        path: '/categories/:id/edit',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'genres.list',\n        label: 'Listar Gêneros',\n        path: '/genres',\n        component: GenreList,\n        exact: true\n    },\n    {\n        name: 'genres.create',\n        label: 'Cadastrar Gênero',\n        path: '/genres/create',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'genres.edit',\n        label: 'Editar Gênero',\n        path: '/genres/:id/edit',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.list',\n        label: 'Listar Membros do Elenco',\n        path: '/cast-members',\n        component: CastMembersList,\n        exact: true\n    },\n    {\n        name: 'cast_members.create',\n        label: 'Cadastrar Membros do Elenco',\n        path: '/cast-members/create',\n        component: CastMembersForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.edit',\n        label: 'Editar Membros do Elenco',\n        path: '/cast-members/:id/edit',\n        component: CastMembersForm,\n        exact: true\n    },\n    {\n        name: 'videos.list',\n        label: 'Listar vídeos',\n        path: '/videos',\n        component: VideoList,\n        exact: true,\n    },\n    {\n        name: 'videos.create',\n        label: 'Criar vídeo',\n        path: '/videos/create',\n        component: VideoForm,\n        exact: true,\n    },\n    {\n        name: 'videos.edit',\n        label: 'Editar vídeo',\n        path: '/videos/:id/edit',\n        component: VideoForm,\n        exact: true,\n    },\n    {\n        name: 'uploads.list',\n        label: 'Uploads',\n        path: '/uploads',\n        component: Uploads,\n        exact: true\n    }\n];\n\nexport default routes;","import * as React from 'react';\nimport {\n    IconButton,\n    Menu as MuiMenu,\n    MenuItem\n} from \"@material-ui/core\";\nimport MenuIcon from '@material-ui/icons/Menu';\nimport routes, {AppRouteProps} from \"../../routes\";\nimport {Link} from \"react-router-dom\";\n\nconst listRoutes = {\n    'dashboard': 'Dashboard',\n    'categories.list': 'Categorias',\n    'genres.list': 'Gêneros',\n    'cast_members.list': 'Membros do Elenco',\n    'videos.list': 'Vídeos',\n    'uploads.list': 'Uploads'\n};\nconst menuRoutes = routes.filter(route => Object.keys(listRoutes).includes(route.name));\n\nexport const Menu = () => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n\n    const handleOpen = (event: any) => setAnchorEl(event.currentTarget);\n    const handleClose = () => setAnchorEl(null);\n\n    return (\n        <React.Fragment>\n            <IconButton\n                edge=\"start\"\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleOpen}\n            >\n                <MenuIcon/>\n            </IconButton>\n            <MuiMenu\n                id=\"menu-appbar\"\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{vertical: 'bottom', horizontal: 'center'}}\n                transformOrigin={{vertical: 'top', horizontal: 'center'}}\n                getContentAnchorEl={null}\n            >\n                {\n                    Object.keys(listRoutes).map(\n                        (routeName, key) => {\n                            const route = menuRoutes.find(route => route.name === routeName) as AppRouteProps;\n                            return (\n                                <MenuItem\n                                    key={key} component={Link} to={route.path as string}\n                                    onClick={handleClose}\n                                >\n                                    {listRoutes[routeName]}\n                                </MenuItem>\n                            )\n                        }\n                    )\n                }\n            </MuiMenu>\n        </React.Fragment>\n    );\n};","import * as React from 'react';\nimport {AppBar, makeStyles, Button, Toolbar, Typography, Theme} from \"@material-ui/core\";\nimport logo from '../../static/img/logo.png';\nimport {Menu} from \"./Menu\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    toolbar: {\n        backgroundColor: '#000000',\n    },\n    title: {\n        flexGrow: 1,\n        textAlign: 'center'\n    },\n    logo: {\n        width: 100,\n        [theme.breakpoints.up('sm')]: {\n            width: 170\n        }\n    }\n}));\n\nexport const Navbar: React.FC = () => {\n    const classes = useStyles();\n    return (\n        <AppBar>\n            <Toolbar className={classes.toolbar}>\n                <Menu />\n                <Typography className={classes.title}>\n                    <img src={logo} alt=\"CodeFlix\" className={classes.logo}/>\n                </Typography>\n                <Button color=\"inherit\">Login</Button>\n            </Toolbar>\n        </AppBar>\n    );\n};","import * as React from 'react';\nimport {Switch, Route} from \"react-router-dom\";\nimport routes from './index';\n\nconst AppRouter = () => {\n    return (\n        <Switch>\n            {\n                routes.map(\n                    (route, key) => (\n                        <Route\n                            key={key}\n                            path={route.path}\n                            component={route.component}\n                            exact={route.exact === true}\n                        />\n                    )\n                )\n            }\n        </Switch>\n    );\n};\n\nexport default AppRouter;","import React from 'react';\nimport {SnackbarProvider as NotistackProvider, SnackbarProviderProps} from 'notistack';\nimport {IconButton} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nexport const SnackbarProvider = ({children, ...rest}) => {\n    let snackbarProviderRef;\n    const defaultProps: SnackbarProviderProps = {\n        autoHideDuration: 3000,\n        maxSnack: 3,\n        anchorOrigin: {\n            horizontal: 'right',\n            vertical: 'top',\n        },\n        preventDuplicate: true,\n        ref: (el) => {\n            snackbarProviderRef = el;\n        },\n        action: (key) => (\n            <IconButton\n                color=\"inherit\"\n                style={{fontSize: 20}}\n                onClick={() => snackbarProviderRef.closeSnackbar(key)}\n            >\n                <CloseIcon/>\n            </IconButton>\n        ),\n    };\n\n    const newProps = {...defaultProps, ...rest};\n\n    return <NotistackProvider {...newProps}>{children}</NotistackProvider>;\n};","import React from 'react';\nimport {makeStyles, Theme, createStyles} from '@material-ui/core/styles';\nimport Link, {LinkProps} from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport {Route} from 'react-router';\nimport {Link as RouterLink} from 'react-router-dom';\nimport {Location} from 'history';\nimport routes from \"../../routes\";\nimport RouteParser from 'route-parser';\nimport {Box, Container} from \"@material-ui/core\";\n\nconst breadcrumbNameMap: { [key: string]: string } = {};\nroutes.forEach(route => breadcrumbNameMap[route.path as string] = route.label);\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            display: 'flex',\n            flexDirection: 'column',\n            width: 360,\n        },\n        linkRouter: {\n            color: theme.palette.secondary.main,\n            \"&:focus, &:active\": {\n                color: theme.palette.secondary.main,\n            },\n            \"&:hover\": {\n                color: theme.palette.secondary.dark,\n            },\n        },\n    }),\n);\n\ninterface LinkRouterProps extends LinkProps {\n    to: string;\n    replace?: boolean;\n}\n\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink as any}/>;\n\nexport default function Breadcrumbs() {\n    const classes = useStyles();\n\n    function makeBreadcrumb(location: Location) {\n        const pathnames = location.pathname.split('/').filter((x) => x);\n        pathnames.unshift('/');\n        return (\n            <MuiBreadcrumbs aria-label=\"breadcrumb\">\n                {\n                    pathnames.map((value, index) => {\n                        const last = index === pathnames.length - 1;\n                        const to = `${pathnames.slice(0, index + 1).join('/').replace('//', '/')}`;\n                        const route = Object.keys(breadcrumbNameMap).find(path => new RouteParser(path).match(to));\n                        if (route === undefined)\n                            return false;\n                        return last ? (\n                            <Typography color=\"textPrimary\" key={to}>\n                                {breadcrumbNameMap[route]}\n                            </Typography>\n                        ) : (\n                            <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRouter}>\n                                {breadcrumbNameMap[route]}\n                            </LinkRouter>\n                        );\n                    })\n                }\n            </MuiBreadcrumbs>\n        );\n    }\n\n    return (\n        <Container>\n            <Box paddingTop={2} paddingBottom={1}>\n                <Route>\n                    {\n                        ({location}: { location: Location }) => makeBreadcrumb(location)\n                    }\n                </Route>\n            </Box>\n        </Container>\n    );\n}\n","import * as React from 'react';\nimport {LinearProgress, MuiThemeProvider, Theme, Fade} from \"@material-ui/core\";\nimport LoadingContext from \"../Loading/LoadigContext\";\n\nfunction makeLocalTheme(theme: Theme): Theme {\n    return {\n        ...theme,\n        palette: {\n            ...theme.palette,\n            primary: theme.palette.error,\n            type: 'dark'\n        }\n    }\n}\n\nconst Spinner = () => {\n    const loading = React.useContext(LoadingContext);\n    return (\n        <MuiThemeProvider theme={makeLocalTheme}>\n            <Fade in={loading}>\n                <LinearProgress\n                    color=\"primary\"\n                    style={{\n                        position: 'fixed',\n                        width: '100%',\n                        zIndex: 999999\n                    }}\n                />\n            </Fade>\n        </MuiThemeProvider>\n    )\n}\n\nexport default Spinner;","import * as React from 'react';\nimport {useState, useMemo, useEffect} from 'react';\nimport LoadingContext from './LoadigContext';\nimport {\n    addGlobalRequestInterceptor,\n    addGlobalResponseInterceptor,\n    removeGlobalRequestInterceptor,\n    removeGlobalResponseInterceptor\n} from '../../util/http';\n\nexport const LoadingProvider = (props) => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [countRequest, setCountRequest] = useState(0);\n\n    useMemo(() => {\n        let isSubscribed = true;\n        const requestIds = addGlobalRequestInterceptor((config) => {\n            if (isSubscribed && !config.headers.hasOwnProperty('x-ignore-loading')) {\n                setLoading(true);\n                setCountRequest((prevCountRequest) => prevCountRequest + 1);\n            }\n            return config;\n        });\n\n        const responseIds = addGlobalResponseInterceptor((response) => {\n            if (isSubscribed && !response.config.headers.hasOwnProperty('x-ignore-loading')) {\n                decrementCountRequest();\n            }\n            return response;\n        }, (error) => {\n            if (isSubscribed && !error.config.headers.hasOwnProperty('x-ignore-loading')) {\n                decrementCountRequest();\n            }\n            return Promise.reject(error);\n        });\n\n        return () => {\n            isSubscribed = false;\n            removeGlobalRequestInterceptor(requestIds);\n            removeGlobalResponseInterceptor(responseIds);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (!countRequest) {\n            setLoading(false);\n        }\n    }, [countRequest]);\n\n    function decrementCountRequest() {\n        setCountRequest(\n            (prevCountRequest) =>\n                prevCountRequest <= 0 ? 0 : prevCountRequest - 1\n        );\n    }\n\n    return (\n        <LoadingContext.Provider value={loading}>\n            {props.children}\n        </LoadingContext.Provider>\n    )\n}","import React from 'react';\nimport './App.css';\nimport {Navbar} from \"./components/Navbar\";\nimport {Box, CssBaseline, MuiThemeProvider} from \"@material-ui/core\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport AppRouter from \"./routes/AppRouter\";\nimport theme from \"./theme\";\nimport {SnackbarProvider} from \"./components/SnackbarProvider\";\nimport Breadcrumbs from \"./components/Breadcrumbs\";\nimport Spinner from \"./components/Spinner\";\nimport {LoadingProvider} from \"./components/Loading/LoadingProvider\";\n\nfunction App() {\n    return (\n        <React.Fragment>\n            <LoadingProvider>\n                <MuiThemeProvider theme={theme}>\n                    <SnackbarProvider>\n                        <CssBaseline/>\n                        <BrowserRouter basename=\"/admin\">\n                            <Spinner/>\n                            <Navbar/>\n                            <Box paddingTop={'70px'}>\n                                <Breadcrumbs/>\n                                <AppRouter/>\n                            </Box>\n                        </BrowserRouter>\n                    </SnackbarProvider>\n                </MuiThemeProvider>\n            </LoadingProvider>\n        </React.Fragment>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {Types, Creators} from \"./index\";\nimport {eventChannel, END} from \"redux-saga\";\nimport {actionChannel, take, call, put} from \"redux-saga/effects\";\nimport {AddUploadAction, FileInfo} from \"./types\";\nimport {Video} from \"../../util/models\";\nimport videoHttp from \"../../util/http/video-http\";\n\nexport function* uploadWatcherSaga() {\n    const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n\n    while (true) {\n        const {payload}: AddUploadAction = yield take(newFilesChannel);\n        for (const fileInfo of payload.files) {\n            try {\n                const response = yield call(uploadFile, {video: payload.video, fileInfo: fileInfo});\n                console.log(response);\n            } catch (e) {\n                console.log(e);\n            }\n\n        }\n\n        console.log(payload);\n    }\n}\n\nfunction* uploadFile({video, fileInfo}: { video: Video, fileInfo: FileInfo }) {\n    const channel = yield call(sendUpload, {id: video.id, fileInfo});\n\n    while (true) {\n        try {\n            const {progress, response} = yield take(channel);\n            if (response) {\n                return response;\n            }\n            yield put(Creators.updateProgress({\n                video,\n                fileField: fileInfo.fileField,\n                progress\n            }));\n        } catch (e) {\n            yield put(Creators.setUploadError({\n                video,\n                fileField: fileInfo.fileField,\n                error: e\n            }));\n            throw e;\n        }\n    }\n}\n\nfunction sendUpload({id, fileInfo}: { id: string, fileInfo: FileInfo }) {\n    return eventChannel(emitter => {\n        videoHttp.partialUpdate(id, {\n            _method: 'PATCH',\n            [fileInfo.fileField]: fileInfo.file\n        }, {\n            http: {\n                usePost: true\n            },\n            config: {\n                headers: {\n                    \"x-ignore-loading\": true\n                },\n                onUploadProgress(progressEvent: ProgressEvent) {\n                    if (progressEvent.lengthComputable) {\n                        const progress = progressEvent.loaded / progressEvent.total\n                        emitter({progress})\n                    }\n                }\n            }\n        })\n            .then(response => emitter({response}))\n            .catch(error => emitter(error))\n            .finally(() => emitter(END));\n\n        const unsubscribe = () => {\n        };\n        return unsubscribe;\n    });\n}","import {all} from \"redux-saga/effects\";\nimport {uploadWatcherSaga} from \"./upload/sagas\";\n\nexport default function* rootSaga() {\n    yield all([\n        uploadWatcherSaga()\n    ]);\n}","import {createStore, applyMiddleware, combineReducers} from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport upload from \"./upload\";\nimport rootSaga from \"./root-saga\";\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n    combineReducers({\n        upload\n    }),\n    applyMiddleware(sagaMiddleware)\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux'\nimport store from './store';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}